Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2021-12-08T20:32:19+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/b4ffb72470dfd87c99a518348cffba8f06d65819

Enable warnings TTW (like a DeprecationWarning)

Files changed:
A news/3376.feature
M Products/CMFPlone/__init__.py

b'diff --git a/Products/CMFPlone/__init__.py b/Products/CMFPlone/__init__.py\nindex 1a53d1856c..e54581a80d 100644\n--- a/Products/CMFPlone/__init__.py\n+++ b/Products/CMFPlone/__init__.py\n@@ -112,6 +112,9 @@ def initialize(context):\n     # Make cgi.escape available TTW\n     ModuleSecurityInfo(\'cgi\').declarePublic(\'escape\')\n \n+    # Make warnings available TTW\n+    ModuleSecurityInfo(\'warnings\').declarePublic(\'warn\')\n+\n     # Apply monkey patches\n     from Products.CMFPlone import patches  # noqa\n \ndiff --git a/news/3376.feature b/news/3376.feature\nnew file mode 100644\nindex 0000000000..ff91d31ae5\n--- /dev/null\n+++ b/news/3376.feature\n@@ -0,0 +1,2 @@\n+Allow ``from warnings import warn`` and ``warn("message", DeprecationWarning)`` TTW, like in Python Scripts.\n+[jensens]\n\\ No newline at end of file\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2021-12-08T23:02:51+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/4a046bdd2cf55fe6b0055c4935a8196c23a42431

Merge pull request #3376 from plone/ttw-warnings

Enable warnings TTW (like a DeprecationWarning)

Files changed:
A news/3376.feature
M Products/CMFPlone/__init__.py

b'diff --git a/Products/CMFPlone/__init__.py b/Products/CMFPlone/__init__.py\nindex 1a53d1856c..e54581a80d 100644\n--- a/Products/CMFPlone/__init__.py\n+++ b/Products/CMFPlone/__init__.py\n@@ -112,6 +112,9 @@ def initialize(context):\n     # Make cgi.escape available TTW\n     ModuleSecurityInfo(\'cgi\').declarePublic(\'escape\')\n \n+    # Make warnings available TTW\n+    ModuleSecurityInfo(\'warnings\').declarePublic(\'warn\')\n+\n     # Apply monkey patches\n     from Products.CMFPlone import patches  # noqa\n \ndiff --git a/news/3376.feature b/news/3376.feature\nnew file mode 100644\nindex 0000000000..ff91d31ae5\n--- /dev/null\n+++ b/news/3376.feature\n@@ -0,0 +1,2 @@\n+Allow ``from warnings import warn`` and ``warn("message", DeprecationWarning)`` TTW, like in Python Scripts.\n+[jensens]\n\\ No newline at end of file\n'

