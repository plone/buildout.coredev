Repository: Products.CMFPlone


Branch: refs/heads/6.0.x
Date: 2024-02-19T09:54:17-03:00
Author: wesleybl (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/db08b12cd9f3a8ba56718d1bf1708dac13afbfc0

Fix robot test "When page is linked show warning"

Wait for the list of objects to stop moving before clicking on the
desired object

Fix error:

Element 'css=.breach-container .breach-item' did not appear in 7
seconds.

Files changed:
A news/3904.internal
M Products/CMFPlone/tests/robot/test_linkintegrity.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_linkintegrity.robot b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\nindex b798d6a824..b0c6fa4dbb 100644\n--- a/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n+++ b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n@@ -77,15 +77,14 @@ a link in rich text\n   Click Button  css=button[aria-label="Insert/edit link"]\n \n   Given patterns are loaded\n-  # Somehow this does not work:\n-  # Wait For Then Click Element  css=.pat-relateditems .select2-input.select2-default\n   Wait until element is visible  css=.pat-relateditems .select2-input.select2-default\n   Click Element  css=.pat-relateditems .select2-input.select2-default\n   Wait until element is visible  css=.pat-relateditems-result.one-level-up a.pat-relateditems-result-browse\n   Click Element  css=.pat-relateditems-result.one-level-up a.pat-relateditems-result-browse\n   Wait until element is visible  xpath=(//span[contains(., \'Foo\')])\n+  Sleep  2s\n   Click Element  xpath=(//span[contains(., \'Foo\')])\n-  Wait until page contains  Foo\n+  Wait until element is visible  css=.pat-relateditems-item-title\n   Wait For Then Click Element  css=.modal-footer .btn-primary\n   Wait For Then Click Element  css=#form-buttons-save\n \ndiff --git a/news/3904.internal b/news/3904.internal\nnew file mode 100644\nindex 0000000000..2c3f8419dc\n--- /dev/null\n+++ b/news/3904.internal\n@@ -0,0 +1 @@\n+Fix robot test "When page is linked show warning". @wesleybl\n'

Repository: Products.CMFPlone


Branch: refs/heads/6.0.x
Date: 2024-02-19T18:55:08+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/bed0c022411966bbbd6ac3d7f8e9bcdb181a4b6f

Merge pull request #3904 from plone/linkintegrity_robot

Fix robot test "When page is linked show warning"

Files changed:
A news/3904.internal
M Products/CMFPlone/tests/robot/test_linkintegrity.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_linkintegrity.robot b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\nindex b798d6a824..b0c6fa4dbb 100644\n--- a/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n+++ b/Products/CMFPlone/tests/robot/test_linkintegrity.robot\n@@ -77,15 +77,14 @@ a link in rich text\n   Click Button  css=button[aria-label="Insert/edit link"]\n \n   Given patterns are loaded\n-  # Somehow this does not work:\n-  # Wait For Then Click Element  css=.pat-relateditems .select2-input.select2-default\n   Wait until element is visible  css=.pat-relateditems .select2-input.select2-default\n   Click Element  css=.pat-relateditems .select2-input.select2-default\n   Wait until element is visible  css=.pat-relateditems-result.one-level-up a.pat-relateditems-result-browse\n   Click Element  css=.pat-relateditems-result.one-level-up a.pat-relateditems-result-browse\n   Wait until element is visible  xpath=(//span[contains(., \'Foo\')])\n+  Sleep  2s\n   Click Element  xpath=(//span[contains(., \'Foo\')])\n-  Wait until page contains  Foo\n+  Wait until element is visible  css=.pat-relateditems-item-title\n   Wait For Then Click Element  css=.modal-footer .btn-primary\n   Wait For Then Click Element  css=#form-buttons-save\n \ndiff --git a/news/3904.internal b/news/3904.internal\nnew file mode 100644\nindex 0000000000..2c3f8419dc\n--- /dev/null\n+++ b/news/3904.internal\n@@ -0,0 +1 @@\n+Fix robot test "When page is linked show warning". @wesleybl\n'

