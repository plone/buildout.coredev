Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2024-02-12T15:58:35+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.discussion/commit/20556633751e86b0af574e42d6d6d53228cf1cb6

Do not autofocus on the comments form.

Fixes https://github.com/plone/Products.CMFPlone/issues/3623

Files changed:
A news/3623.bugfix
M plone/app/discussion/browser/comments.py

b'diff --git a/news/3623.bugfix b/news/3623.bugfix\nnew file mode 100644\nindex 00000000..a96e236c\n--- /dev/null\n+++ b/news/3623.bugfix\n@@ -0,0 +1,2 @@\n+Do not autofocus on the comments form.\n+[maurits]\ndiff --git a/plone/app/discussion/browser/comments.py b/plone/app/discussion/browser/comments.py\nindex 272fdd64..0de2ab03 100644\n--- a/plone/app/discussion/browser/comments.py\n+++ b/plone/app/discussion/browser/comments.py\n@@ -75,6 +75,9 @@ class CommentForm(extensible.ExtensibleForm, form.Form):\n         "author_username",\n         "title",\n     )\n+    # We do not want the focus to be on this form when loading a page.\n+    # See https://github.com/plone/Products.CMFPlone/issues/3623\n+    enable_autofocus = False\n \n     def updateFields(self):\n         super().updateFields()\n'

Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2024-02-13T10:17:11+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.discussion/commit/9df91d8a4778814263c81742bad5272db83ef9f5

Merge pull request #223 from plone/maurits-no-autofocus

Do not autofocus on the comments form.

Files changed:
A news/3623.bugfix
M plone/app/discussion/browser/comments.py

b'diff --git a/news/3623.bugfix b/news/3623.bugfix\nnew file mode 100644\nindex 00000000..a96e236c\n--- /dev/null\n+++ b/news/3623.bugfix\n@@ -0,0 +1,2 @@\n+Do not autofocus on the comments form.\n+[maurits]\ndiff --git a/plone/app/discussion/browser/comments.py b/plone/app/discussion/browser/comments.py\nindex 272fdd64..0de2ab03 100644\n--- a/plone/app/discussion/browser/comments.py\n+++ b/plone/app/discussion/browser/comments.py\n@@ -75,6 +75,9 @@ class CommentForm(extensible.ExtensibleForm, form.Form):\n         "author_username",\n         "title",\n     )\n+    # We do not want the focus to be on this form when loading a page.\n+    # See https://github.com/plone/Products.CMFPlone/issues/3623\n+    enable_autofocus = False\n \n     def updateFields(self):\n         super().updateFields()\n'

