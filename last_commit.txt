Repository: Products.CMFPlone


Branch: refs/heads/5.2.x
Date: 2023-05-24T01:24:35+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/53b030385bc9f05d6713917dfdb5e3f22a16fa45

Fixed TinyMCE menubar settings when creating new Plone Site.

It contained "toolsview" instead of "tools" and "view" due to a missing comma.
Nothing goes wrong in Plone 5, but it causes those two menus to miss in Plone 6.
Fixes https://github.com/plone/Products.CMFPlone/issues/3785

Files changed:
A news/3785.bugfix
M Products/CMFPlone/interfaces/controlpanel.py

b'diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py\nindex 729858a84a..07b07326dc 100644\n--- a/Products/CMFPlone/interfaces/controlpanel.py\n+++ b/Products/CMFPlone/interfaces/controlpanel.py\n@@ -489,7 +489,7 @@ class ITinyMCEPluginSchema(Interface):\n         missing_value=[],\n         default=[\n             u\'edit\', u\'table\', u\'format\',\n-            u\'tools\' u\'view\', u\'insert\'])\n+            u\'tools\', u\'view\', u\'insert\'])\n \n     menu = schema.Text(\n         title=_(\'label_tinymce_menu\', \'Menu\'),\ndiff --git a/news/3785.bugfix b/news/3785.bugfix\nnew file mode 100644\nindex 0000000000..7d4f6efaef\n--- /dev/null\n+++ b/news/3785.bugfix\n@@ -0,0 +1,4 @@\n+Fixed TinyMCE menubar settings when creating new Plone Site.\n+It contained "toolsview" instead of "tools" and "view" due to a missing comma.\n+Nothing goes wrong in Plone 5, but it causes those two menus to miss in Plone 6.\n+[maurits]\n'

Repository: Products.CMFPlone


Branch: refs/heads/5.2.x
Date: 2023-05-24T09:06:27+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/44fc370582c25354c61f9ce0131130ea7f3d9b87

Merge pull request #3786 from plone/maurits-tinymce-menubar-issue-3785

Fixed TinyMCE menubar settings when creating new Plone Site.

Files changed:
A news/3785.bugfix
M Products/CMFPlone/interfaces/controlpanel.py

b'diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py\nindex 729858a84a..07b07326dc 100644\n--- a/Products/CMFPlone/interfaces/controlpanel.py\n+++ b/Products/CMFPlone/interfaces/controlpanel.py\n@@ -489,7 +489,7 @@ class ITinyMCEPluginSchema(Interface):\n         missing_value=[],\n         default=[\n             u\'edit\', u\'table\', u\'format\',\n-            u\'tools\' u\'view\', u\'insert\'])\n+            u\'tools\', u\'view\', u\'insert\'])\n \n     menu = schema.Text(\n         title=_(\'label_tinymce_menu\', \'Menu\'),\ndiff --git a/news/3785.bugfix b/news/3785.bugfix\nnew file mode 100644\nindex 0000000000..7d4f6efaef\n--- /dev/null\n+++ b/news/3785.bugfix\n@@ -0,0 +1,4 @@\n+Fixed TinyMCE menubar settings when creating new Plone Site.\n+It contained "toolsview" instead of "tools" and "view" due to a missing comma.\n+Nothing goes wrong in Plone 5, but it causes those two menus to miss in Plone 6.\n+[maurits]\n'

