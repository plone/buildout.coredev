Repository: plone.reload


Branch: refs/heads/master
Date: 2021-10-08T14:44:11+02:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.reload/commit/ce9f103740392621baeca01f2d094fa7aa133d5c

Fix a deprecation warning

Closes #16

Files changed:
M CHANGES.rst
M plone/reload/zcml.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 6d15e70..5518ab6 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,7 +14,7 @@ New features:\n \n Bug fixes:\n \n-- *add item here*\n+- Fix a deprecation warning [ale-rt]\n \n \n 3.0.1 (2020-04-22)\ndiff --git a/plone/reload/zcml.py b/plone/reload/zcml.py\nindex c2a7896..445353b 100644\n--- a/plone/reload/zcml.py\n+++ b/plone/reload/zcml.py\n@@ -1,7 +1,12 @@\n from zope.component import getGlobalSiteManager\n-from zope.site.hooks import setSite\n from zope.testing import cleanup\n \n+try:\n+    from zope.component.hooks import setSite\n+except ImportError:\n+    from zope.site.hooks import setSite\n+\n+\n # BBB: Zope 2.12\n try:\n     from Zope2.App import zcml\n'

Repository: plone.reload


Branch: refs/heads/master
Date: 2021-10-13T23:30:02+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.reload/commit/04cbd0c9ad64cb5bd78904c04422ab8f18e5800b

Merge branch 'master' into 16-fixed

Files changed:
M CHANGES.rst
M plone/reload/reload.pt

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex 5518ab6..b1afd15 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -16,6 +16,9 @@ Bug fixes:\n \n - Fix a deprecation warning [ale-rt]\n \n+- Fix missing doctype, add html lang, use html5 charset to reload page.\n+  [thet]\n+\n \n 3.0.1 (2020-04-22)\n ------------------\ndiff --git a/plone/reload/reload.pt b/plone/reload/reload.pt\nindex 343b5e9..215460f 100644\n--- a/plone/reload/reload.pt\n+++ b/plone/reload/reload.pt\n@@ -1,10 +1,9 @@\n-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"\n-    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n-<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"\n+<tal:doctype tal:replace="structure string:&lt;!DOCTYPE html&gt;" />\n+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"\n       xmlns:tal="http://xml.zope.org/namespaces/tal">\n <head>\n   <title>plone.reload</title>\n-  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n+  <meta charset="utf-8" />\n </head>\n <body>\n \n'

Repository: plone.reload


Branch: refs/heads/master
Date: 2021-10-15T10:12:48+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.reload/commit/9765a0c425b8f31e4690cb79039a6f66a7975bfc

Merge pull request #17 from plone/16-fixed

Fix a deprecation warning

Files changed:
M CHANGES.rst
M plone/reload/zcml.py

b'diff --git a/CHANGES.rst b/CHANGES.rst\nindex e8a85a8..b1afd15 100644\n--- a/CHANGES.rst\n+++ b/CHANGES.rst\n@@ -14,6 +14,8 @@ New features:\n \n Bug fixes:\n \n+- Fix a deprecation warning [ale-rt]\n+\n - Fix missing doctype, add html lang, use html5 charset to reload page.\n   [thet]\n \ndiff --git a/plone/reload/zcml.py b/plone/reload/zcml.py\nindex c2a7896..445353b 100644\n--- a/plone/reload/zcml.py\n+++ b/plone/reload/zcml.py\n@@ -1,7 +1,12 @@\n from zope.component import getGlobalSiteManager\n-from zope.site.hooks import setSite\n from zope.testing import cleanup\n \n+try:\n+    from zope.component.hooks import setSite\n+except ImportError:\n+    from zope.site.hooks import setSite\n+\n+\n # BBB: Zope 2.12\n try:\n     from Zope2.App import zcml\n'

