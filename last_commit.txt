Repository: Products.CMFPlone


Branch: refs/heads/6.0.x
Date: 2023-05-24T08:50:36-07:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/e906f9e4f6959a8e2972473d2d171f5d11633d21

Fix password validation tests (#3784) (#3788)

* fix test

* update changelog

Co-authored-by: Thomas Schorr &lt;t_schorr@gmx.de&gt;

Files changed:
A news/3784.bugfix
M Products/CMFPlone/tests/testRegistrationTool.py

b'diff --git a/Products/CMFPlone/tests/testRegistrationTool.py b/Products/CMFPlone/tests/testRegistrationTool.py\nindex 2f68320bd2..87858eddbc 100644\n--- a/Products/CMFPlone/tests/testRegistrationTool.py\n+++ b/Products/CMFPlone/tests/testRegistrationTool.py\n@@ -134,13 +134,7 @@ def testTestPasswordValidityPolicy(self):\n         )\n         self.assertEqual(\n             self.registration.testPasswordValidity("abcd", confirm=None),\n-            "Your password must contain at least ${min_chars} characters.",\n-        )\n-        # Password validity is checked with an empty password\n-        # to get a nice help message to show for the input field.\n-        self.assertEqual(\n-            self.registration.testPasswordValidity("", confirm=None),\n-            "Minimum ${min_chars} characters.",\n+            "Your password must contain at least 8 characters.",\n         )\n \n     def testPasValidation(self):\n@@ -149,7 +143,7 @@ def testPasValidation(self):\n         )\n         self.assertEqual(\n             self.registration.pasValidation("password", "abcd"),\n-            "Your password must contain at least ${min_chars} characters.",\n+            "Your password must contain at least 8 characters.",\n         )\n \n     def testNewIdAllowed(self):\ndiff --git a/news/3784.bugfix b/news/3784.bugfix\nnew file mode 100644\nindex 0000000000..77bea46e6d\n--- /dev/null\n+++ b/news/3784.bugfix\n@@ -0,0 +1 @@\n+Fix password validation tests. [tschorr]\n'

