Repository: plone.app.z3cform


Branch: refs/heads/4.3.x
Date: 2024-03-26T17:19:38+01:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/a18e39aa5028682aea566632f5744a05ae18fe89

use label_css_class attribute from widget if available in checkbox_input &amp; radio_input

Files changed:
M plone/app/z3cform/templates/checkbox_input.pt
M plone/app/z3cform/templates/radio_input.pt

b'diff --git a/plone/app/z3cform/templates/checkbox_input.pt b/plone/app/z3cform/templates/checkbox_input.pt\nindex e3dd73b..f333ade 100644\n--- a/plone/app/z3cform/templates/checkbox_input.pt\n+++ b/plone/app/z3cform/templates/checkbox_input.pt\n@@ -97,7 +97,7 @@\n                onselect view/onselect;\n              "\n       />\n-      <label class="form-check-label"\n+      <label class="form-check-label ${python:getattr(view, \'label_css_class\', False)}"\n              for=""\n              tal:attributes="\n                for item/id;\ndiff --git a/plone/app/z3cform/templates/radio_input.pt b/plone/app/z3cform/templates/radio_input.pt\nindex a2582f7..58007a8 100644\n--- a/plone/app/z3cform/templates/radio_input.pt\n+++ b/plone/app/z3cform/templates/radio_input.pt\n@@ -8,7 +8,7 @@\n     <input class="form-check-input"\n            tal:replace="structure python:view.renderForValue(item[\'value\'])"\n     />\n-    <label class="form-check-label"\n+    <label class="form-check-label ${python:getattr(view, \'label_css_class\', False)}"\n            tal:content="item/label"\n            tal:attributes="\n              for item/id;\n'

Repository: plone.app.z3cform


Branch: refs/heads/4.3.x
Date: 2024-03-26T17:37:34+01:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/435724666b6134dd7ecf6062cacaf8c3f36de181

add changelog

Files changed:
A news/#201.feature

b'diff --git a/news/#201.feature b/news/#201.feature\nnew file mode 100644\nindex 00000000..fa34a513\n--- /dev/null\n+++ b/news/#201.feature\n@@ -0,0 +1,2 @@\n+Use label_css_class attribute from widget if available in checkbox_input & radio_input\n+[MrTango]\n'

Repository: plone.app.z3cform


Branch: refs/heads/4.3.x
Date: 2024-04-09T18:16:01+03:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/099def61aec7e45da3cee13e62083b24809c9efe

fix label_css_class expression

Files changed:
M plone/app/z3cform/templates/checkbox_input.pt
M plone/app/z3cform/templates/radio_input.pt

b'diff --git a/plone/app/z3cform/templates/checkbox_input.pt b/plone/app/z3cform/templates/checkbox_input.pt\nindex f333ade..6d976eb 100644\n--- a/plone/app/z3cform/templates/checkbox_input.pt\n+++ b/plone/app/z3cform/templates/checkbox_input.pt\n@@ -97,7 +97,7 @@\n                onselect view/onselect;\n              "\n       />\n-      <label class="form-check-label ${python:getattr(view, \'label_css_class\', False)}"\n+      <label class="form-check-label ${python:getattr(view, \'label_css_class\', False) or False}"\n              for=""\n              tal:attributes="\n                for item/id;\ndiff --git a/plone/app/z3cform/templates/radio_input.pt b/plone/app/z3cform/templates/radio_input.pt\nindex 58007a8..316d293 100644\n--- a/plone/app/z3cform/templates/radio_input.pt\n+++ b/plone/app/z3cform/templates/radio_input.pt\n@@ -8,7 +8,7 @@\n     <input class="form-check-input"\n            tal:replace="structure python:view.renderForValue(item[\'value\'])"\n     />\n-    <label class="form-check-label ${python:getattr(view, \'label_css_class\', False)}"\n+    <label class="form-check-label ${python:getattr(view, \'label_css_class\', False) or False}"\n            tal:content="item/label"\n            tal:attributes="\n              for item/id;\n'

Repository: plone.app.z3cform


Branch: refs/heads/4.3.x
Date: 2024-04-09T18:33:06+03:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/74c1b9730831eeeb75b85a827f613be904e278a5

fix wrapper_css_class and label_css_class expression to not add False strings

Files changed:
M plone/app/z3cform/templates/checkbox_input.pt
M plone/app/z3cform/templates/radio_input.pt
M plone/app/z3cform/templates/widget.pt

b'diff --git a/plone/app/z3cform/templates/checkbox_input.pt b/plone/app/z3cform/templates/checkbox_input.pt\nindex 6d976eb..d0fa6f4 100644\n--- a/plone/app/z3cform/templates/checkbox_input.pt\n+++ b/plone/app/z3cform/templates/checkbox_input.pt\n@@ -97,7 +97,7 @@\n                onselect view/onselect;\n              "\n       />\n-      <label class="form-check-label ${python:getattr(view, \'label_css_class\', False) or False}"\n+      <label class="form-check-label ${python:getattr(view, \'label_css_class\', \'\')}"\n              for=""\n              tal:attributes="\n                for item/id;\ndiff --git a/plone/app/z3cform/templates/radio_input.pt b/plone/app/z3cform/templates/radio_input.pt\nindex 316d293..d03a086 100644\n--- a/plone/app/z3cform/templates/radio_input.pt\n+++ b/plone/app/z3cform/templates/radio_input.pt\n@@ -8,7 +8,7 @@\n     <input class="form-check-input"\n            tal:replace="structure python:view.renderForValue(item[\'value\'])"\n     />\n-    <label class="form-check-label ${python:getattr(view, \'label_css_class\', False) or False}"\n+    <label class="form-check-label ${python:getattr(view, \'label_css_class\', \'\')}"\n            tal:content="item/label"\n            tal:attributes="\n              for item/id;\ndiff --git a/plone/app/z3cform/templates/widget.pt b/plone/app/z3cform/templates/widget.pt\nindex 873ebfe..c924845 100644\n--- a/plone/app/z3cform/templates/widget.pt\n+++ b/plone/app/z3cform/templates/widget.pt\n@@ -1,4 +1,4 @@\n-<div class="mb-3 field fieldname-${python:widget.name} widget-mode-${python:widget.mode}${error_class}${empty_class} ${python:getattr(widget, \'wrapper_css_class\', False) or False}"\n+<div class="mb-3 field fieldname-${python:widget.name} widget-mode-${python:widget.mode}${error_class}${empty_class} ${python: getattr(widget, \'wrapper_css_class\', \'\')}"\n      id="formfield-${python:widget.id}"\n      metal:define-macro="widget-wrapper"\n      data-fieldname="${widget/name}"\n'

Repository: plone.app.z3cform


Branch: refs/heads/4.3.x
Date: 2024-04-10T16:21:29+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.z3cform/commit/10750fa90d33a9ad7eced2ddafb689c3f941fc92

Merge pull request #201 from plone/4.3.x-label-css-class

use label_css_class attribute from widget if available in checkbox_input &amp; radio_input [4.3.x]

Files changed:
A news/#201.feature
M plone/app/z3cform/templates/checkbox_input.pt
M plone/app/z3cform/templates/radio_input.pt
M plone/app/z3cform/templates/widget.pt

b'diff --git a/news/#201.feature b/news/#201.feature\nnew file mode 100644\nindex 00000000..fa34a513\n--- /dev/null\n+++ b/news/#201.feature\n@@ -0,0 +1,2 @@\n+Use label_css_class attribute from widget if available in checkbox_input & radio_input\n+[MrTango]\ndiff --git a/plone/app/z3cform/templates/checkbox_input.pt b/plone/app/z3cform/templates/checkbox_input.pt\nindex e3dd73b1..d0fa6f40 100644\n--- a/plone/app/z3cform/templates/checkbox_input.pt\n+++ b/plone/app/z3cform/templates/checkbox_input.pt\n@@ -97,7 +97,7 @@\n                onselect view/onselect;\n              "\n       />\n-      <label class="form-check-label"\n+      <label class="form-check-label ${python:getattr(view, \'label_css_class\', \'\')}"\n              for=""\n              tal:attributes="\n                for item/id;\ndiff --git a/plone/app/z3cform/templates/radio_input.pt b/plone/app/z3cform/templates/radio_input.pt\nindex a2582f7a..d03a086b 100644\n--- a/plone/app/z3cform/templates/radio_input.pt\n+++ b/plone/app/z3cform/templates/radio_input.pt\n@@ -8,7 +8,7 @@\n     <input class="form-check-input"\n            tal:replace="structure python:view.renderForValue(item[\'value\'])"\n     />\n-    <label class="form-check-label"\n+    <label class="form-check-label ${python:getattr(view, \'label_css_class\', \'\')}"\n            tal:content="item/label"\n            tal:attributes="\n              for item/id;\ndiff --git a/plone/app/z3cform/templates/widget.pt b/plone/app/z3cform/templates/widget.pt\nindex 873ebfe7..c9248455 100644\n--- a/plone/app/z3cform/templates/widget.pt\n+++ b/plone/app/z3cform/templates/widget.pt\n@@ -1,4 +1,4 @@\n-<div class="mb-3 field fieldname-${python:widget.name} widget-mode-${python:widget.mode}${error_class}${empty_class} ${python:getattr(widget, \'wrapper_css_class\', False) or False}"\n+<div class="mb-3 field fieldname-${python:widget.name} widget-mode-${python:widget.mode}${error_class}${empty_class} ${python: getattr(widget, \'wrapper_css_class\', \'\')}"\n      id="formfield-${python:widget.id}"\n      metal:define-macro="widget-wrapper"\n      data-fieldname="${widget/name}"\n'

