Repository: plone.app.event


Branch: refs/heads/3.2.x
Date: 2021-07-07T10:46:51+02:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.app.event/commit/d06acedb3fdb754e35c81ac405a1fe0fcca20773

Backport #330 fix (traversal problem in the portlet_events template when an object in a folder is called image)

Files changed:
A news/330.bugfix
M plone/app/event/portlets/portlet_events.pt

b'diff --git a/news/330.bugfix b/news/330.bugfix\nnew file mode 100644\nindex 00000000..e2efe62e\n--- /dev/null\n+++ b/news/330.bugfix\n@@ -0,0 +1,2 @@\n+Fix #330 traversal problem in the portlet_events template when an object in a folder is called "image" (backport from master)\n+[sneridagh]\ndiff --git a/plone/app/event/portlets/portlet_events.pt b/plone/app/event/portlets/portlet_events.pt\nindex e7f847e8..13eab264 100644\n--- a/plone/app/event/portlets/portlet_events.pt\n+++ b/plone/app/event/portlets/portlet_events.pt\n@@ -23,7 +23,7 @@\n                       item_descr    item/description;\n                       item_title    item/title;\n                       item_location item/location;\n-                      item_hasimage item/context/image|nothing"\n+                      item_hasimage python:getattr(item.context.aq_base, \'image\', None)"\n           tal:attributes="class python:\'portletItem odd\' if oddrow else \'portletItem even\'">\n         <a href="#" class="tile"\n             tal:attributes="href item_url;\n'

Repository: plone.app.event


Branch: refs/heads/3.2.x
Date: 2021-07-07T11:40:38+02:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.event/commit/6d7e29c18f9f661f7638044b66d45589222ce7ae

Merge pull request #338 from plone/backport330

Backport #330 fix (traversal problem in the portlet_events template wâ€¦

Files changed:
A news/330.bugfix
M plone/app/event/portlets/portlet_events.pt

b'diff --git a/news/330.bugfix b/news/330.bugfix\nnew file mode 100644\nindex 00000000..e2efe62e\n--- /dev/null\n+++ b/news/330.bugfix\n@@ -0,0 +1,2 @@\n+Fix #330 traversal problem in the portlet_events template when an object in a folder is called "image" (backport from master)\n+[sneridagh]\ndiff --git a/plone/app/event/portlets/portlet_events.pt b/plone/app/event/portlets/portlet_events.pt\nindex e7f847e8..13eab264 100644\n--- a/plone/app/event/portlets/portlet_events.pt\n+++ b/plone/app/event/portlets/portlet_events.pt\n@@ -23,7 +23,7 @@\n                       item_descr    item/description;\n                       item_title    item/title;\n                       item_location item/location;\n-                      item_hasimage item/context/image|nothing"\n+                      item_hasimage python:getattr(item.context.aq_base, \'image\', None)"\n           tal:attributes="class python:\'portletItem odd\' if oddrow else \'portletItem even\'">\n         <a href="#" class="tile"\n             tal:attributes="href item_url;\n'

