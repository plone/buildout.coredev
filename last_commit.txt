Repository: mockup


Branch: refs/heads/master
Date: 2020-04-29T09:45:35+02:00
Author: batlock666 (batlock666) <batlock666@gmail.com>
Commit: https://github.com/plone/mockup/commit/db7843e7f1cb418198e098d66e5bddcd42bca036

Tinymce pattern: add tests for the tabs in template link.xml (issue #946)

Files changed:
A news/946.enhancement
M mockup/patterns/tinymce/templates/link.xml

b'diff --git a/mockup/patterns/tinymce/templates/link.xml b/mockup/patterns/tinymce/templates/link.xml\nindex 08ae82397..e2deff878 100644\n--- a/mockup/patterns/tinymce/templates/link.xml\n+++ b/mockup/patterns/tinymce/templates/link.xml\n@@ -1,13 +1,14 @@\n <div>\n   <div class="linkModal">\n     <h1><%- insertHeading %></h1>\n-    <% if(upload){ %>\n+    <% if(_.contains(linkTypes, \'upload\')){ %>\n     <p class="info"><%- insertLinkHelp %></p>\n     <% } %>\n \n     <div class="linkTypes pat-autotoc autotabs"\n          data-pat-autotoc="section:fieldset;levels:legend;IDPrefix:tinymce-autotoc-">\n \n+      <% if(_.contains(linkTypes, \'internal\')){ %>\n       <fieldset class="linkType internal" data-linkType="internal">\n         <legend id="tinylink-internal"><%- internal %></legend>\n         <div>\n@@ -17,14 +18,16 @@\n           </div>\n         </div>\n       </fieldset>\n+      <% } %>\n \n-      <% if(upload){ %>\n+      <% if(_.contains(linkTypes, \'upload\')){ %>\n       <fieldset class="linkType upload" data-linkType="upload">\n         <legend id="tinylink-upload"><%- uploadText %></legend>\n         <div class="uploadify-me"></div>\n       </fieldset>\n       <% } %>\n \n+      <% if(_.contains(linkTypes, \'external\')){ %>\n       <fieldset class="linkType external" data-linkType="external">\n         <legend id="tinylink-external"><%- external %></legend>\n         <div class="form-group main">\n@@ -32,7 +35,9 @@\n           <input type="text" name="external" />\n         </div>\n       </fieldset>\n+      <% } %>\n \n+      <% if(_.contains(linkTypes, \'email\')){ %>\n       <fieldset class="linkType email" data-linkType="email">\n         <legend id="tinylink-email">Email</legend>\n         <div class="form-inline">\n@@ -46,7 +51,9 @@\n           </div>\n         </div>\n       </fieldset>\n+      <% } %>\n \n+      <% if(_.contains(linkTypes, \'anchor\')){ %>\n       <fieldset class="linkType anchor" data-linkType="anchor">\n         <legend id="tinylink-anchor"><%- anchor %></legend>\n         <div>\n@@ -58,6 +65,7 @@\n           </div>\n         </div>\n       </fieldset>\n+      <% } %>\n \n     </div><!-- / tabs -->\n \ndiff --git a/news/946.enhancement b/news/946.enhancement\nnew file mode 100644\nindex 000000000..a6653b9a1\n--- /dev/null\n+++ b/news/946.enhancement\n@@ -0,0 +1,2 @@\n+Tinymce pattern: add tests for the tabs in template link.xml\n+[batlock666]\n'

