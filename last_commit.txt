Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-13T16:29:58+02:00
Author: jackahl (jackahl) <kahl@kitconcept.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/cf0c46038eddbeff4e9e87c5a03df93ce1789e3a

move all permissions for controlpanels to unifed file

Files changed:
A news/4028.bugfix
M Products/CMFPlone/controlpanel/browser/configure.zcml
M Products/CMFPlone/controlpanel/permissions.zcml

b'diff --git a/Products/CMFPlone/controlpanel/browser/configure.zcml b/Products/CMFPlone/controlpanel/browser/configure.zcml\nindex 1a8231c590..7cca9f0b3a 100644\n--- a/Products/CMFPlone/controlpanel/browser/configure.zcml\n+++ b/Products/CMFPlone/controlpanel/browser/configure.zcml\n@@ -4,18 +4,6 @@\n     xmlns:zcml="http://namespaces.zope.org/zcml"\n     >\n \n-  <permission\n-      id="plone.app.controlpanel.Imaging"\n-      title="Plone Site Setup: Imaging"\n-      />\n-\n-  <permission\n-      id="plone.app.controlpanel.TinyMCE"\n-      title="Plone Site Setup: TinyMCE"\n-      >\n-    <role name="Manager" />\n-  </permission>\n-\n   <!-- Control Panel Main Template -->\n   <browser:page\n       name="prefs_main_template"\n@@ -325,16 +313,6 @@\n       permission="cmf.ManagePortal"\n       />\n \n-  <permission\n-      id="Products.CMFPlone.ManagePortalAliases"\n-      title="Manage Portal Aliases"\n-      />\n-\n-  <permission\n-      id="Products.CMFPlone.ManageContextAliases"\n-      title="Manage Context Aliases"\n-      />\n-\n   <browser:page\n       name="redirection-controlpanel"\n       for="plone.base.interfaces.IPloneSiteRoot"\ndiff --git a/Products/CMFPlone/controlpanel/permissions.zcml b/Products/CMFPlone/controlpanel/permissions.zcml\nindex be7eda7479..a701cf634b 100644\n--- a/Products/CMFPlone/controlpanel/permissions.zcml\n+++ b/Products/CMFPlone/controlpanel/permissions.zcml\n@@ -67,4 +67,26 @@\n     <role name="Manager" />\n   </permission>\n \n+  <permission\n+    id="plone.app.controlpanel.Imaging"\n+    title="Plone Site Setup: Imaging"\n+    />\n+\n+  <permission\n+      id="plone.app.controlpanel.TinyMCE"\n+      title="Plone Site Setup: TinyMCE"\n+      >\n+    <role name="Manager" />\n+  </permission>\n+\n+  <permission\n+    id="Products.CMFPlone.ManagePortalAliases"\n+    title="Manage Portal Aliases"\n+    />\n+\n+  <permission\n+      id="Products.CMFPlone.ManageContextAliases"\n+      title="Manage Context Aliases"\n+      />\n+\n </configure>\ndiff --git a/news/4028.bugfix b/news/4028.bugfix\nnew file mode 100644\nindex 0000000000..d0916ccdf0\n--- /dev/null\n+++ b/news/4028.bugfix\n@@ -0,0 +1,2 @@\n+move all permission definitions for controlpanels to unifed file from controlpanel directory\n+[jackahl]\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-13T23:05:35+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/f7f0b19197da7917db154cbb383bede97e1a90a7

Merge pull request #4030 from plone/cp-permissions

move all permissions for controlpanels to unifed file

Files changed:
A news/4028.bugfix
M Products/CMFPlone/controlpanel/browser/configure.zcml
M Products/CMFPlone/controlpanel/permissions.zcml

b'diff --git a/Products/CMFPlone/controlpanel/browser/configure.zcml b/Products/CMFPlone/controlpanel/browser/configure.zcml\nindex 1a8231c590..7cca9f0b3a 100644\n--- a/Products/CMFPlone/controlpanel/browser/configure.zcml\n+++ b/Products/CMFPlone/controlpanel/browser/configure.zcml\n@@ -4,18 +4,6 @@\n     xmlns:zcml="http://namespaces.zope.org/zcml"\n     >\n \n-  <permission\n-      id="plone.app.controlpanel.Imaging"\n-      title="Plone Site Setup: Imaging"\n-      />\n-\n-  <permission\n-      id="plone.app.controlpanel.TinyMCE"\n-      title="Plone Site Setup: TinyMCE"\n-      >\n-    <role name="Manager" />\n-  </permission>\n-\n   <!-- Control Panel Main Template -->\n   <browser:page\n       name="prefs_main_template"\n@@ -325,16 +313,6 @@\n       permission="cmf.ManagePortal"\n       />\n \n-  <permission\n-      id="Products.CMFPlone.ManagePortalAliases"\n-      title="Manage Portal Aliases"\n-      />\n-\n-  <permission\n-      id="Products.CMFPlone.ManageContextAliases"\n-      title="Manage Context Aliases"\n-      />\n-\n   <browser:page\n       name="redirection-controlpanel"\n       for="plone.base.interfaces.IPloneSiteRoot"\ndiff --git a/Products/CMFPlone/controlpanel/permissions.zcml b/Products/CMFPlone/controlpanel/permissions.zcml\nindex be7eda7479..a701cf634b 100644\n--- a/Products/CMFPlone/controlpanel/permissions.zcml\n+++ b/Products/CMFPlone/controlpanel/permissions.zcml\n@@ -67,4 +67,26 @@\n     <role name="Manager" />\n   </permission>\n \n+  <permission\n+    id="plone.app.controlpanel.Imaging"\n+    title="Plone Site Setup: Imaging"\n+    />\n+\n+  <permission\n+      id="plone.app.controlpanel.TinyMCE"\n+      title="Plone Site Setup: TinyMCE"\n+      >\n+    <role name="Manager" />\n+  </permission>\n+\n+  <permission\n+    id="Products.CMFPlone.ManagePortalAliases"\n+    title="Manage Portal Aliases"\n+    />\n+\n+  <permission\n+      id="Products.CMFPlone.ManageContextAliases"\n+      title="Manage Context Aliases"\n+      />\n+\n </configure>\ndiff --git a/news/4028.bugfix b/news/4028.bugfix\nnew file mode 100644\nindex 0000000000..d0916ccdf0\n--- /dev/null\n+++ b/news/4028.bugfix\n@@ -0,0 +1,2 @@\n+move all permission definitions for controlpanels to unifed file from controlpanel directory\n+[jackahl]\n'

