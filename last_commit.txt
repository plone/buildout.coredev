Repository: plone.app.caching


Branch: refs/heads/2.x
Date: 2021-02-15T10:19:19+01:00
Author: Manuel Reinhardt (reinhardt) <reinhardt@syslab.com>
Commit: https://github.com/plone/plone.app.caching/commit/b4cfc1f8b999361832229a49920b6e13afdca6e5

Do not break if some custom code provides an alias for plone.app.blob. (#75)

Refs #72

Files changed:
M news/72.bugfix
M plone/app/caching/caching.zcml

b'diff --git a/news/72.bugfix b/news/72.bugfix\nindex 1a2b9db..1e28eaa 100644\n--- a/news/72.bugfix\n+++ b/news/72.bugfix\n@@ -1 +1 @@\n-Do not break if some custom code provides an alias for Products.Archetypes\n+Do not break if some custom code provides an alias for Products.Archetypes or plone.app.blob\ndiff --git a/plone/app/caching/caching.zcml b/plone/app/caching/caching.zcml\nindex c3edddb..01ad244 100644\n--- a/plone/app/caching/caching.zcml\n+++ b/plone/app/caching/caching.zcml\n@@ -143,7 +143,7 @@\n     </configure>\n \n     <!-- plone.app.blob content -->\n-    <configure zcml:condition="installed plone.app.blob">\n+    <configure zcml:condition="installed plone.app.blob.interfaces">\n \n         <cache:ruleset ruleset="plone.content.file" for="plone.app.blob.interfaces.IATBlob" />\n \n'

