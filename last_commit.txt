Repository: plone.app.relationfield


Branch: refs/heads/master
Date: 2024-09-11T15:14:41+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.relationfield/commit/bccfb3604b853cddd6f254bb9fdb0ca8f34316ae

Implement new ContentBrowserWidget

Files changed:
M plone/app/relationfield/behavior.py

b'diff --git a/plone/app/relationfield/behavior.py b/plone/app/relationfield/behavior.py\nindex d872a91..a8fc2d7 100644\n--- a/plone/app/relationfield/behavior.py\n+++ b/plone/app/relationfield/behavior.py\n@@ -1,4 +1,4 @@\n-from plone.app.z3cform.widget import RelatedItemsFieldWidget\n+from plone.app.z3cform.widgets.contentbrowser import ContentBrowserFieldWidget\n from plone.autoform import directives as form\n from plone.autoform.interfaces import IFormFieldProvider\n from plone.base import PloneMessageFactory as _\n@@ -23,7 +23,7 @@ class IRelatedItems(model.Schema):\n     )\n     form.widget(\n         "relatedItems",\n-        RelatedItemsFieldWidget,\n+        ContentBrowserFieldWidget,\n         vocabulary="plone.app.vocabularies.Catalog",\n         pattern_options={\n             "recentlyUsed": True  # Just turn on. Config in plone.app.widgets.\n'

Repository: plone.app.relationfield


Branch: refs/heads/master
Date: 2024-09-11T15:15:02+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.relationfield/commit/67977cab44b1215caeacaca742f3e2bf23b90134

meta config

Files changed:
A dependabot.yml
A news/+meta.internal
M .editorconfig
M .github/workflows/meta.yml
M .meta.toml
M .pre-commit-config.yaml
M pyproject.toml
M tox.ini

b'diff --git a/.editorconfig b/.editorconfig\nindex fa698fb..5b3c112 100644\n--- a/.editorconfig\n+++ b/.editorconfig\n@@ -13,7 +13,8 @@\n root = true\n \n \n-[*]  # For All Files\n+[*]\n+# Default settings for all files.\n # Unix-style newlines with a newline ending every file\n end_of_line = lf\n insert_final_newline = true\n@@ -33,7 +34,8 @@ indent_size = 4\n # 2 space indentation\n indent_size = 2\n \n-[*.{json,jsonl,js,jsx,ts,tsx,css,less,scss}]  # Frontend development\n+[*.{json,jsonl,js,jsx,ts,tsx,css,less,scss}]\n+# Frontend development\n # 2 space indentation\n indent_size = 2\n max_line_length = 80\ndiff --git a/.github/workflows/meta.yml b/.github/workflows/meta.yml\nindex b8edec0..c9848bc 100644\n--- a/.github/workflows/meta.yml\n+++ b/.github/workflows/meta.yml\n@@ -57,6 +57,13 @@ jobs:\n # os_dependencies = "git libxml2 libxslt"\n ##\n \n+##\n+# To test against a specific matrix of python versions\n+# when running tests jobs, add in .meta.toml:\n+# [github]\n+# py_versions = "[\'3.12\', \'3.11\']"\n+##\n+\n \n ##\n # Specify additional jobs in .meta.toml:\ndiff --git a/.meta.toml b/.meta.toml\nindex 87f8b35..82dca54 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -3,7 +3,7 @@\n # See the inline comments on how to expand/tweak this configuration file\n [meta]\n template = "default"\n-commit-id = "6e36bcc4"\n+commit-id = "721299ce"\n \n [pyproject]\n dependencies_ignores = "[\'plone.formwidget.contenttree\']"\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex 1460326..60680a1 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -7,7 +7,7 @@ ci:\n \n repos:\n -   repo: https://github.com/asottile/pyupgrade\n-    rev: v3.17.0\n+    rev: v3.15.2\n     hooks:\n     -   id: pyupgrade\n         args: [--py38-plus]\ndiff --git a/dependabot.yml b/dependabot.yml\nnew file mode 100644\nindex 0000000..bbd3ab0\n--- /dev/null\n+++ b/dependabot.yml\n@@ -0,0 +1,11 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/main/config/default\n+# See the inline comments on how to expand/tweak this configuration file\n+version: 2\n+updates:\n+\n+  - package-ecosystem: "github-actions"\n+    directory: "/"\n+    schedule:\n+      # Check for updates to GitHub Actions every week\n+      interval: "weekly"\ndiff --git a/news/+meta.internal b/news/+meta.internal\nnew file mode 100644\nindex 0000000..c08f539\n--- /dev/null\n+++ b/news/+meta.internal\n@@ -0,0 +1,2 @@\n+Update configuration files.\n+[plone devs]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 74b71b3..338555c 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -134,13 +134,15 @@ ignore-packages = [\'plone.formwidget.contenttree\']\n [tool.check-manifest]\n ignore = [\n     ".editorconfig",\n+    ".flake8",\n     ".meta.toml",\n     ".pre-commit-config.yaml",\n-    "tox.ini",\n-    ".flake8",\n+    "dependabot.yml",\n     "mx.ini",\n+    "tox.ini",\n \n ]\n+\n ##\n # Add extra configuration options in .meta.toml:\n #  [pyproject]\n@@ -148,6 +150,11 @@ ignore = [\n #      "*.map.js",\n #      "*.pyc",\n #  """\n+#  check_manifest_extra_lines = """\n+#  ignore-bad-ideas = [\n+#      "some/test/file/PKG-INFO",\n+#  ]\n+#  """\n ##\n \n \ndiff --git a/tox.ini b/tox.ini\nindex 6c2493c..7acd7aa 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -109,7 +109,7 @@ set_env =\n deps =\n     zope.testrunner\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-    \n+\n ##\n # Specify additional deps in .meta.toml:\n #  [tox]\n@@ -152,11 +152,12 @@ deps =\n     coverage\n     zope.testrunner\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-    \n+\n commands =\n     coverage run --branch --source plone.app.relationfield {envbindir}/zope-testrunner --quiet --all --test-path={toxinidir} -s plone.app.relationfield {posargs}\n     coverage report -m --format markdown\n     coverage xml\n+    coverage html\n extras =\n     test\n \n@@ -169,7 +170,7 @@ deps =\n     build\n     towncrier\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-    \n+\n commands =\n     # fake version to not have to install the package\n     # we build the change log as news entries might break\n@@ -182,6 +183,9 @@ commands =\n description = ensure there are no cyclic dependencies\n use_develop = true\n skip_install = false\n+# Here we must always constrain the package deps to what is already installed,\n+# otherwise we simply get the latest from PyPI, which may not work.\n+constrain_package_deps = true\n set_env =\n \n ##\n@@ -197,7 +201,7 @@ deps =\n     pipdeptree\n     pipforester\n     -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-    \n+\n commands =\n     # Generate the full dependency tree\n     sh -c \'pipdeptree -j > forest.json\'\n'

Repository: plone.app.relationfield


Branch: refs/heads/master
Date: 2024-09-11T15:43:05+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.relationfield/commit/67b4a9d39b6de3bf5fdeae54e1411ee1f98203ce

update changenote

Files changed:
A news/51.breaking
D news/+meta.internal

b'diff --git a/news/+meta.internal b/news/+meta.internal\ndeleted file mode 100644\nindex c08f539..0000000\n--- a/news/+meta.internal\n+++ /dev/null\n@@ -1,2 +0,0 @@\n-Update configuration files.\n-[plone devs]\ndiff --git a/news/51.breaking b/news/51.breaking\nnew file mode 100644\nindex 0000000..ab4c246\n--- /dev/null\n+++ b/news/51.breaking\n@@ -0,0 +1,2 @@\n+Implement new `ContentBrowserWidget` with `pat-contentbrowser` support.\n+[petschki]\n'

Repository: plone.app.relationfield


Branch: refs/heads/master
Date: 2024-09-11T15:44:15+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.relationfield/commit/547c4cb94b8040162cb01002f3ad0d68f39a6c26

plone/meta update

Files changed:
M .meta.toml
M .pre-commit-config.yaml
M pyproject.toml

b'diff --git a/.meta.toml b/.meta.toml\nindex 82dca54..af30709 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -3,7 +3,7 @@\n # See the inline comments on how to expand/tweak this configuration file\n [meta]\n template = "default"\n-commit-id = "721299ce"\n+commit-id = "5d22fbf8"\n \n [pyproject]\n dependencies_ignores = "[\'plone.formwidget.contenttree\']"\ndiff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex 60680a1..1460326 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -7,7 +7,7 @@ ci:\n \n repos:\n -   repo: https://github.com/asottile/pyupgrade\n-    rev: v3.15.2\n+    rev: v3.17.0\n     hooks:\n     -   id: pyupgrade\n         args: [--py38-plus]\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 338555c..f01853b 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -71,7 +71,7 @@ target-version = ["py38"]\n ##\n \n [tool.codespell]\n-ignore-words-list = "discreet,"\n+ignore-words-list = "discreet,assertin,"\n skip = "*.po,"\n ##\n # Add extra configuration options in .meta.toml:\n@@ -119,6 +119,7 @@ Zope = [\n   \'Products.CMFCore\', \'Products.CMFDynamicViewFTI\',\n ]\n python-dateutil = [\'dateutil\']\n+pytest-plone = [\'pytest\', \'zope.pytestlayer\', \'plone.testing\', \'plone.app.testing\']\n ignore-packages = [\'plone.formwidget.contenttree\']\n \n ##\n'

Repository: plone.app.relationfield


Branch: refs/heads/master
Date: 2024-09-13T08:40:43+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.relationfield/commit/d97f811f80e2a7f799dd70d751e81551d6758ae9

bump version and update classifiers

Files changed:
M setup.py

b'diff --git a/setup.py b/setup.py\nindex aadd45f..3759ddb 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -3,7 +3,7 @@\n from setuptools import setup\n \n \n-version = "3.0.6.dev0"\n+version = "4.0.0.dev0"\n \n long_description = (\n     f"{Path(\'README.rst\').read_text()}\\n{Path(\'CHANGES.rst\').read_text()}"\n@@ -20,7 +20,7 @@\n     classifiers=[\n         "Development Status :: 5 - Production/Stable",\n         "Framework :: Plone",\n-        "Framework :: Plone :: 6.0",\n+        "Framework :: Plone :: 6.1",\n         "Framework :: Plone :: Core",\n         "License :: OSI Approved :: GNU General Public License (GPL)",\n         "Programming Language :: Python",\n@@ -28,6 +28,7 @@\n         "Programming Language :: Python :: 3.9",\n         "Programming Language :: Python :: 3.10",\n         "Programming Language :: Python :: 3.11",\n+        "Programming Language :: Python :: 3.12",\n         "Topic :: Software Development :: Libraries :: Python Modules",\n     ],\n     keywords="dexterity relations plone zc.relation",\n'

Repository: plone.app.relationfield


Branch: refs/heads/master
Date: 2024-09-13T08:40:43+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.relationfield/commit/524054cf7242e77b1e21609a8691e4f9c8836419

update constraints to Plone 6.1 and python 3.10/12

Files changed:
M .github/workflows/meta.yml
M .meta.toml
M tox.ini

b'diff --git a/.github/workflows/meta.yml b/.github/workflows/meta.yml\nindex c9848bc..6058d80 100644\n--- a/.github/workflows/meta.yml\n+++ b/.github/workflows/meta.yml\n@@ -28,6 +28,9 @@ jobs:\n     uses: plone/meta/.github/workflows/qa.yml@main\n   test:\n     uses: plone/meta/.github/workflows/test.yml@main\n+    with:\n+\n+       py-versions: \'["3.10", "3.12"]\'\n   coverage:\n     uses: plone/meta/.github/workflows/coverage.yml@main\n   dependencies:\ndiff --git a/.meta.toml b/.meta.toml\nindex af30709..5fbb773 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -7,3 +7,9 @@ commit-id = "5d22fbf8"\n \n [pyproject]\n dependencies_ignores = "[\'plone.formwidget.contenttree\']"\n+\n+[tox]\n+constraints_file = "https://dist.plone.org/release/6.1-dev/constraints.txt"\n+\n+[github]\n+py_versions = "[\\"3.10\\", \\"3.12\\"]"\ndiff --git a/tox.ini b/tox.ini\nindex 7acd7aa..7a50f19 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -108,7 +108,7 @@ set_env =\n ##\n deps =\n     zope.testrunner\n-    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n+    -c https://dist.plone.org/release/6.1-dev/constraints.txt\n \n ##\n # Specify additional deps in .meta.toml:\n@@ -151,7 +151,7 @@ set_env =\n deps =\n     coverage\n     zope.testrunner\n-    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n+    -c https://dist.plone.org/release/6.1-dev/constraints.txt\n \n commands =\n     coverage run --branch --source plone.app.relationfield {envbindir}/zope-testrunner --quiet --all --test-path={toxinidir} -s plone.app.relationfield {posargs}\n@@ -169,7 +169,7 @@ deps =\n     twine\n     build\n     towncrier\n-    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n+    -c https://dist.plone.org/release/6.1-dev/constraints.txt\n \n commands =\n     # fake version to not have to install the package\n@@ -200,7 +200,7 @@ allowlist_externals =\n deps =\n     pipdeptree\n     pipforester\n-    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n+    -c https://dist.plone.org/release/6.1-dev/constraints.txt\n \n commands =\n     # Generate the full dependency tree\n'

Repository: plone.app.relationfield


Branch: refs/heads/master
Date: 2024-09-20T11:51:51+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.relationfield/commit/0594749303f91adbad688b64152dd6892d0fa214

Merge pull request #51 from plone/contentbrowserwidget

Implement new `ContentBrowserWidget`

Files changed:
A dependabot.yml
A news/51.breaking
M .editorconfig
M .github/workflows/meta.yml
M .meta.toml
M plone/app/relationfield/behavior.py
M pyproject.toml
M setup.py
M tox.ini

b'diff --git a/.editorconfig b/.editorconfig\nindex fa698fb..5b3c112 100644\n--- a/.editorconfig\n+++ b/.editorconfig\n@@ -13,7 +13,8 @@\n root = true\n \n \n-[*]  # For All Files\n+[*]\n+# Default settings for all files.\n # Unix-style newlines with a newline ending every file\n end_of_line = lf\n insert_final_newline = true\n@@ -33,7 +34,8 @@ indent_size = 4\n # 2 space indentation\n indent_size = 2\n \n-[*.{json,jsonl,js,jsx,ts,tsx,css,less,scss}]  # Frontend development\n+[*.{json,jsonl,js,jsx,ts,tsx,css,less,scss}]\n+# Frontend development\n # 2 space indentation\n indent_size = 2\n max_line_length = 80\ndiff --git a/.github/workflows/meta.yml b/.github/workflows/meta.yml\nindex b8edec0..6058d80 100644\n--- a/.github/workflows/meta.yml\n+++ b/.github/workflows/meta.yml\n@@ -28,6 +28,9 @@ jobs:\n     uses: plone/meta/.github/workflows/qa.yml@main\n   test:\n     uses: plone/meta/.github/workflows/test.yml@main\n+    with:\n+\n+       py-versions: \'["3.10", "3.12"]\'\n   coverage:\n     uses: plone/meta/.github/workflows/coverage.yml@main\n   dependencies:\n@@ -57,6 +60,13 @@ jobs:\n # os_dependencies = "git libxml2 libxslt"\n ##\n \n+##\n+# To test against a specific matrix of python versions\n+# when running tests jobs, add in .meta.toml:\n+# [github]\n+# py_versions = "[\'3.12\', \'3.11\']"\n+##\n+\n \n ##\n # Specify additional jobs in .meta.toml:\ndiff --git a/.meta.toml b/.meta.toml\nindex 87f8b35..5fbb773 100644\n--- a/.meta.toml\n+++ b/.meta.toml\n@@ -3,7 +3,13 @@\n # See the inline comments on how to expand/tweak this configuration file\n [meta]\n template = "default"\n-commit-id = "6e36bcc4"\n+commit-id = "5d22fbf8"\n \n [pyproject]\n dependencies_ignores = "[\'plone.formwidget.contenttree\']"\n+\n+[tox]\n+constraints_file = "https://dist.plone.org/release/6.1-dev/constraints.txt"\n+\n+[github]\n+py_versions = "[\\"3.10\\", \\"3.12\\"]"\ndiff --git a/dependabot.yml b/dependabot.yml\nnew file mode 100644\nindex 0000000..bbd3ab0\n--- /dev/null\n+++ b/dependabot.yml\n@@ -0,0 +1,11 @@\n+# Generated from:\n+# https://github.com/plone/meta/tree/main/config/default\n+# See the inline comments on how to expand/tweak this configuration file\n+version: 2\n+updates:\n+\n+  - package-ecosystem: "github-actions"\n+    directory: "/"\n+    schedule:\n+      # Check for updates to GitHub Actions every week\n+      interval: "weekly"\ndiff --git a/news/51.breaking b/news/51.breaking\nnew file mode 100644\nindex 0000000..ab4c246\n--- /dev/null\n+++ b/news/51.breaking\n@@ -0,0 +1,2 @@\n+Implement new `ContentBrowserWidget` with `pat-contentbrowser` support.\n+[petschki]\ndiff --git a/plone/app/relationfield/behavior.py b/plone/app/relationfield/behavior.py\nindex d872a91..a8fc2d7 100644\n--- a/plone/app/relationfield/behavior.py\n+++ b/plone/app/relationfield/behavior.py\n@@ -1,4 +1,4 @@\n-from plone.app.z3cform.widget import RelatedItemsFieldWidget\n+from plone.app.z3cform.widgets.contentbrowser import ContentBrowserFieldWidget\n from plone.autoform import directives as form\n from plone.autoform.interfaces import IFormFieldProvider\n from plone.base import PloneMessageFactory as _\n@@ -23,7 +23,7 @@ class IRelatedItems(model.Schema):\n     )\n     form.widget(\n         "relatedItems",\n-        RelatedItemsFieldWidget,\n+        ContentBrowserFieldWidget,\n         vocabulary="plone.app.vocabularies.Catalog",\n         pattern_options={\n             "recentlyUsed": True  # Just turn on. Config in plone.app.widgets.\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 74b71b3..f01853b 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -71,7 +71,7 @@ target-version = ["py38"]\n ##\n \n [tool.codespell]\n-ignore-words-list = "discreet,"\n+ignore-words-list = "discreet,assertin,"\n skip = "*.po,"\n ##\n # Add extra configuration options in .meta.toml:\n@@ -119,6 +119,7 @@ Zope = [\n   \'Products.CMFCore\', \'Products.CMFDynamicViewFTI\',\n ]\n python-dateutil = [\'dateutil\']\n+pytest-plone = [\'pytest\', \'zope.pytestlayer\', \'plone.testing\', \'plone.app.testing\']\n ignore-packages = [\'plone.formwidget.contenttree\']\n \n ##\n@@ -134,13 +135,15 @@ ignore-packages = [\'plone.formwidget.contenttree\']\n [tool.check-manifest]\n ignore = [\n     ".editorconfig",\n+    ".flake8",\n     ".meta.toml",\n     ".pre-commit-config.yaml",\n-    "tox.ini",\n-    ".flake8",\n+    "dependabot.yml",\n     "mx.ini",\n+    "tox.ini",\n \n ]\n+\n ##\n # Add extra configuration options in .meta.toml:\n #  [pyproject]\n@@ -148,6 +151,11 @@ ignore = [\n #      "*.map.js",\n #      "*.pyc",\n #  """\n+#  check_manifest_extra_lines = """\n+#  ignore-bad-ideas = [\n+#      "some/test/file/PKG-INFO",\n+#  ]\n+#  """\n ##\n \n \ndiff --git a/setup.py b/setup.py\nindex aadd45f..3759ddb 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -3,7 +3,7 @@\n from setuptools import setup\n \n \n-version = "3.0.6.dev0"\n+version = "4.0.0.dev0"\n \n long_description = (\n     f"{Path(\'README.rst\').read_text()}\\n{Path(\'CHANGES.rst\').read_text()}"\n@@ -20,7 +20,7 @@\n     classifiers=[\n         "Development Status :: 5 - Production/Stable",\n         "Framework :: Plone",\n-        "Framework :: Plone :: 6.0",\n+        "Framework :: Plone :: 6.1",\n         "Framework :: Plone :: Core",\n         "License :: OSI Approved :: GNU General Public License (GPL)",\n         "Programming Language :: Python",\n@@ -28,6 +28,7 @@\n         "Programming Language :: Python :: 3.9",\n         "Programming Language :: Python :: 3.10",\n         "Programming Language :: Python :: 3.11",\n+        "Programming Language :: Python :: 3.12",\n         "Topic :: Software Development :: Libraries :: Python Modules",\n     ],\n     keywords="dexterity relations plone zc.relation",\ndiff --git a/tox.ini b/tox.ini\nindex 6c2493c..7a50f19 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -108,8 +108,8 @@ set_env =\n ##\n deps =\n     zope.testrunner\n-    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-    \n+    -c https://dist.plone.org/release/6.1-dev/constraints.txt\n+\n ##\n # Specify additional deps in .meta.toml:\n #  [tox]\n@@ -151,12 +151,13 @@ set_env =\n deps =\n     coverage\n     zope.testrunner\n-    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-    \n+    -c https://dist.plone.org/release/6.1-dev/constraints.txt\n+\n commands =\n     coverage run --branch --source plone.app.relationfield {envbindir}/zope-testrunner --quiet --all --test-path={toxinidir} -s plone.app.relationfield {posargs}\n     coverage report -m --format markdown\n     coverage xml\n+    coverage html\n extras =\n     test\n \n@@ -168,8 +169,8 @@ deps =\n     twine\n     build\n     towncrier\n-    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-    \n+    -c https://dist.plone.org/release/6.1-dev/constraints.txt\n+\n commands =\n     # fake version to not have to install the package\n     # we build the change log as news entries might break\n@@ -182,6 +183,9 @@ commands =\n description = ensure there are no cyclic dependencies\n use_develop = true\n skip_install = false\n+# Here we must always constrain the package deps to what is already installed,\n+# otherwise we simply get the latest from PyPI, which may not work.\n+constrain_package_deps = true\n set_env =\n \n ##\n@@ -196,8 +200,8 @@ allowlist_externals =\n deps =\n     pipdeptree\n     pipforester\n-    -c https://dist.plone.org/release/6.0-dev/constraints.txt\n-    \n+    -c https://dist.plone.org/release/6.1-dev/constraints.txt\n+\n commands =\n     # Generate the full dependency tree\n     sh -c \'pipdeptree -j > forest.json\'\n'

