Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2021-09-22T09:47:31+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.widgets/commit/4d3268af26c1c730a81c945b686d65c45b339ebd

PLIP 3211 - Remove implicit dependency on Mockup.

Files changed:
A news/210.feature
M plone/app/widgets/configure.zcml

b'diff --git a/news/210.feature b/news/210.feature\nnew file mode 100644\nindex 00000000..6640d86f\n--- /dev/null\n+++ b/news/210.feature\n@@ -0,0 +1 @@\n+PLIP 3211 - Remove implicit dependency on Mockup.\ndiff --git a/plone/app/widgets/configure.zcml b/plone/app/widgets/configure.zcml\nindex c7c446c7..ae568776 100644\n--- a/plone/app/widgets/configure.zcml\n+++ b/plone/app/widgets/configure.zcml\n@@ -6,6 +6,4 @@\n   <include package="Products.CMFPlone" />\n   <include package="plone.app.vocabularies" />\n \n-  <include package="mockup" />\n-\n </configure>\n'

Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2021-10-21T17:26:58+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.widgets/commit/54cc0898720ab0d7d9ffac91dcaf928d10a62863

update datetime pattern options

Files changed:
A news/213.feature
M plone/app/widgets/utils.py

b'diff --git a/news/213.feature b/news/213.feature\nnew file mode 100644\nindex 00000000..dde36b16\n--- /dev/null\n+++ b/news/213.feature\n@@ -0,0 +1,2 @@\n+Update datetime pattern options for Patternslib pat-date-picker/pat-datetime-picker.\n+[petschki]\ndiff --git a/plone/app/widgets/utils.py b/plone/app/widgets/utils.py\nindex 3594b7fd..a82dc7b6 100644\n--- a/plone/app/widgets/utils.py\n+++ b/plone/app/widgets/utils.py\n@@ -41,25 +41,9 @@ def get_date_options(request):\n     calendar = request.locale.dates.calendars[\'gregorian\']\n     today = datetime.today()\n     return {\n-        \'time\': False,\n-        \'date\': {\n-            \'firstDay\': calendar.week.get(\'firstDay\') == 1 and 1 or 0,\n-            \'weekdaysFull\': [\n-                calendar.days.get(t, (None, None))[0]\n-                for t in (7, 1, 2, 3, 4, 5, 6)],\n-            \'weekdaysShort\': [\n-                calendar.days.get(t, (None, None))[1]\n-                for t in (7, 1, 2, 3, 4, 5, 6)],\n-            \'monthsFull\': calendar.getMonthNames(),\n-            \'monthsShort\': calendar.getMonthAbbreviations(),\n-            \'selectYears\': 200,\n-            \'min\': [today.year - 100, 1, 1],\n-            \'max\': [today.year + 20, 1, 1],\n-            \'format\': translate(\n-                _(\'pickadate_date_format\', default=\'mmmm d, yyyy\'),\n-                context=request),\n-            \'placeholder\': translate(_(\'Enter date...\'), context=request),\n-        },\n+        \'behavior\': \'native\',\n+        \'week-numbers\': \'show\',\n+        \'first-day\': calendar.week.get(\'firstDay\') == 1 and 1 or 0,\n         \'today\': translate(_(u"Today"), context=request),\n         \'clear\': translate(_(u"Clear"), context=request),\n     }\n@@ -67,12 +51,6 @@ def get_date_options(request):\n \n def get_datetime_options(request):\n     options = get_date_options(request)\n-    options[\'time\'] = {\n-        \'format\': translate(\n-            _(\'pickadate_time_format\', default=\'h:i a\'),\n-            context=request),\n-        \'placeholder\': translate(_(\'Enter time...\'), context=request),\n-    }\n     return options\n \n \n'

Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2022-01-19T13:15:26+01:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.widgets/commit/099d49f063ba48bbea20584ab3409340feb2de0f

fix test

Files changed:
M plone/app/widgets/tests/test_utils.py

b"diff --git a/plone/app/widgets/tests/test_utils.py b/plone/app/widgets/tests/test_utils.py\nindex 3812213e..c3cfd1d6 100644\n--- a/plone/app/widgets/tests/test_utils.py\n+++ b/plone/app/widgets/tests/test_utils.py\n@@ -52,8 +52,8 @@ def test__query_string_options(self):\n \n         # Test options of the date picker\n         self.assertEqual(\n-            options['patternDateOptions']['time'],\n-            False\n+            options['patternDateOptions'],\n+            {'behavior': 'native', 'week-numbers': 'show', 'first-day': 0, 'today': 'Today', 'clear': 'Clear'}\n         )\n \n         # Test options of the related items widget\n"

Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2022-01-21T16:22:22+01:00
Author: Markus Hilbert (iham) <markus.hilbert@iham.at>
Commit: https://github.com/plone/plone.app.widgets/commit/ce10aa1f98a8d0fe6893ee99bf2b738a9ff6adcf

Removed datetime picker robot test; we use the browser native input type and patternslib has tests for the alternative datepicker we don't use in plone.

Files changed:
D plone/app/widgets/tests/robot/test_datetime_widget.robot

b'diff --git a/plone/app/widgets/tests/robot/test_datetime_widget.robot b/plone/app/widgets/tests/robot/test_datetime_widget.robot\ndeleted file mode 100644\nindex a3c0ff26..00000000\n--- a/plone/app/widgets/tests/robot/test_datetime_widget.robot\n+++ /dev/null\n@@ -1,78 +0,0 @@\n-*** Settings *****************************************************************\n-\n-Resource  plone/app/robotframework/keywords.robot\n-Resource  plone/app/robotframework/saucelabs.robot\n-Resource  plone/app/robotframework/selenium.robot\n-Resource  common.robot\n-\n-Library  Remote  ${PLONE_URL}/RobotRemote\n-\n-Test Setup  Run Keywords  Plone test setup\n-Test Teardown  Run keywords  Plone test teardown\n-\n-\n-*** Variables ****************************************************************\n-\n-${xpath_date_field}  //input[contains(concat(\' \',normalize-space(@class),\' \'),\'pattern-pickadate-date\')]\n-${xpath_time_field}  //input[contains(concat(\' \',normalize-space(@class),\' \'),\'pattern-pickadate-time\')]\n-${xpath_month_select}  //select[contains(concat(\' \',normalize-space(@class),\' \'),\'picker__select--month\')]\n-${xpath_year_select}  //select[contains(concat(\' \',normalize-space(@class),\' \'),\'picker__select--year\')]\n-${xpath_day_list}  //div[contains(concat(\' \',normalize-space(@class),\' \'),\'picker__day\')][contains(concat(\' \',normalize-space(@class),\' \'),\'picker__day--infocus\')]\n-${xpath_time_list}  //li[contains(concat(\' \',normalize-space(@class),\' \'),\'picker__list-item\')]\n-${xpath_date_input}  //div[contains(concat(\' \',normalize-space(@class),\' \'),\'pattern-pickadate-date-wrapper\')]//input[@type=\'hidden\']\n-\n-\n-*** Test Cases ***************************************************************\n-\n-As a contributor I can enter the date and time\n-  Given I\'m logged in as a \'Site Administrator\'\n-    And Given I create a folder  My Folder\n-    And Given I open tab  Dates\n-   When I fill datetime field  Publishing Date  2010  1  30  4:00 a.m.\n-    And When I save\n-    And When I edit\n-    Wait For Condition  return $(\'.autotoc-nav .active:visible\').length > 0\n-    And When I open tab  Dates\n-   Then Page should contain datetime  Publishing Date  2010  1  30  4:00 a.m.\n-\n-\n-*** Keywords *****************************************************************\n-\n-I fill datetime field\n-  [Arguments]  ${fieldlabel}  ${year}  ${month}  ${day}  ${time}\n-  Fill date field  ${fieldlabel}  ${year}  ${month}  ${day}\n-  Fill time field  ${fieldlabel}  ${time}\n-\n-Fill date field\n-  [Arguments]  ${fieldlabel}  ${year}  ${month}  ${day}\n-  ${xpath_pattern} =  Convert to String  //div[label[text()[normalize-space(.)="${fieldlabel}"]]]\n-  ${month} =  Evaluate  str(int(${month}) - 1)\n-\n-  Click Element  xpath=${xpath_pattern}${xpath_date_field}\n-  Select from list by value  xpath=${xpath_pattern}${xpath_month_select}  ${month}\n-  Select from list  xpath=${xpath_pattern}${xpath_year_select}  ${year}\n-  Click Element  xpath=${xpath_pattern}${xpath_day_list}\\[text()=\'${day}\']\n-\n-Fill time field\n-  [Arguments]  ${fieldlabel}  ${time}\n-  ${xpath_pattern} =  Convert to String  //div[label[text()[normalize-space(.)="${fieldlabel}"]]]\n-  Click Element  xpath=${xpath_pattern}${xpath_time_field}\n-  ${xpath_time} =  Convert to String  ${xpath_pattern}${xpath_time_list}\\[text()=\'${time}\']\n-  Wait until page contains Element  xpath=${xpath_time}\n-  Click Element  xpath=${xpath_time}\n-\n-Page should contain datetime\n-  [Arguments]  ${fieldlabel}  ${year}  ${month}  ${day}  ${time}\n-  Page should contain date   ${fieldlabel}  ${year}  ${month}  ${day}\n-  Page should contain time  ${fieldlabel}  ${time}\n-\n-Page should contain date\n-  [Arguments]  ${fieldlabel}  ${year}  ${month}  ${day}\n-  ${xpath_pattern} =  Convert to String  //div[label[text()[normalize-space(.)="${fieldlabel}"]]]\n-  ${expected_date} =  Evaluate  datetime.date(${year}, ${month}, ${day}).strftime(\'%Y-%m-%d\')  modules=datetime\n-  ${actual_date} =  Get Value  ${xpath_pattern}${xpath_date_input}\n-  Should be equal  ${expected_date}  ${actual_date}\n-\n-Page should contain time\n-  [Arguments]  ${fieldlabel}  ${time}\n-  Page should contain  ${time}\n'

Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2022-01-21T16:57:58+01:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.app.widgets/commit/5b27c58024822d58367b391616b8120d1d9ac899

Fix Select 2 tests

Files changed:
M plone/app/widgets/tests/robot/test_select_widget.robot

b"diff --git a/plone/app/widgets/tests/robot/test_select_widget.robot b/plone/app/widgets/tests/robot/test_select_widget.robot\nindex c2bd50f0..718fab24 100644\n--- a/plone/app/widgets/tests/robot/test_select_widget.robot\n+++ b/plone/app/widgets/tests/robot/test_select_widget.robot\n@@ -71,7 +71,7 @@ a logged-in member\n \n I type on the autocomplete field\n   [Arguments]  ${text}\n-  Wait For Condition  return $('.select2-choices:visible').length > 0\n+  Wait Until Element is visible  ${dropdown_select}\n   Open Dropdown  ${dropdown_select}  ${input_search}\n   Input Text  ${input_search}  ${text}\n   Click Element  ${results_label}\n@@ -84,7 +84,7 @@ I type on the multiple autocomplete field\n \n I select the option\n   [Arguments]  ${index}\n-  Wait For Condition  return $('.select2-choices:visible').length > 0\n+  Wait Until Element Is Visible  ${dropdown_select}\n   Open Dropdown  ${dropdown_select}  ${input_search}\n   Click Element  css=li.select2-results-dept-0:nth-child(${index})\n \n"

Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2022-01-21T17:49:01+01:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.app.widgets/commit/569a5994fd65c744a2cc8c1c0ef6658667a3100f

Fix multiselect tests

Files changed:
M plone/app/widgets/tests/robot/test_select_widget.robot

b"diff --git a/plone/app/widgets/tests/robot/test_select_widget.robot b/plone/app/widgets/tests/robot/test_select_widget.robot\nindex 718fab24..40b3eed6 100644\n--- a/plone/app/widgets/tests/robot/test_select_widget.robot\n+++ b/plone/app/widgets/tests/robot/test_select_widget.robot\n@@ -19,7 +19,7 @@ ${select_field_name}  form.widgets.select_field\n ${list_field_name}  form.widgets.list_field\n \n ${input_search}  css=div#select2-drop div.select2-search input\n-${dropdown_multiple}  css=div#select2-drop ul.select2-results\n+${dropdown_multiple}  css=.select2-choices\n ${dropdown_select}  css=.select2-choice\n ${results_label}  css=.select2-result-label\n \n@@ -78,7 +78,7 @@ I type on the autocomplete field\n \n I type on the multiple autocomplete field\n   [Arguments]  ${text}\n-  Wait For Condition  return $('.select2-choices:visible').length > 0\n+  Wait Until Element is visible  ${dropdown_multiple}\n   Execute Javascript  var $input = $('.select2-input'); $input.click().val('${text}'); var keyup = $.Event('keyup-change'); $input.trigger(keyup); return 0\n   Click Element  ${results_label}\n \n@@ -90,8 +90,9 @@ I select the option\n \n I click on the element\n   [Arguments]  ${index}\n-  Wait For Condition  return $('.select2-choices:visible').length > 0\n-  Open Dropdown  css=#formfield-form-widgets-list_field input.select2-input  ${dropdown_multiple}\n+  Wait Until Element is visible  ${dropdown_multiple}\n+  Open Dropdown  ${dropdown_multiple}  ${dropdown_multiple}\n+  Set Focus To Element  css=li.select2-results-dept-0:nth-child(${index})\n   Click Element  css=li.select2-results-dept-0:nth-child(${index})\n \n # Then\n"

Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2022-03-24T15:10:34+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.widgets/commit/199e68d59dd7c955a5c12cae3721e6d7aa779666

Merge pull request #210 from plone/es6

[WIP] es6

Files changed:
A news/210.feature
A news/213.feature
M plone/app/widgets/configure.zcml
M plone/app/widgets/tests/robot/test_select_widget.robot
M plone/app/widgets/tests/test_utils.py
M plone/app/widgets/utils.py
D plone/app/widgets/tests/robot/test_datetime_widget.robot

b'diff --git a/news/210.feature b/news/210.feature\nnew file mode 100644\nindex 00000000..6640d86f\n--- /dev/null\n+++ b/news/210.feature\n@@ -0,0 +1 @@\n+PLIP 3211 - Remove implicit dependency on Mockup.\ndiff --git a/news/213.feature b/news/213.feature\nnew file mode 100644\nindex 00000000..dde36b16\n--- /dev/null\n+++ b/news/213.feature\n@@ -0,0 +1,2 @@\n+Update datetime pattern options for Patternslib pat-date-picker/pat-datetime-picker.\n+[petschki]\ndiff --git a/plone/app/widgets/configure.zcml b/plone/app/widgets/configure.zcml\nindex c7c446c7..ae568776 100644\n--- a/plone/app/widgets/configure.zcml\n+++ b/plone/app/widgets/configure.zcml\n@@ -6,6 +6,4 @@\n   <include package="Products.CMFPlone" />\n   <include package="plone.app.vocabularies" />\n \n-  <include package="mockup" />\n-\n </configure>\ndiff --git a/plone/app/widgets/tests/robot/test_datetime_widget.robot b/plone/app/widgets/tests/robot/test_datetime_widget.robot\ndeleted file mode 100644\nindex a3c0ff26..00000000\n--- a/plone/app/widgets/tests/robot/test_datetime_widget.robot\n+++ /dev/null\n@@ -1,78 +0,0 @@\n-*** Settings *****************************************************************\n-\n-Resource  plone/app/robotframework/keywords.robot\n-Resource  plone/app/robotframework/saucelabs.robot\n-Resource  plone/app/robotframework/selenium.robot\n-Resource  common.robot\n-\n-Library  Remote  ${PLONE_URL}/RobotRemote\n-\n-Test Setup  Run Keywords  Plone test setup\n-Test Teardown  Run keywords  Plone test teardown\n-\n-\n-*** Variables ****************************************************************\n-\n-${xpath_date_field}  //input[contains(concat(\' \',normalize-space(@class),\' \'),\'pattern-pickadate-date\')]\n-${xpath_time_field}  //input[contains(concat(\' \',normalize-space(@class),\' \'),\'pattern-pickadate-time\')]\n-${xpath_month_select}  //select[contains(concat(\' \',normalize-space(@class),\' \'),\'picker__select--month\')]\n-${xpath_year_select}  //select[contains(concat(\' \',normalize-space(@class),\' \'),\'picker__select--year\')]\n-${xpath_day_list}  //div[contains(concat(\' \',normalize-space(@class),\' \'),\'picker__day\')][contains(concat(\' \',normalize-space(@class),\' \'),\'picker__day--infocus\')]\n-${xpath_time_list}  //li[contains(concat(\' \',normalize-space(@class),\' \'),\'picker__list-item\')]\n-${xpath_date_input}  //div[contains(concat(\' \',normalize-space(@class),\' \'),\'pattern-pickadate-date-wrapper\')]//input[@type=\'hidden\']\n-\n-\n-*** Test Cases ***************************************************************\n-\n-As a contributor I can enter the date and time\n-  Given I\'m logged in as a \'Site Administrator\'\n-    And Given I create a folder  My Folder\n-    And Given I open tab  Dates\n-   When I fill datetime field  Publishing Date  2010  1  30  4:00 a.m.\n-    And When I save\n-    And When I edit\n-    Wait For Condition  return $(\'.autotoc-nav .active:visible\').length > 0\n-    And When I open tab  Dates\n-   Then Page should contain datetime  Publishing Date  2010  1  30  4:00 a.m.\n-\n-\n-*** Keywords *****************************************************************\n-\n-I fill datetime field\n-  [Arguments]  ${fieldlabel}  ${year}  ${month}  ${day}  ${time}\n-  Fill date field  ${fieldlabel}  ${year}  ${month}  ${day}\n-  Fill time field  ${fieldlabel}  ${time}\n-\n-Fill date field\n-  [Arguments]  ${fieldlabel}  ${year}  ${month}  ${day}\n-  ${xpath_pattern} =  Convert to String  //div[label[text()[normalize-space(.)="${fieldlabel}"]]]\n-  ${month} =  Evaluate  str(int(${month}) - 1)\n-\n-  Click Element  xpath=${xpath_pattern}${xpath_date_field}\n-  Select from list by value  xpath=${xpath_pattern}${xpath_month_select}  ${month}\n-  Select from list  xpath=${xpath_pattern}${xpath_year_select}  ${year}\n-  Click Element  xpath=${xpath_pattern}${xpath_day_list}\\[text()=\'${day}\']\n-\n-Fill time field\n-  [Arguments]  ${fieldlabel}  ${time}\n-  ${xpath_pattern} =  Convert to String  //div[label[text()[normalize-space(.)="${fieldlabel}"]]]\n-  Click Element  xpath=${xpath_pattern}${xpath_time_field}\n-  ${xpath_time} =  Convert to String  ${xpath_pattern}${xpath_time_list}\\[text()=\'${time}\']\n-  Wait until page contains Element  xpath=${xpath_time}\n-  Click Element  xpath=${xpath_time}\n-\n-Page should contain datetime\n-  [Arguments]  ${fieldlabel}  ${year}  ${month}  ${day}  ${time}\n-  Page should contain date   ${fieldlabel}  ${year}  ${month}  ${day}\n-  Page should contain time  ${fieldlabel}  ${time}\n-\n-Page should contain date\n-  [Arguments]  ${fieldlabel}  ${year}  ${month}  ${day}\n-  ${xpath_pattern} =  Convert to String  //div[label[text()[normalize-space(.)="${fieldlabel}"]]]\n-  ${expected_date} =  Evaluate  datetime.date(${year}, ${month}, ${day}).strftime(\'%Y-%m-%d\')  modules=datetime\n-  ${actual_date} =  Get Value  ${xpath_pattern}${xpath_date_input}\n-  Should be equal  ${expected_date}  ${actual_date}\n-\n-Page should contain time\n-  [Arguments]  ${fieldlabel}  ${time}\n-  Page should contain  ${time}\ndiff --git a/plone/app/widgets/tests/robot/test_select_widget.robot b/plone/app/widgets/tests/robot/test_select_widget.robot\nindex c2bd50f0..40b3eed6 100644\n--- a/plone/app/widgets/tests/robot/test_select_widget.robot\n+++ b/plone/app/widgets/tests/robot/test_select_widget.robot\n@@ -19,7 +19,7 @@ ${select_field_name}  form.widgets.select_field\n ${list_field_name}  form.widgets.list_field\n \n ${input_search}  css=div#select2-drop div.select2-search input\n-${dropdown_multiple}  css=div#select2-drop ul.select2-results\n+${dropdown_multiple}  css=.select2-choices\n ${dropdown_select}  css=.select2-choice\n ${results_label}  css=.select2-result-label\n \n@@ -71,27 +71,28 @@ a logged-in member\n \n I type on the autocomplete field\n   [Arguments]  ${text}\n-  Wait For Condition  return $(\'.select2-choices:visible\').length > 0\n+  Wait Until Element is visible  ${dropdown_select}\n   Open Dropdown  ${dropdown_select}  ${input_search}\n   Input Text  ${input_search}  ${text}\n   Click Element  ${results_label}\n \n I type on the multiple autocomplete field\n   [Arguments]  ${text}\n-  Wait For Condition  return $(\'.select2-choices:visible\').length > 0\n+  Wait Until Element is visible  ${dropdown_multiple}\n   Execute Javascript  var $input = $(\'.select2-input\'); $input.click().val(\'${text}\'); var keyup = $.Event(\'keyup-change\'); $input.trigger(keyup); return 0\n   Click Element  ${results_label}\n \n I select the option\n   [Arguments]  ${index}\n-  Wait For Condition  return $(\'.select2-choices:visible\').length > 0\n+  Wait Until Element Is Visible  ${dropdown_select}\n   Open Dropdown  ${dropdown_select}  ${input_search}\n   Click Element  css=li.select2-results-dept-0:nth-child(${index})\n \n I click on the element\n   [Arguments]  ${index}\n-  Wait For Condition  return $(\'.select2-choices:visible\').length > 0\n-  Open Dropdown  css=#formfield-form-widgets-list_field input.select2-input  ${dropdown_multiple}\n+  Wait Until Element is visible  ${dropdown_multiple}\n+  Open Dropdown  ${dropdown_multiple}  ${dropdown_multiple}\n+  Set Focus To Element  css=li.select2-results-dept-0:nth-child(${index})\n   Click Element  css=li.select2-results-dept-0:nth-child(${index})\n \n # Then\ndiff --git a/plone/app/widgets/tests/test_utils.py b/plone/app/widgets/tests/test_utils.py\nindex 3812213e..c3cfd1d6 100644\n--- a/plone/app/widgets/tests/test_utils.py\n+++ b/plone/app/widgets/tests/test_utils.py\n@@ -52,8 +52,8 @@ def test__query_string_options(self):\n \n         # Test options of the date picker\n         self.assertEqual(\n-            options[\'patternDateOptions\'][\'time\'],\n-            False\n+            options[\'patternDateOptions\'],\n+            {\'behavior\': \'native\', \'week-numbers\': \'show\', \'first-day\': 0, \'today\': \'Today\', \'clear\': \'Clear\'}\n         )\n \n         # Test options of the related items widget\ndiff --git a/plone/app/widgets/utils.py b/plone/app/widgets/utils.py\nindex 3594b7fd..a82dc7b6 100644\n--- a/plone/app/widgets/utils.py\n+++ b/plone/app/widgets/utils.py\n@@ -41,25 +41,9 @@ def get_date_options(request):\n     calendar = request.locale.dates.calendars[\'gregorian\']\n     today = datetime.today()\n     return {\n-        \'time\': False,\n-        \'date\': {\n-            \'firstDay\': calendar.week.get(\'firstDay\') == 1 and 1 or 0,\n-            \'weekdaysFull\': [\n-                calendar.days.get(t, (None, None))[0]\n-                for t in (7, 1, 2, 3, 4, 5, 6)],\n-            \'weekdaysShort\': [\n-                calendar.days.get(t, (None, None))[1]\n-                for t in (7, 1, 2, 3, 4, 5, 6)],\n-            \'monthsFull\': calendar.getMonthNames(),\n-            \'monthsShort\': calendar.getMonthAbbreviations(),\n-            \'selectYears\': 200,\n-            \'min\': [today.year - 100, 1, 1],\n-            \'max\': [today.year + 20, 1, 1],\n-            \'format\': translate(\n-                _(\'pickadate_date_format\', default=\'mmmm d, yyyy\'),\n-                context=request),\n-            \'placeholder\': translate(_(\'Enter date...\'), context=request),\n-        },\n+        \'behavior\': \'native\',\n+        \'week-numbers\': \'show\',\n+        \'first-day\': calendar.week.get(\'firstDay\') == 1 and 1 or 0,\n         \'today\': translate(_(u"Today"), context=request),\n         \'clear\': translate(_(u"Clear"), context=request),\n     }\n@@ -67,12 +51,6 @@ def get_date_options(request):\n \n def get_datetime_options(request):\n     options = get_date_options(request)\n-    options[\'time\'] = {\n-        \'format\': translate(\n-            _(\'pickadate_time_format\', default=\'h:i a\'),\n-            context=request),\n-        \'placeholder\': translate(_(\'Enter time...\'), context=request),\n-    }\n     return options\n \n \n'

