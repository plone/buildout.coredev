Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2024-07-23T15:58:24+02:00
Author: Yuri (yurj) <yurj@alfa.it>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/dc01efca771ed6c3f9b7e33aaef2455f57679795

Update manifest.cfg

Add the portal_url parameter to be used with Diazo rules

Files changed:
M plonetheme/barceloneta/theme/manifest.cfg

b'diff --git a/plonetheme/barceloneta/theme/manifest.cfg b/plonetheme/barceloneta/theme/manifest.cfg\nindex 10a5996e..d9578b75 100644\n--- a/plonetheme/barceloneta/theme/manifest.cfg\n+++ b/plonetheme/barceloneta/theme/manifest.cfg\n@@ -14,3 +14,6 @@ production-css = ++theme++barceloneta/css/barceloneta.min.css\n tinymce-content-css = /++theme++barceloneta/css/barceloneta.min.css\n development-js =\n production-js =\n+\n+[theme:parameters]\n+# portal_url = python: portal.absolute_url()\n'

Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2024-07-23T16:01:33+02:00
Author: Yuri (yurj) <yurj@alfa.it>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/bd43f446ce398f8c7acddab74c0504d91cd66a7d

Update backend.xml

Use the portal_url theme parameter in backend.xml

Files changed:
M plonetheme/barceloneta/theme/backend.xml

b'diff --git a/plonetheme/barceloneta/theme/backend.xml b/plonetheme/barceloneta/theme/backend.xml\nindex fda9a722..15476c51 100644\n--- a/plonetheme/barceloneta/theme/backend.xml\n+++ b/plonetheme/barceloneta/theme/backend.xml\n@@ -47,7 +47,7 @@\n \n     <!-- We can\'t control the bundle from here due to include. Just hard code -->\n     <after css:theme-children="head">\n-      <link href="++theme++barceloneta/css/barceloneta.css"\n+      <link href="{$portal_url}/++theme++barceloneta/css/barceloneta.css"\n             rel="stylesheet"\n       />\n     </after>\n'

Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2024-07-23T16:06:29+02:00
Author: Yuri (yurj) <yurj@alfa.it>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/e1f6c6cf9be31e56939798dc411b1917786781d0

Create 376.feature

Files changed:
A news/376.feature

b'diff --git a/news/376.feature b/news/376.feature\nnew file mode 100644\nindex 00000000..0aed4bdc\n--- /dev/null\n+++ b/news/376.feature\n@@ -0,0 +1 @@\n+[yurj] Add the portal_url parameter to be used with Diazo rules and implement it in backend.xml\n'

Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2024-07-23T16:49:42+02:00
Author: Yuri (yurj) <yurj@alfa.it>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/01c75cf6e7e1dc5e2ed43be84eacf52dc21e7297

Update manifest.cfg

Use TAL expression, safer.

Files changed:
M plonetheme/barceloneta/theme/manifest.cfg

b'diff --git a/plonetheme/barceloneta/theme/manifest.cfg b/plonetheme/barceloneta/theme/manifest.cfg\nindex d9578b75..174bb468 100644\n--- a/plonetheme/barceloneta/theme/manifest.cfg\n+++ b/plonetheme/barceloneta/theme/manifest.cfg\n@@ -16,4 +16,4 @@ development-js =\n production-js =\n \n [theme:parameters]\n-# portal_url = python: portal.absolute_url()\n+portal_url = portal_state/portal_url\n'

Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2024-07-25T11:24:24+02:00
Author: Yuri (yurj) <yurj@alfa.it>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/0cbb049e6c26989666980c8b5e30e1703b837ae5

Merge pull request #376 from plone/yurj-theme-portal_url

Add the portal_url parameter to be used with Diazo rules

Files changed:
A news/376.feature
M plonetheme/barceloneta/theme/backend.xml
M plonetheme/barceloneta/theme/manifest.cfg

b'diff --git a/news/376.feature b/news/376.feature\nnew file mode 100644\nindex 00000000..0aed4bdc\n--- /dev/null\n+++ b/news/376.feature\n@@ -0,0 +1 @@\n+[yurj] Add the portal_url parameter to be used with Diazo rules and implement it in backend.xml\ndiff --git a/plonetheme/barceloneta/theme/backend.xml b/plonetheme/barceloneta/theme/backend.xml\nindex fda9a722..15476c51 100644\n--- a/plonetheme/barceloneta/theme/backend.xml\n+++ b/plonetheme/barceloneta/theme/backend.xml\n@@ -47,7 +47,7 @@\n \n     <!-- We can\'t control the bundle from here due to include. Just hard code -->\n     <after css:theme-children="head">\n-      <link href="++theme++barceloneta/css/barceloneta.css"\n+      <link href="{$portal_url}/++theme++barceloneta/css/barceloneta.css"\n             rel="stylesheet"\n       />\n     </after>\ndiff --git a/plonetheme/barceloneta/theme/manifest.cfg b/plonetheme/barceloneta/theme/manifest.cfg\nindex 10a5996e..174bb468 100644\n--- a/plonetheme/barceloneta/theme/manifest.cfg\n+++ b/plonetheme/barceloneta/theme/manifest.cfg\n@@ -14,3 +14,6 @@ production-css = ++theme++barceloneta/css/barceloneta.min.css\n tinymce-content-css = /++theme++barceloneta/css/barceloneta.min.css\n development-js =\n production-js =\n+\n+[theme:parameters]\n+portal_url = portal_state/portal_url\n'

