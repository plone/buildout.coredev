Repository: mockup


Branch: refs/heads/master
Date: 2020-04-02T16:35:30+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/mockup/commit/3b812d58387278b809c5c6ce3675aa09ad76689a

close popovers when ESC is pressed

Files changed:
A news/968.bugfix
M mockup/js/ui/views/popover.js

b"diff --git a/mockup/js/ui/views/popover.js b/mockup/js/ui/views/popover.js\nindex a181358a6..2e02bf118 100644\n--- a/mockup/js/ui/views/popover.js\n+++ b/mockup/js/ui/views/popover.js\n@@ -37,6 +37,7 @@ define([\n       closeOnClick: true\n     },\n     initialize: function(options) {\n+      var self = this;\n       ContainerView.prototype.initialize.apply(this, [options]);\n       this.bindTriggerEvents();\n \n@@ -45,6 +46,12 @@ define([\n         this.renderTitle();\n         this.renderContent();\n       }, this);\n+\n+      this.$el.on('keyup', function(e){\n+        if (e.keyCode === 27) {\n+          self.hide();\n+        }\n+      });\n     },\n     afterRender: function () {\n     },\ndiff --git a/news/968.bugfix b/news/968.bugfix\nnew file mode 100644\nindex 000000000..93eb36aa8\n--- /dev/null\n+++ b/news/968.bugfix\n@@ -0,0 +1,2 @@\n+Close popovers when ESC is pushed\n+[erral & ionlizarazu]\n"

Repository: mockup


Branch: refs/heads/master
Date: 2020-04-09T13:19:22+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/mockup/commit/34f956f8f8886747fc691a57bc0275db308cee3f

Merge pull request #969 from plone/erral-a11y-popover-close-esc

close popovers when ESC is pressed

Files changed:
A news/968.bugfix
M mockup/js/ui/views/popover.js

b"diff --git a/mockup/js/ui/views/popover.js b/mockup/js/ui/views/popover.js\nindex a181358a6..2e02bf118 100644\n--- a/mockup/js/ui/views/popover.js\n+++ b/mockup/js/ui/views/popover.js\n@@ -37,6 +37,7 @@ define([\n       closeOnClick: true\n     },\n     initialize: function(options) {\n+      var self = this;\n       ContainerView.prototype.initialize.apply(this, [options]);\n       this.bindTriggerEvents();\n \n@@ -45,6 +46,12 @@ define([\n         this.renderTitle();\n         this.renderContent();\n       }, this);\n+\n+      this.$el.on('keyup', function(e){\n+        if (e.keyCode === 27) {\n+          self.hide();\n+        }\n+      });\n     },\n     afterRender: function () {\n     },\ndiff --git a/news/968.bugfix b/news/968.bugfix\nnew file mode 100644\nindex 000000000..93eb36aa8\n--- /dev/null\n+++ b/news/968.bugfix\n@@ -0,0 +1,2 @@\n+Close popovers when ESC is pushed\n+[erral & ionlizarazu]\n"

