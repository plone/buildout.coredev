Repository: Products.validation


Branch: refs/heads/master
Date: 2020-04-24T23:23:24+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.validation/commit/8dfeec6d1c560467e5f8053ea25124c0e8c4eb88

fixes #6 - InitializeClass import for Zope 5

Files changed:
A news/6.bugfix
M Products/validation/ZService.py
M setup.py

b'diff --git a/Products/validation/ZService.py b/Products/validation/ZService.py\nindex ae1dcaa..c3aefc1 100644\n--- a/Products/validation/ZService.py\n+++ b/Products/validation/ZService.py\n@@ -1,10 +1,9 @@\n-from Products.validation.service import Service\n-\n-from Acquisition import Implicit\n-from App.class_init import InitializeClass\n from AccessControl import ClassSecurityInfo\n-\n from AccessControl import ModuleSecurityInfo\n+from AccessControl.class_init import InitializeClass\n+from Acquisition import Implicit\n+from Products.validation.service import Service\n+\n \n # make validator service public\n security = ModuleSecurityInfo(\'Products.validation.config\')\ndiff --git a/news/6.bugfix b/news/6.bugfix\nnew file mode 100644\nindex 0000000..66006ec\n--- /dev/null\n+++ b/news/6.bugfix\n@@ -0,0 +1,2 @@\n+Fixes #6 long deprecated InitializeClass import which did not work  in Zope 5.\n+[jensens]\ndiff --git a/setup.py b/setup.py\nindex ce6ccb3..8fdbbd1 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -12,10 +12,12 @@\n         "Development Status :: 6 - Mature",\n         "Framework :: Zope2",\n         "Framework :: Zope :: 4",\n+        "Framework :: Zope :: 5",\n         "Operating System :: OS Independent",\n         "Framework :: Plone",\n         "Framework :: Plone :: 5.1",\n         "Framework :: Plone :: 5.2",\n+        "Framework :: Plone :: 6.0",\n         "License :: OSI Approved :: GNU General Public License (GPL)",\n         "Programming Language :: Python",\n         "Programming Language :: Python :: 2.7",\n'

Repository: Products.validation


Branch: refs/heads/master
Date: 2020-04-25T08:48:39+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.validation/commit/290d8b7a66505e675a9289f91b7885c1a7a8b50d

Merge pull request #7 from plone/fix-6

fixes #6 - InitializeClass import for Zope 5

Files changed:
A news/6.bugfix
M Products/validation/ZService.py
M setup.py

b'diff --git a/Products/validation/ZService.py b/Products/validation/ZService.py\nindex ae1dcaa..c3aefc1 100644\n--- a/Products/validation/ZService.py\n+++ b/Products/validation/ZService.py\n@@ -1,10 +1,9 @@\n-from Products.validation.service import Service\n-\n-from Acquisition import Implicit\n-from App.class_init import InitializeClass\n from AccessControl import ClassSecurityInfo\n-\n from AccessControl import ModuleSecurityInfo\n+from AccessControl.class_init import InitializeClass\n+from Acquisition import Implicit\n+from Products.validation.service import Service\n+\n \n # make validator service public\n security = ModuleSecurityInfo(\'Products.validation.config\')\ndiff --git a/news/6.bugfix b/news/6.bugfix\nnew file mode 100644\nindex 0000000..66006ec\n--- /dev/null\n+++ b/news/6.bugfix\n@@ -0,0 +1,2 @@\n+Fixes #6 long deprecated InitializeClass import which did not work  in Zope 5.\n+[jensens]\ndiff --git a/setup.py b/setup.py\nindex ce6ccb3..8fdbbd1 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -12,10 +12,12 @@\n         "Development Status :: 6 - Mature",\n         "Framework :: Zope2",\n         "Framework :: Zope :: 4",\n+        "Framework :: Zope :: 5",\n         "Operating System :: OS Independent",\n         "Framework :: Plone",\n         "Framework :: Plone :: 5.1",\n         "Framework :: Plone :: 5.2",\n+        "Framework :: Plone :: 6.0",\n         "License :: OSI Approved :: GNU General Public License (GPL)",\n         "Programming Language :: Python",\n         "Programming Language :: Python :: 2.7",\n'

