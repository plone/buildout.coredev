Repository: plone.app.referenceablebehavior


Branch: refs/heads/master
Date: 2021-10-05T20:56:04+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.referenceablebehavior/commit/41177637ce00cebb5404080094676cdd59591b09

Prevent installation on Python 3, where we know Archetypes does not work.

Files changed:
A news/3330.bugfix
M setup.py

b'diff --git a/news/3330.bugfix b/news/3330.bugfix\nnew file mode 100644\nindex 0000000..a23a636\n--- /dev/null\n+++ b/news/3330.bugfix\n@@ -0,0 +1,2 @@\n+Prevent installation on Python 3, as we know Archetypes does not work there.\n+[maurits]\ndiff --git a/setup.py b/setup.py\nindex 4d350bb..7ff7cad 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -1,6 +1,13 @@\n # -*- coding: utf-8 -*-\n from setuptools import setup, find_packages\n \n+import sys\n+\n+\n+if sys.version_info[0] != 2:\n+    # Prevent creating or installing a distribution with Python 3.\n+    raise ValueError("plone.app.referenceablebehavior is based on Archetypes, which is Python 2 only.")\n+\n version = \'0.7.9.dev0\'\n \n setup(\n@@ -34,6 +41,7 @@\n     namespace_packages=[\'plone\', \'plone.app\'],\n     include_package_data=True,\n     zip_safe=False,\n+    python_requires=\'==2.7.*\',\n     install_requires=[\n         \'setuptools\',\n         \'plone.app.locales >= 4.3.9\',\n'

Repository: plone.app.referenceablebehavior


Branch: refs/heads/master
Date: 2021-10-07T12:27:55+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.referenceablebehavior/commit/935d249a9a69ee09811765587919986733909cc1

Merge pull request #14 from plone/prevent-installation-on-py3

Prevent installation on Python 3, where we know Archetypes does not work

Files changed:
A news/3330.bugfix
M setup.py

b'diff --git a/news/3330.bugfix b/news/3330.bugfix\nnew file mode 100644\nindex 0000000..a23a636\n--- /dev/null\n+++ b/news/3330.bugfix\n@@ -0,0 +1,2 @@\n+Prevent installation on Python 3, as we know Archetypes does not work there.\n+[maurits]\ndiff --git a/setup.py b/setup.py\nindex 4d350bb..7ff7cad 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -1,6 +1,13 @@\n # -*- coding: utf-8 -*-\n from setuptools import setup, find_packages\n \n+import sys\n+\n+\n+if sys.version_info[0] != 2:\n+    # Prevent creating or installing a distribution with Python 3.\n+    raise ValueError("plone.app.referenceablebehavior is based on Archetypes, which is Python 2 only.")\n+\n version = \'0.7.9.dev0\'\n \n setup(\n@@ -34,6 +41,7 @@\n     namespace_packages=[\'plone\', \'plone.app\'],\n     include_package_data=True,\n     zip_safe=False,\n+    python_requires=\'==2.7.*\',\n     install_requires=[\n         \'setuptools\',\n         \'plone.app.locales >= 4.3.9\',\n'

