Repository: plone.subrequest


Branch: refs/heads/master
Date: 2020-08-22T11:16:22+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.subrequest/commit/4ddab797fdafd090e7ac822f0c8e50b2bf85611d

Fixed deprecation warning for zope.site.hooks.

```
DeprecationWarning: zope.site.hooks has moved to zope.component.hooks. Import of zope.site.hooks will become unsupported in Version 5.0
```

Files changed:
A news/24.bugfix
M plone/subrequest/__init__.py

b'diff --git a/news/24.bugfix b/news/24.bugfix\nnew file mode 100644\nindex 0000000..8d46895\n--- /dev/null\n+++ b/news/24.bugfix\n@@ -0,0 +1,2 @@\n+Fixed deprecation warning for zope.site.hooks.\n+[maurits]\ndiff --git a/plone/subrequest/__init__.py b/plone/subrequest/__init__.py\nindex fbc5852..6071348 100644\n--- a/plone/subrequest/__init__.py\n+++ b/plone/subrequest/__init__.py\n@@ -12,11 +12,11 @@\n from six.moves.urllib.parse import urljoin\n from six.moves.urllib.parse import urlsplit\n from zope.component import queryMultiAdapter\n+from zope.component.hooks import getSite\n+from zope.component.hooks import setSite\n from zope.globalrequest import getRequest\n from zope.globalrequest import setRequest\n from zope.interface import alsoProvides\n-from zope.site.hooks import getSite\n-from zope.site.hooks import setSite\n from ZPublisher.BaseRequest import RequestContainer\n from ZPublisher.mapply import mapply\n \n'

Repository: plone.subrequest


Branch: refs/heads/master
Date: 2020-08-24T11:15:20+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.subrequest/commit/392aecf1de57ed476338ad315c9a9537859c5696

Merge pull request #24 from plone/maurits/fix-startup-warnings

Fixed deprecation warning for zope.site.hooks

Files changed:
A news/24.bugfix
M plone/subrequest/__init__.py

b'diff --git a/news/24.bugfix b/news/24.bugfix\nnew file mode 100644\nindex 0000000..8d46895\n--- /dev/null\n+++ b/news/24.bugfix\n@@ -0,0 +1,2 @@\n+Fixed deprecation warning for zope.site.hooks.\n+[maurits]\ndiff --git a/plone/subrequest/__init__.py b/plone/subrequest/__init__.py\nindex fbc5852..6071348 100644\n--- a/plone/subrequest/__init__.py\n+++ b/plone/subrequest/__init__.py\n@@ -12,11 +12,11 @@\n from six.moves.urllib.parse import urljoin\n from six.moves.urllib.parse import urlsplit\n from zope.component import queryMultiAdapter\n+from zope.component.hooks import getSite\n+from zope.component.hooks import setSite\n from zope.globalrequest import getRequest\n from zope.globalrequest import setRequest\n from zope.interface import alsoProvides\n-from zope.site.hooks import getSite\n-from zope.site.hooks import setSite\n from ZPublisher.BaseRequest import RequestContainer\n from ZPublisher.mapply import mapply\n \n'

