Repository: plone.app.content


Branch: refs/heads/master
Date: 2024-06-28T11:08:45+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.content/commit/e3883de48407cd2ae1cbde43c6aa7178205cdbde

Fix BS styling in `content_status_history`

Files changed:
M plone/app/content/browser/templates/content_status_history.pt

b'diff --git a/plone/app/content/browser/templates/content_status_history.pt b/plone/app/content/browser/templates/content_status_history.pt\nindex ed967dd..ff335e6 100644\n--- a/plone/app/content/browser/templates/content_status_history.pt\n+++ b/plone/app/content/browser/templates/content_status_history.pt\n@@ -69,7 +69,7 @@\n           i18n:translate="heading_publishing_process"\n       >Publishing process</h1>\n \n-      <div class="documentDescription"\n+      <div class="lead"\n            i18n:translate="description_publishing_process_short"\n       >\n         An item\'s status (also called its review state) determines who\n@@ -93,7 +93,7 @@\n               "\n         >\n \n-          <div class="field"\n+          <div class="field mb-3"\n                tal:define="\n                  error errors/paths | nothing;\n                "\n@@ -102,13 +102,13 @@\n                  class python:error and \'field error\' or \'field\';\n                "\n           >\n-            <label i18n:translate="label_affected_content">Affected content</label>\n-            <div tal:content="error">Validation error output</div>\n+            <label class="form-label" i18n:translate="label_affected_content">Affected content</label>\n+\n             <div tal:define="\n                    dummy python:request.set(\'ids_checked\', 1);\n                    use_view_action python:context.portal_registry.get(\'plone.types_use_view_action_in_listings\', ());\n                  ">\n-              <table class="listing"\n+              <table class="table table-sm pat-checklist"\n                      id="sortable"\n                      summary="Affected content"\n                      i18n:attributes="summary summary_affected_content;"\n@@ -116,33 +116,28 @@\n                 <thead>\n                   <metal:block tal:condition="batch|nothing">\n                     <tr>\n-                      <th class="nosort">\n-                        <input class="noborder"\n+                      <th>\n+                        <input class="form-check-input toggle-all"\n                                alt="Select all items"\n                                name="selectButton"\n-                               onclick="toggleSelect(this,\'paths:list\');"\n                                title="Select all items"\n                                type="checkbox"\n                                i18n:attributes="title label_select_all_items; alt label_select_all_items;"\n                         />\n                       </th>\n-                      <th class="nosort"\n-                          i18n:translate="listingheader_title"\n+                      <th i18n:translate="listingheader_title"\n                       >\n                             Title\n                       </th>\n-                      <th class="nosort"\n-                          i18n:translate="listingheader_size"\n+                      <th i18n:translate="listingheader_size"\n                       >\n                               Size\n                       </th>\n-                      <th class="nosort"\n-                          i18n:translate="listingheader_modified"\n+                      <th i18n:translate="listingheader_modified"\n                       >\n                               Modified\n                       </th>\n-                      <th class="nosort"\n-                          i18n:translate="listingheader_status"\n+                      <th i18n:translate="listingheader_status"\n                       >\n                               State\n                       </th>\n@@ -187,8 +182,8 @@\n                           "\n                       >\n \n-                        <td class="notDraggable">\n-                          <input class="noborder"\n+                        <td>\n+                          <input class="form-check-input"\n                                  id="#"\n                                  name="paths:list"\n                                  type="checkbox"\n@@ -294,46 +289,43 @@\n \n               </table>\n             </div>\n+\n+            <div class="invalid-feedback" tal:content="error">Validation error output</div>\n           </div>\n \n-          <div class="field formSingleCheckbox"\n+          <div class="field mb-3"\n                tal:condition="folders_in_publishing|nothing"\n           >\n+            <div class="form-check">\n+              <input class="form-check-input"\n+                     id="include_children"\n+                     name="include_children"\n+                     type="checkbox"\n+              />\n+              <label class="form-check-label"\n+                     for="include_children"\n+                     i18n:translate="label_include_contained_objects"\n+              >\n+                    Include contained items\n+              </label>\n \n-            <input class="formElement"\n-                   id="include_children"\n-                   name="include_children"\n-                   type="checkbox"\n-            />\n-            <label for="include_children"\n-                   i18n:translate="label_include_contained_objects"\n-            >\n-                  Include contained items\n-            </label>\n+              <div class="form-text"\n+                   i18n:translate="help_include_contained_objects"\n+              >\n+                    If checked, this will attempt to modify the status of all content\n+                    in any selected folders and their subfolders.\n+              </div>\n \n-            <div class="formHelp"\n-                 i18n:translate="help_include_contained_objects"\n-            >\n-                  If checked, this will attempt to modify the status of all content\n-                  in any selected folders and their subfolders.\n             </div>\n \n           </div>\n \n-          <div class="field"\n+          <div class="field mb-3"\n                tal:define="\n                  error errors/effective_date | nothing;\n                "\n           >\n-            <label i18n:translate="label_effective_date">Publishing Date</label>\n-            <div class="formHelp"\n-                 i18n:translate="help_effective_date_content_status_history"\n-            >\n-                  The date when the item will be published. If no date is selected the\n-                  item will be published immediately.\n-            </div>\n-\n-            <div tal:content="error">Validation error output</div>\n+            <label class="form-label" i18n:translate="label_effective_date">Publishing Date</label>\n \n             <div tal:define="\n                    inputname  string:effective_date;\n@@ -351,6 +343,14 @@\n               </div>\n \n             </div>\n+            <div class="form-text"\n+                 i18n:translate="help_effective_date_content_status_history"\n+            >\n+                  The date when the item will be published. If no date is selected the\n+                  item will be published immediately.\n+            </div>\n+            <div class="invalid-feedback" tal:content="error">Validation error output</div>\n+\n           </div>\n \n           <div class="field"\n@@ -359,7 +359,24 @@\n                "\n           >\n             <label i18n:translate="label_expiration_date">Expiration Date</label>\n-            <div class="formHelp"\n+\n+            <div tal:define="\n+                    inputname  string:expiration_date;\n+                    formname   string:edit_form;\n+                    expiration context/ExpirationDate;\n+                    inputvalue python:(expiration and expiration!=\'None\') and expiration or request.get(\'expiration_date\', \'\');\n+                  "\n+                  tal:attributes="\n+                    class python:error and \'field error\' or \'field\';\n+                  "\n+            >\n+\n+              <div tal:replace="structure python: view.dates_form.widgets[\'expiration_date\'].render()">\n+                    calendar pop-up\n+              </div>\n+            </div>\n+\n+            <div class="form-text"\n                  i18n:translate="help_expiration_date_content_status_history"\n             >\n                   The date when the item expires. This will automatically\n@@ -367,54 +384,34 @@\n                   If no date is chosen, it will never expire.\n             </div>\n \n-            <div tal:content="error">Validation error output</div>\n+            <div class="invalid-feedback" tal:content="error">Validation error output</div>\n \n-            <div class="field">\n-              <div tal:define="\n-                     inputname  string:expiration_date;\n-                     formname   string:edit_form;\n-                     expiration context/ExpirationDate;\n-                     inputvalue python:(expiration and expiration!=\'None\') and expiration or request.get(\'expiration_date\', \'\');\n-                   "\n-                   tal:attributes="\n-                     class python:error and \'field error\' or \'field\';\n-                   "\n-              >\n-\n-                <div tal:replace="structure python: view.dates_form.widgets[\'expiration_date\'].render()">\n-                      calendar pop-up\n-                </div>\n-              </div>\n-            </div>\n           </div>\n \n-          <div class="field">\n-            <label for="comment"\n+          <div class="field mb-3">\n+            <label class="form-label"\n+                    for="comment"\n                    i18n:translate="label_comments"\n             >Comments</label>\n \n-            <div class="formHelp"\n+            <textarea class="form-control"\n+                      id="comment"\n+                      cols="60"\n+                      name="comment"\n+                      rows="5"\n+                      tal:content="request/comment|nothing"\n+            ></textarea>\n+            <div class="form-text"\n                  i18n:translate="help_publishing_comments"\n             >\n                   Will be added to the publishing history. If multiple\n                   items are selected, this comment will be attached to all\n                   of them.\n             </div>\n-            <textarea id="comment"\n-                      cols="60"\n-                      name="comment"\n-                      rows="5"\n-                      tal:content="request/comment|nothing"\n-            ></textarea>\n           </div>\n \n-          <div class="field">\n-            <label i18n:translate="label_change_status">Change State</label>\n-            <div class="formHelp"\n-                 i18n:translate="help_change_status_action"\n-            >\n-                  Select the transition to be used for modifying the items state.\n-            </div>\n+          <div class="field mb-3">\n+            <label class="form-label" i18n:translate="label_change_status">Change State</label>\n \n             <div tal:define="\n                    error_workflow_action errors/workflow_action|nothing;\n@@ -426,7 +423,7 @@\n                  "\n             >\n \n-              <div tal:condition="error_workflow_action">\n+              <div class="invalid-feedback" tal:condition="error_workflow_action">\n                 <tal:block content="error_workflow_action">Error</tal:block>\n                 <br />\n               </div>\n@@ -438,54 +435,57 @@\n                     are currently in along with possible transitions.\n               </span>\n \n-              <input class="noborder"\n-                     id="workflow_action"\n-                     name="workflow_action"\n-                     title=""\n-                     type="radio"\n-                     value=""\n-                     tal:attributes="\n-                       value review_state;\n-                       title review_state;\n-                       checked python:request.get(\'workflow_action\', review_state)==review_state and 1 or 0;\n-                     "\n-              />\n-              <label for="workflow_action"\n-                     i18n:translate="label_no_change"\n-              >No change</label>\n-              <br />\n+              <div class="form-check">\n+                <input class="form-check-input"\n+                       id="workflow_action"\n+                       name="workflow_action"\n+                       title=""\n+                       type="radio"\n+                       value=""\n+                       tal:attributes="\n+                         value review_state;\n+                         title review_state;\n+                         checked python:request.get(\'workflow_action\', review_state)==review_state and 1 or 0;\n+                       "\n+                />\n+                <label class="form-check-label"\n+                       for="workflow_action"\n+                       i18n:translate="label_no_change"\n+                >No change</label>\n+              </div>\n \n-              <tal:block define="\n+              <div class="form-check"\n+                   tal:define="\n                            transitions python:context.portal_workflow.getTransitionsFor(target, context);\n-                         "\n-                         repeat="transition transitions"\n+                   "\n+                   tal:repeat="transition transitions"\n               >\n-                <input class="noborder"\n-                       id=""\n+                <input class="form-check-input"\n+                       id="${transition/id}"\n                        name="workflow_action"\n-                       title=""\n+                       title="${transition/name}"\n                        type="radio"\n-                       value=""\n+                       value="${transition/id}"\n                        tal:attributes="\n-                         value transition/id;\n-                         id    transition/id;\n-                         title transition/name;\n                          checked python:transition.get(\'id\') == request.get(\'workflow_action\', \'\') and \'checked\' or None;\n                        "\n                        i18n:attributes="title"\n                 />\n-                <label for=""\n+                <label class="form-check-label"\n+                       for="${transition/id}"\n                        tal:content="transition/name"\n-                       tal:attributes="\n-                         for transition/id;\n-                       "\n                        i18n:translate=""\n                 >Transition Name</label>\n-                <br />\n-              </tal:block>\n+              </div>\n \n             </div>\n \n+            <div class="form-text"\n+                 i18n:translate="help_change_status_action"\n+            >\n+                  Select the transition to be used for modifying the items state.\n+            </div>\n+\n           </div>\n \n           <div class="formControls">\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2024-06-28T11:11:28+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.content/commit/72c43b8bae19e984654ce41e1aa0effb69c32d59

changenote

Files changed:
A news/285.bugfix

b'diff --git a/news/285.bugfix b/news/285.bugfix\nnew file mode 100644\nindex 00000000..1ab1ab30\n--- /dev/null\n+++ b/news/285.bugfix\n@@ -0,0 +1,2 @@\n+Fix BS styling in ``content_status_history`` template and replace deprecated ``toggleSelect()`` with ``pat-checklist``\n+[petschki]\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2024-06-28T11:13:23+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.content/commit/bc7b80a84ee55cbb87e48de2e0126884897992d6

lint

Files changed:
M plone/app/content/browser/templates/content_status_history.pt

b'diff --git a/plone/app/content/browser/templates/content_status_history.pt b/plone/app/content/browser/templates/content_status_history.pt\nindex ff335e6..e183362 100644\n--- a/plone/app/content/browser/templates/content_status_history.pt\n+++ b/plone/app/content/browser/templates/content_status_history.pt\n@@ -102,7 +102,9 @@\n                  class python:error and \'field error\' or \'field\';\n                "\n           >\n-            <label class="form-label" i18n:translate="label_affected_content">Affected content</label>\n+            <label class="form-label"\n+                   i18n:translate="label_affected_content"\n+            >Affected content</label>\n \n             <div tal:define="\n                    dummy python:request.set(\'ids_checked\', 1);\n@@ -125,20 +127,16 @@\n                                i18n:attributes="title label_select_all_items; alt label_select_all_items;"\n                         />\n                       </th>\n-                      <th i18n:translate="listingheader_title"\n-                      >\n+                      <th i18n:translate="listingheader_title">\n                             Title\n                       </th>\n-                      <th i18n:translate="listingheader_size"\n-                      >\n+                      <th i18n:translate="listingheader_size">\n                               Size\n                       </th>\n-                      <th i18n:translate="listingheader_modified"\n-                      >\n+                      <th i18n:translate="listingheader_modified">\n                               Modified\n                       </th>\n-                      <th i18n:translate="listingheader_status"\n-                      >\n+                      <th i18n:translate="listingheader_status">\n                               State\n                       </th>\n                     </tr>\n@@ -290,7 +288,9 @@\n               </table>\n             </div>\n \n-            <div class="invalid-feedback" tal:content="error">Validation error output</div>\n+            <div class="invalid-feedback"\n+                 tal:content="error"\n+            >Validation error output</div>\n           </div>\n \n           <div class="field mb-3"\n@@ -325,7 +325,9 @@\n                  error errors/effective_date | nothing;\n                "\n           >\n-            <label class="form-label" i18n:translate="label_effective_date">Publishing Date</label>\n+            <label class="form-label"\n+                   i18n:translate="label_effective_date"\n+            >Publishing Date</label>\n \n             <div tal:define="\n                    inputname  string:effective_date;\n@@ -349,7 +351,9 @@\n                   The date when the item will be published. If no date is selected the\n                   item will be published immediately.\n             </div>\n-            <div class="invalid-feedback" tal:content="error">Validation error output</div>\n+            <div class="invalid-feedback"\n+                 tal:content="error"\n+            >Validation error output</div>\n \n           </div>\n \n@@ -361,14 +365,14 @@\n             <label i18n:translate="label_expiration_date">Expiration Date</label>\n \n             <div tal:define="\n-                    inputname  string:expiration_date;\n-                    formname   string:edit_form;\n-                    expiration context/ExpirationDate;\n-                    inputvalue python:(expiration and expiration!=\'None\') and expiration or request.get(\'expiration_date\', \'\');\n-                  "\n-                  tal:attributes="\n-                    class python:error and \'field error\' or \'field\';\n-                  "\n+                   inputname  string:expiration_date;\n+                   formname   string:edit_form;\n+                   expiration context/ExpirationDate;\n+                   inputvalue python:(expiration and expiration!=\'None\') and expiration or request.get(\'expiration_date\', \'\');\n+                 "\n+                 tal:attributes="\n+                   class python:error and \'field error\' or \'field\';\n+                 "\n             >\n \n               <div tal:replace="structure python: view.dates_form.widgets[\'expiration_date\'].render()">\n@@ -384,13 +388,15 @@\n                   If no date is chosen, it will never expire.\n             </div>\n \n-            <div class="invalid-feedback" tal:content="error">Validation error output</div>\n+            <div class="invalid-feedback"\n+                 tal:content="error"\n+            >Validation error output</div>\n \n           </div>\n \n           <div class="field mb-3">\n             <label class="form-label"\n-                    for="comment"\n+                   for="comment"\n                    i18n:translate="label_comments"\n             >Comments</label>\n \n@@ -411,7 +417,9 @@\n           </div>\n \n           <div class="field mb-3">\n-            <label class="form-label" i18n:translate="label_change_status">Change State</label>\n+            <label class="form-label"\n+                   i18n:translate="label_change_status"\n+            >Change State</label>\n \n             <div tal:define="\n                    error_workflow_action errors/workflow_action|nothing;\n@@ -423,7 +431,9 @@\n                  "\n             >\n \n-              <div class="invalid-feedback" tal:condition="error_workflow_action">\n+              <div class="invalid-feedback"\n+                   tal:condition="error_workflow_action"\n+              >\n                 <tal:block content="error_workflow_action">Error</tal:block>\n                 <br />\n               </div>\n@@ -456,7 +466,7 @@\n \n               <div class="form-check"\n                    tal:define="\n-                           transitions python:context.portal_workflow.getTransitionsFor(target, context);\n+                     transitions python:context.portal_workflow.getTransitionsFor(target, context);\n                    "\n                    tal:repeat="transition transitions"\n               >\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2024-06-28T11:15:36+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.content/commit/6c030027414da77af25ba2997a4d17d1fc531b6b

missing margin after "expiration_date"

Files changed:
M plone/app/content/browser/templates/content_status_history.pt

b'diff --git a/plone/app/content/browser/templates/content_status_history.pt b/plone/app/content/browser/templates/content_status_history.pt\nindex e183362..8bd5a93 100644\n--- a/plone/app/content/browser/templates/content_status_history.pt\n+++ b/plone/app/content/browser/templates/content_status_history.pt\n@@ -357,7 +357,7 @@\n \n           </div>\n \n-          <div class="field"\n+          <div class="field mb-3"\n                tal:define="\n                  error errors/expiration_date | nothing;\n                "\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2024-07-01T05:59:20-04:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.content/commit/99c6d633e4143930dbde1b0571b2bb79ee268d8a

Merge pull request #285 from plone/contentstatushistory-bootstrap-fixes

Fix BS styling in `content_status_history`

Files changed:
A news/285.bugfix
M plone/app/content/browser/templates/content_status_history.pt

b'diff --git a/news/285.bugfix b/news/285.bugfix\nnew file mode 100644\nindex 00000000..1ab1ab30\n--- /dev/null\n+++ b/news/285.bugfix\n@@ -0,0 +1,2 @@\n+Fix BS styling in ``content_status_history`` template and replace deprecated ``toggleSelect()`` with ``pat-checklist``\n+[petschki]\ndiff --git a/plone/app/content/browser/templates/content_status_history.pt b/plone/app/content/browser/templates/content_status_history.pt\nindex ed967ddf..8bd5a93f 100644\n--- a/plone/app/content/browser/templates/content_status_history.pt\n+++ b/plone/app/content/browser/templates/content_status_history.pt\n@@ -69,7 +69,7 @@\n           i18n:translate="heading_publishing_process"\n       >Publishing process</h1>\n \n-      <div class="documentDescription"\n+      <div class="lead"\n            i18n:translate="description_publishing_process_short"\n       >\n         An item\'s status (also called its review state) determines who\n@@ -93,7 +93,7 @@\n               "\n         >\n \n-          <div class="field"\n+          <div class="field mb-3"\n                tal:define="\n                  error errors/paths | nothing;\n                "\n@@ -102,13 +102,15 @@\n                  class python:error and \'field error\' or \'field\';\n                "\n           >\n-            <label i18n:translate="label_affected_content">Affected content</label>\n-            <div tal:content="error">Validation error output</div>\n+            <label class="form-label"\n+                   i18n:translate="label_affected_content"\n+            >Affected content</label>\n+\n             <div tal:define="\n                    dummy python:request.set(\'ids_checked\', 1);\n                    use_view_action python:context.portal_registry.get(\'plone.types_use_view_action_in_listings\', ());\n                  ">\n-              <table class="listing"\n+              <table class="table table-sm pat-checklist"\n                      id="sortable"\n                      summary="Affected content"\n                      i18n:attributes="summary summary_affected_content;"\n@@ -116,34 +118,25 @@\n                 <thead>\n                   <metal:block tal:condition="batch|nothing">\n                     <tr>\n-                      <th class="nosort">\n-                        <input class="noborder"\n+                      <th>\n+                        <input class="form-check-input toggle-all"\n                                alt="Select all items"\n                                name="selectButton"\n-                               onclick="toggleSelect(this,\'paths:list\');"\n                                title="Select all items"\n                                type="checkbox"\n                                i18n:attributes="title label_select_all_items; alt label_select_all_items;"\n                         />\n                       </th>\n-                      <th class="nosort"\n-                          i18n:translate="listingheader_title"\n-                      >\n+                      <th i18n:translate="listingheader_title">\n                             Title\n                       </th>\n-                      <th class="nosort"\n-                          i18n:translate="listingheader_size"\n-                      >\n+                      <th i18n:translate="listingheader_size">\n                               Size\n                       </th>\n-                      <th class="nosort"\n-                          i18n:translate="listingheader_modified"\n-                      >\n+                      <th i18n:translate="listingheader_modified">\n                               Modified\n                       </th>\n-                      <th class="nosort"\n-                          i18n:translate="listingheader_status"\n-                      >\n+                      <th i18n:translate="listingheader_status">\n                               State\n                       </th>\n                     </tr>\n@@ -187,8 +180,8 @@\n                           "\n                       >\n \n-                        <td class="notDraggable">\n-                          <input class="noborder"\n+                        <td>\n+                          <input class="form-check-input"\n                                  id="#"\n                                  name="paths:list"\n                                  type="checkbox"\n@@ -294,46 +287,47 @@\n \n               </table>\n             </div>\n+\n+            <div class="invalid-feedback"\n+                 tal:content="error"\n+            >Validation error output</div>\n           </div>\n \n-          <div class="field formSingleCheckbox"\n+          <div class="field mb-3"\n                tal:condition="folders_in_publishing|nothing"\n           >\n+            <div class="form-check">\n+              <input class="form-check-input"\n+                     id="include_children"\n+                     name="include_children"\n+                     type="checkbox"\n+              />\n+              <label class="form-check-label"\n+                     for="include_children"\n+                     i18n:translate="label_include_contained_objects"\n+              >\n+                    Include contained items\n+              </label>\n \n-            <input class="formElement"\n-                   id="include_children"\n-                   name="include_children"\n-                   type="checkbox"\n-            />\n-            <label for="include_children"\n-                   i18n:translate="label_include_contained_objects"\n-            >\n-                  Include contained items\n-            </label>\n+              <div class="form-text"\n+                   i18n:translate="help_include_contained_objects"\n+              >\n+                    If checked, this will attempt to modify the status of all content\n+                    in any selected folders and their subfolders.\n+              </div>\n \n-            <div class="formHelp"\n-                 i18n:translate="help_include_contained_objects"\n-            >\n-                  If checked, this will attempt to modify the status of all content\n-                  in any selected folders and their subfolders.\n             </div>\n \n           </div>\n \n-          <div class="field"\n+          <div class="field mb-3"\n                tal:define="\n                  error errors/effective_date | nothing;\n                "\n           >\n-            <label i18n:translate="label_effective_date">Publishing Date</label>\n-            <div class="formHelp"\n-                 i18n:translate="help_effective_date_content_status_history"\n-            >\n-                  The date when the item will be published. If no date is selected the\n-                  item will be published immediately.\n-            </div>\n-\n-            <div tal:content="error">Validation error output</div>\n+            <label class="form-label"\n+                   i18n:translate="label_effective_date"\n+            >Publishing Date</label>\n \n             <div tal:define="\n                    inputname  string:effective_date;\n@@ -351,15 +345,42 @@\n               </div>\n \n             </div>\n+            <div class="form-text"\n+                 i18n:translate="help_effective_date_content_status_history"\n+            >\n+                  The date when the item will be published. If no date is selected the\n+                  item will be published immediately.\n+            </div>\n+            <div class="invalid-feedback"\n+                 tal:content="error"\n+            >Validation error output</div>\n+\n           </div>\n \n-          <div class="field"\n+          <div class="field mb-3"\n                tal:define="\n                  error errors/expiration_date | nothing;\n                "\n           >\n             <label i18n:translate="label_expiration_date">Expiration Date</label>\n-            <div class="formHelp"\n+\n+            <div tal:define="\n+                   inputname  string:expiration_date;\n+                   formname   string:edit_form;\n+                   expiration context/ExpirationDate;\n+                   inputvalue python:(expiration and expiration!=\'None\') and expiration or request.get(\'expiration_date\', \'\');\n+                 "\n+                 tal:attributes="\n+                   class python:error and \'field error\' or \'field\';\n+                 "\n+            >\n+\n+              <div tal:replace="structure python: view.dates_form.widgets[\'expiration_date\'].render()">\n+                    calendar pop-up\n+              </div>\n+            </div>\n+\n+            <div class="form-text"\n                  i18n:translate="help_expiration_date_content_status_history"\n             >\n                   The date when the item expires. This will automatically\n@@ -367,54 +388,38 @@\n                   If no date is chosen, it will never expire.\n             </div>\n \n-            <div tal:content="error">Validation error output</div>\n-\n-            <div class="field">\n-              <div tal:define="\n-                     inputname  string:expiration_date;\n-                     formname   string:edit_form;\n-                     expiration context/ExpirationDate;\n-                     inputvalue python:(expiration and expiration!=\'None\') and expiration or request.get(\'expiration_date\', \'\');\n-                   "\n-                   tal:attributes="\n-                     class python:error and \'field error\' or \'field\';\n-                   "\n-              >\n+            <div class="invalid-feedback"\n+                 tal:content="error"\n+            >Validation error output</div>\n \n-                <div tal:replace="structure python: view.dates_form.widgets[\'expiration_date\'].render()">\n-                      calendar pop-up\n-                </div>\n-              </div>\n-            </div>\n           </div>\n \n-          <div class="field">\n-            <label for="comment"\n+          <div class="field mb-3">\n+            <label class="form-label"\n+                   for="comment"\n                    i18n:translate="label_comments"\n             >Comments</label>\n \n-            <div class="formHelp"\n+            <textarea class="form-control"\n+                      id="comment"\n+                      cols="60"\n+                      name="comment"\n+                      rows="5"\n+                      tal:content="request/comment|nothing"\n+            ></textarea>\n+            <div class="form-text"\n                  i18n:translate="help_publishing_comments"\n             >\n                   Will be added to the publishing history. If multiple\n                   items are selected, this comment will be attached to all\n                   of them.\n             </div>\n-            <textarea id="comment"\n-                      cols="60"\n-                      name="comment"\n-                      rows="5"\n-                      tal:content="request/comment|nothing"\n-            ></textarea>\n           </div>\n \n-          <div class="field">\n-            <label i18n:translate="label_change_status">Change State</label>\n-            <div class="formHelp"\n-                 i18n:translate="help_change_status_action"\n-            >\n-                  Select the transition to be used for modifying the items state.\n-            </div>\n+          <div class="field mb-3">\n+            <label class="form-label"\n+                   i18n:translate="label_change_status"\n+            >Change State</label>\n \n             <div tal:define="\n                    error_workflow_action errors/workflow_action|nothing;\n@@ -426,7 +431,9 @@\n                  "\n             >\n \n-              <div tal:condition="error_workflow_action">\n+              <div class="invalid-feedback"\n+                   tal:condition="error_workflow_action"\n+              >\n                 <tal:block content="error_workflow_action">Error</tal:block>\n                 <br />\n               </div>\n@@ -438,54 +445,57 @@\n                     are currently in along with possible transitions.\n               </span>\n \n-              <input class="noborder"\n-                     id="workflow_action"\n-                     name="workflow_action"\n-                     title=""\n-                     type="radio"\n-                     value=""\n-                     tal:attributes="\n-                       value review_state;\n-                       title review_state;\n-                       checked python:request.get(\'workflow_action\', review_state)==review_state and 1 or 0;\n-                     "\n-              />\n-              <label for="workflow_action"\n-                     i18n:translate="label_no_change"\n-              >No change</label>\n-              <br />\n-\n-              <tal:block define="\n-                           transitions python:context.portal_workflow.getTransitionsFor(target, context);\n-                         "\n-                         repeat="transition transitions"\n-              >\n-                <input class="noborder"\n-                       id=""\n+              <div class="form-check">\n+                <input class="form-check-input"\n+                       id="workflow_action"\n                        name="workflow_action"\n                        title=""\n                        type="radio"\n                        value=""\n                        tal:attributes="\n-                         value transition/id;\n-                         id    transition/id;\n-                         title transition/name;\n+                         value review_state;\n+                         title review_state;\n+                         checked python:request.get(\'workflow_action\', review_state)==review_state and 1 or 0;\n+                       "\n+                />\n+                <label class="form-check-label"\n+                       for="workflow_action"\n+                       i18n:translate="label_no_change"\n+                >No change</label>\n+              </div>\n+\n+              <div class="form-check"\n+                   tal:define="\n+                     transitions python:context.portal_workflow.getTransitionsFor(target, context);\n+                   "\n+                   tal:repeat="transition transitions"\n+              >\n+                <input class="form-check-input"\n+                       id="${transition/id}"\n+                       name="workflow_action"\n+                       title="${transition/name}"\n+                       type="radio"\n+                       value="${transition/id}"\n+                       tal:attributes="\n                          checked python:transition.get(\'id\') == request.get(\'workflow_action\', \'\') and \'checked\' or None;\n                        "\n                        i18n:attributes="title"\n                 />\n-                <label for=""\n+                <label class="form-check-label"\n+                       for="${transition/id}"\n                        tal:content="transition/name"\n-                       tal:attributes="\n-                         for transition/id;\n-                       "\n                        i18n:translate=""\n                 >Transition Name</label>\n-                <br />\n-              </tal:block>\n+              </div>\n \n             </div>\n \n+            <div class="form-text"\n+                 i18n:translate="help_change_status_action"\n+            >\n+                  Select the transition to be used for modifying the items state.\n+            </div>\n+\n           </div>\n \n           <div class="formControls">\n'

