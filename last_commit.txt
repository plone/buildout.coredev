Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2023-06-30T10:05:13+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.schemaeditor/commit/8f4aae0cd9a02dd4bffc058a50eaa6804a9ee27d

remove dependency on `plone.app.z3cform`

Files changed:
M plone/schemaeditor/schema.py
M setup.py

b'diff --git a/plone/schemaeditor/schema.py b/plone/schemaeditor/schema.py\nindex f9dc149..a113858 100644\n--- a/plone/schemaeditor/schema.py\n+++ b/plone/schemaeditor/schema.py\n@@ -1,5 +1,3 @@\n-from plone.app.z3cform.interfaces import IDateField\n-from plone.app.z3cform.interfaces import IDatetimeField\n from plone.schemaeditor import _\n from zope import schema\n from zope.interface import alsoProvides\n@@ -31,7 +29,7 @@ class IFloat(interfaces.IFloat, interfaces.IFromUnicode):\n     )\n \n \n-class IDatetime(IDatetimeField):\n+class IDatetime(interfaces.IDatetime):\n     min = schema.Datetime(\n         title=interfaces.IDatetime["min"].title,\n         required=interfaces.IDatetime["min"].required,\n@@ -45,7 +43,7 @@ class IDatetime(IDatetimeField):\n     )\n \n \n-class IDate(IDateField):\n+class IDate(interfaces.IDate):\n     min = schema.Date(\n         title=interfaces.IDate["min"].title,\n         required=interfaces.IDate["min"].required,\ndiff --git a/setup.py b/setup.py\nindex 1b9b0bf..bc56714 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -56,7 +56,6 @@\n         "zope.publisher",\n         "z3c.form",\n         "plone.z3cform",\n-        "plone.app.z3cform",\n         "plone.autoform",\n     ],\n     extras_require={\n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2023-06-30T10:06:47+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.schemaeditor/commit/fd61e7fddd53eaa31a6c873b3c96dc9e1050b24d

changenote

Files changed:
A news/104.bugfix

b'diff --git a/news/104.bugfix b/news/104.bugfix\nnew file mode 100644\nindex 0000000..5254399\n--- /dev/null\n+++ b/news/104.bugfix\n@@ -0,0 +1,2 @@\n+Remove dependency on `plone.app.z3cform` which is circular.\n+[petschki]\n'

Repository: plone.schemaeditor


Branch: refs/heads/master
Date: 2023-06-30T16:16:33+03:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.schemaeditor/commit/cd015894a4f4d62e5c3899d19e5487629e5c42b0

Merge pull request #104 from plone/petschki-dependency

Remove dependency on `plone.app.z3cform`

Files changed:
A news/104.bugfix
M plone/schemaeditor/schema.py
M setup.py

b'diff --git a/news/104.bugfix b/news/104.bugfix\nnew file mode 100644\nindex 0000000..5254399\n--- /dev/null\n+++ b/news/104.bugfix\n@@ -0,0 +1,2 @@\n+Remove dependency on `plone.app.z3cform` which is circular.\n+[petschki]\ndiff --git a/plone/schemaeditor/schema.py b/plone/schemaeditor/schema.py\nindex f9dc149..a113858 100644\n--- a/plone/schemaeditor/schema.py\n+++ b/plone/schemaeditor/schema.py\n@@ -1,5 +1,3 @@\n-from plone.app.z3cform.interfaces import IDateField\n-from plone.app.z3cform.interfaces import IDatetimeField\n from plone.schemaeditor import _\n from zope import schema\n from zope.interface import alsoProvides\n@@ -31,7 +29,7 @@ class IFloat(interfaces.IFloat, interfaces.IFromUnicode):\n     )\n \n \n-class IDatetime(IDatetimeField):\n+class IDatetime(interfaces.IDatetime):\n     min = schema.Datetime(\n         title=interfaces.IDatetime["min"].title,\n         required=interfaces.IDatetime["min"].required,\n@@ -45,7 +43,7 @@ class IDatetime(IDatetimeField):\n     )\n \n \n-class IDate(IDateField):\n+class IDate(interfaces.IDate):\n     min = schema.Date(\n         title=interfaces.IDate["min"].title,\n         required=interfaces.IDate["min"].required,\ndiff --git a/setup.py b/setup.py\nindex 1b9b0bf..bc56714 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -56,7 +56,6 @@\n         "zope.publisher",\n         "z3c.form",\n         "plone.z3cform",\n-        "plone.app.z3cform",\n         "plone.autoform",\n     ],\n     extras_require={\n'

