Repository: plone.restapi


Branch: refs/heads/master
Date: 2021-03-19T04:05:21+01:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.restapi/commit/b7e8ac104d16f7398f947e85639a4f2a14ff66d7

make update (#1088)

Files changed:
M Makefile
M plone-5.1.x.cfg
M plone-5.2.x.cfg
M requirements.txt
M versions.cfg

b"diff --git a/Makefile b/Makefile\nindex aa9317a06..78f6e9d7f 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -65,6 +65,12 @@ build-plone-5.1: py2  ## Build Plone 5.1\n \tbin/pip install -r requirements.txt\n \tbin/buildout -c plone-5.1.x.cfg\n \n+.PHONY: Build Plone 5.2 with Python 2\n+build-plone-5.2-py: py2  ## Build Plone 5.2 with Python 2\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-5.2.x.cfg\n+\n .PHONY: Build Plone 5.2\n build-plone-5.2: .installed.cfg  ## Build Plone 5.2\n \tbin/pip install --upgrade pip\n@@ -85,9 +91,6 @@ test:  ## Test\n test-performance:\n \tjmeter -n -t performance.jmx -l jmeter.jtl\n \n-start-locust:\n-\tbin/locust -f performance/images.py --no-web -c 1000 -r 100 --run-time 1m --host http://localhost:12345/Plone\n-\n .PHONY: Code Analysis\n code-analysis:  ## Code Analysis\n \tbin/code-analysis\ndiff --git a/plone-5.1.x.cfg b/plone-5.1.x.cfg\nindex 3e60f1181..cb66511f3 100644\n--- a/plone-5.1.x.cfg\n+++ b/plone-5.1.x.cfg\n@@ -16,10 +16,6 @@ distlib = 0.3.1\n # fixes: SyntaxError: invalid syntax (more.py, line 340)\n zipp = 0.5.2\n \n-# Error: The requirement ('importlib-metadata>=1') is not allowed by your [versions] constraint (0.23)\n-importlib-metadata = 2.1.1\n-keyring = 22.0.1\n-\n # zest.releaser\n zest.releaser = 6.20.1\n twine = 1.11.0\n@@ -40,4 +36,4 @@ astunparse = 1.6.2\n \n # plone.restapi specific pins\n plone.restapi =\n-plone.schema = 1.2.1\n+plone.schema = 1.2.1\n\\ No newline at end of file\ndiff --git a/plone-5.2.x.cfg b/plone-5.2.x.cfg\nindex 5cb4ebcab..b810a87db 100644\n--- a/plone-5.2.x.cfg\n+++ b/plone-5.2.x.cfg\n@@ -1,7 +1,7 @@\n [buildout]\n extends =\n     base.cfg\n-    https://dist.plone.org/release/5.2.3/versions.cfg\n+    https://dist.plone.org/release/5.2.4/versions.cfg\n find-links += https://dist.plone.org/thirdparty/\n versions=versions\n \n@@ -15,14 +15,11 @@ virtualenv = 20.0.35\n pep517 = 0.9.1\n \n # Error: The requirement ('importlib-metadata>=1') is not allowed by your [versions] constraint (0.23)\n-importlib-metadata = 2.1.1\n-keyring = 22.0.1\n+importlib-metadata = 2.0.0\n \n-# avoid dynamic schema updates: https://github.com/plone/plone.dexterity/pull/137\n-plone.dexterity = 2.9.8\n-\n-# plone.restapi specific pins\n-plone.restapi =\n+# cryptography 3.4 requires a rust compiler installed on the system:\n+# https://github.com/pyca/cryptography/blob/master/CHANGELOG.rst#34---2021-02-07\n+cryptography = 3.3.2\n \n # cffi 1.14.3 fails on apple m1\n cffi = 1.14.4\ndiff --git a/requirements.txt b/requirements.txt\nindex 69d30905e..8466fed9b 100644\n--- a/requirements.txt\n+++ b/requirements.txt\n@@ -1,3 +1,4 @@\n # Keep this file in sync with: https://github.com/kitconcept/buildout/edit/master/requirements.txt\n setuptools==42.0.2\n zc.buildout==2.13.3\n+wheel\ndiff --git a/versions.cfg b/versions.cfg\nindex 625f828e6..95e18c084 100644\n--- a/versions.cfg\n+++ b/versions.cfg\n@@ -7,12 +7,14 @@ zc.recipe.egg = 2.0.3\n # fixes Getting distribution for 'configparser'. assert newdist is not None  # newloc above is missing our dist?!\n configparser = 3.5.3\n \n+# fixes Error: The requirement ('Pygments>=2.5.1') is not allowed by your [versions] constraint (2.2.0)\n+Pygments = 2.5.1\n+\n # plone.recipe.varnish\n plone.recipe.varnish = 1.3\n \n # Code-analysis\n plone.recipe.codeanalysis = 3.0.1\n-check-manifest = 0.41\n coverage = 3.7.1\n pep8 = 1.7.1\n flake8 = 3.5.0\n@@ -29,8 +31,7 @@ docutils = 0.13.1\n # Sphinx\n Sphinx = 1.6.5\n docutils = 0.14\n-# Latest version compatible with Python 2\n-Pygments = 2.5.2\n+Pygments = 2.2.0\n sphinxcontrib-httpexample = 0.7.0\n sphinxcontrib-httpdomain = 1.5.0\n sphinx-rtd-theme = 0.2.4\n@@ -39,8 +40,14 @@ Babel = 2.5.1\n \n # plone.rest(api) specific pins\n \n-# last py2 compatible version\n+# Latest version compatible with Python 2\n httpie = 1.0.3\n \n # Latest version compatible with Python 2\n PyJWT = 1.7.1\n+\n+# Last version compatible with Python 2\n+pyroma = 2.6.1\n+\n+# cffi 1.14.3 fails on apple m1\n+cffi = 1.14.4\n"

