Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2024-04-15T18:16:59-03:00
Author: wesleybl (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/plone.app.discussion/commit/44e4b7539b75644ea7ccad05983810c458ab9b20

Fix robot test `Add a Comment to a Document and bulk delete it` 3

Prevents javascript error if undefined is returned.

Files changed:
A news/239.internal
M plone/app/discussion/tests/robot/test_moderation.robot

b'diff --git a/news/239.internal b/news/239.internal\nnew file mode 100644\nindex 00000000..f18d4b17\n--- /dev/null\n+++ b/news/239.internal\n@@ -0,0 +1 @@\n+Fix robot test `Add a Comment to a Document and bulk delete it` 3. @wesleybl\ndiff --git a/plone/app/discussion/tests/robot/test_moderation.robot b/plone/app/discussion/tests/robot/test_moderation.robot\nindex c44add7f..ce231e39 100644\n--- a/plone/app/discussion/tests/robot/test_moderation.robot\n+++ b/plone/app/discussion/tests/robot/test_moderation.robot\n@@ -73,7 +73,7 @@ I add a comment and delete it\n   Wait Until Element Is Enabled  css=[name=check_all]\n   Wait Until Element Is Visible  css=[name="paths:list"]\n   Wait Until Element Is Enabled  css=[name="paths:list"]\n-  Wait for Condition   return jQuery._data( jQuery(\'[name=check_all]\')[0], "events" ).click.length == 2\n+  Wait for Condition   return jQuery._data( jQuery(\'[name=check_all]\')[0], "events" )?.click?.length == 2\n   Select Checkbox  name=check_all\n   Wait Until Element Is Visible  css=[name="paths:list"]:checked\n   Wait For Then Click Element  css=button[name="form.button.BulkAction"]\n'

Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2024-04-16T09:46:31-03:00
Author: Wesley Barroso Lopes (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/plone.app.discussion/commit/13bad67b12bea024ed9311df8c0c03af68e80cbb

Merge pull request #239 from plone/fix_robot

Fix robot test `Add a Comment to a Document and bulk delete it` 3

Files changed:
A news/239.internal
M plone/app/discussion/tests/robot/test_moderation.robot

b'diff --git a/news/239.internal b/news/239.internal\nnew file mode 100644\nindex 00000000..f18d4b17\n--- /dev/null\n+++ b/news/239.internal\n@@ -0,0 +1 @@\n+Fix robot test `Add a Comment to a Document and bulk delete it` 3. @wesleybl\ndiff --git a/plone/app/discussion/tests/robot/test_moderation.robot b/plone/app/discussion/tests/robot/test_moderation.robot\nindex c44add7f..ce231e39 100644\n--- a/plone/app/discussion/tests/robot/test_moderation.robot\n+++ b/plone/app/discussion/tests/robot/test_moderation.robot\n@@ -73,7 +73,7 @@ I add a comment and delete it\n   Wait Until Element Is Enabled  css=[name=check_all]\n   Wait Until Element Is Visible  css=[name="paths:list"]\n   Wait Until Element Is Enabled  css=[name="paths:list"]\n-  Wait for Condition   return jQuery._data( jQuery(\'[name=check_all]\')[0], "events" ).click.length == 2\n+  Wait for Condition   return jQuery._data( jQuery(\'[name=check_all]\')[0], "events" )?.click?.length == 2\n   Select Checkbox  name=check_all\n   Wait Until Element Is Visible  css=[name="paths:list"]:checked\n   Wait For Then Click Element  css=button[name="form.button.BulkAction"]\n'

