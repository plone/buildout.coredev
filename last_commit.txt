Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2022-04-13T10:33:01+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.upgrade/commit/669f295c4a0d5572af2b7ff33787f94e3c7d31ce

Add upgrade-profile for 6005 and reload tinyconfig to allow inline-mode

Files changed:
A plone/app/upgrade/v60/profiles/to6005/registry.xml
M plone/app/upgrade/v60/configure.zcml
M plone/app/upgrade/v60/profiles.zcml

b'diff --git a/plone/app/upgrade/v60/configure.zcml b/plone/app/upgrade/v60/configure.zcml\nindex 7c6f4848..288ea97f 100644\n--- a/plone/app/upgrade/v60/configure.zcml\n+++ b/plone/app/upgrade/v60/configure.zcml\n@@ -105,11 +105,10 @@\n         profile="Products.CMFPlone:plone">\n         <!-- Plone 6.0.0a5 -->\n \n-        <gs:upgradeStep\n-            title="Miscellaneous"\n-            description=""\n-            handler="..utils.null_upgrade_step"\n-            />\n+      <gs:upgradeDepends\n+          title="Run to6005 upgrade profile."\n+          import_profile="plone.app.upgrade.v60:to6005"\n+          />\n \n     </gs:upgradeSteps>\n \ndiff --git a/plone/app/upgrade/v60/profiles.zcml b/plone/app/upgrade/v60/profiles.zcml\nindex bcd8857c..64e2c7ed 100644\n--- a/plone/app/upgrade/v60/profiles.zcml\n+++ b/plone/app/upgrade/v60/profiles.zcml\n@@ -27,6 +27,14 @@\n       provides="Products.GenericSetup.interfaces.EXTENSION"\n       />\n \n+  <genericsetup:registerProfile\n+      name="to6005"\n+      title="Upgrade profile to Plone 6.0.0a5 (6005)"\n+      directory="profiles/to6005"\n+      for="Products.CMFPlone.interfaces.IMigratingPloneSiteRoot"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      />\n+\n   <!--\n     This is special, we want to reread the profile to create the FTI only if the old FTI\n     is not already a Dexterity one\ndiff --git a/plone/app/upgrade/v60/profiles/to6005/registry.xml b/plone/app/upgrade/v60/profiles/to6005/registry.xml\nnew file mode 100644\nindex 00000000..dad6508f\n--- /dev/null\n+++ b/plone/app/upgrade/v60/profiles/to6005/registry.xml\n@@ -0,0 +1,7 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records interface="Products.CMFPlone.interfaces.ITinyMCESchema"\n+           prefix="plone" />\n+\n+</registry>\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2022-04-13T10:54:36+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.upgrade/commit/0cacb110d42021c872ec99bae64e8d516ddac827

add changenote

Files changed:
A news/288.bugfix

b'diff --git a/news/288.bugfix b/news/288.bugfix\nnew file mode 100644\nindex 00000000..0d3dcc31\n--- /dev/null\n+++ b/news/288.bugfix\n@@ -0,0 +1,2 @@\n+Add upgrade-profile for 6005 and reload tinyconfig to allow inline-mode.\n+[pbauer]\n\\ No newline at end of file\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2022-04-13T12:17:23+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.upgrade/commit/dc68f929868929c8ba1b72b9262e125cf0496087

use plone.base interface

Files changed:
M plone/app/upgrade/v60/profiles/to6005/registry.xml

b'diff --git a/plone/app/upgrade/v60/profiles/to6005/registry.xml b/plone/app/upgrade/v60/profiles/to6005/registry.xml\nindex dad6508f..27b63f45 100644\n--- a/plone/app/upgrade/v60/profiles/to6005/registry.xml\n+++ b/plone/app/upgrade/v60/profiles/to6005/registry.xml\n@@ -1,7 +1,7 @@\n <?xml version="1.0"?>\n <registry>\n \n-  <records interface="Products.CMFPlone.interfaces.ITinyMCESchema"\n+  <records interface="plone.base.interfaces.ITinyMCESchema"\n            prefix="plone" />\n \n </registry>\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2022-04-13T12:27:25+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.app.upgrade/commit/6b05e6c0538205f2a556d89e030005bba32df79c

Merge pull request #288 from plone/tiny_inline_mode

Add upgrade-profile for 6005 and reload tinyconfig to allow inline-mode

Files changed:
A news/288.bugfix
A plone/app/upgrade/v60/profiles/to6005/registry.xml
M plone/app/upgrade/v60/configure.zcml
M plone/app/upgrade/v60/profiles.zcml

b'diff --git a/news/288.bugfix b/news/288.bugfix\nnew file mode 100644\nindex 00000000..0d3dcc31\n--- /dev/null\n+++ b/news/288.bugfix\n@@ -0,0 +1,2 @@\n+Add upgrade-profile for 6005 and reload tinyconfig to allow inline-mode.\n+[pbauer]\n\\ No newline at end of file\ndiff --git a/plone/app/upgrade/v60/configure.zcml b/plone/app/upgrade/v60/configure.zcml\nindex 7c6f4848..288ea97f 100644\n--- a/plone/app/upgrade/v60/configure.zcml\n+++ b/plone/app/upgrade/v60/configure.zcml\n@@ -105,11 +105,10 @@\n         profile="Products.CMFPlone:plone">\n         <!-- Plone 6.0.0a5 -->\n \n-        <gs:upgradeStep\n-            title="Miscellaneous"\n-            description=""\n-            handler="..utils.null_upgrade_step"\n-            />\n+      <gs:upgradeDepends\n+          title="Run to6005 upgrade profile."\n+          import_profile="plone.app.upgrade.v60:to6005"\n+          />\n \n     </gs:upgradeSteps>\n \ndiff --git a/plone/app/upgrade/v60/profiles.zcml b/plone/app/upgrade/v60/profiles.zcml\nindex bcd8857c..64e2c7ed 100644\n--- a/plone/app/upgrade/v60/profiles.zcml\n+++ b/plone/app/upgrade/v60/profiles.zcml\n@@ -27,6 +27,14 @@\n       provides="Products.GenericSetup.interfaces.EXTENSION"\n       />\n \n+  <genericsetup:registerProfile\n+      name="to6005"\n+      title="Upgrade profile to Plone 6.0.0a5 (6005)"\n+      directory="profiles/to6005"\n+      for="Products.CMFPlone.interfaces.IMigratingPloneSiteRoot"\n+      provides="Products.GenericSetup.interfaces.EXTENSION"\n+      />\n+\n   <!--\n     This is special, we want to reread the profile to create the FTI only if the old FTI\n     is not already a Dexterity one\ndiff --git a/plone/app/upgrade/v60/profiles/to6005/registry.xml b/plone/app/upgrade/v60/profiles/to6005/registry.xml\nnew file mode 100644\nindex 00000000..27b63f45\n--- /dev/null\n+++ b/plone/app/upgrade/v60/profiles/to6005/registry.xml\n@@ -0,0 +1,7 @@\n+<?xml version="1.0"?>\n+<registry>\n+\n+  <records interface="plone.base.interfaces.ITinyMCESchema"\n+           prefix="plone" />\n+\n+</registry>\n'

