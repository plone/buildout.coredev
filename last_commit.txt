Repository: plone.app.content


Branch: refs/heads/master
Date: 2023-10-10T15:19:45+02:00
Author: Andreas Jung (zopyx) <yet@gmx.de>
Commit: https://github.com/plone/plone.app.content/commit/1be15b382cfc86d34debff2f65e23656273405d4

Fix for issue 268 fixed inappropriate sort() in folderfactories
[ajung]

Files changed:
A news/268.bugfix
M plone/app/content/browser/folderfactories.py

b'diff --git a/news/268.bugfix b/news/268.bugfix\nnew file mode 100644\nindex 00000000..4b5d893d\n--- /dev/null\n+++ b/news/268.bugfix\n@@ -0,0 +1 @@\n+- fixed inapproriate sort() in folderfactories.py [ajung]\ndiff --git a/plone/app/content/browser/folderfactories.py b/plone/app/content/browser/folderfactories.py\nindex 172974df..ad7bcbb7 100644\n--- a/plone/app/content/browser/folderfactories.py\n+++ b/plone/app/content/browser/folderfactories.py\n@@ -141,7 +141,7 @@ def addable_types(self, include=None):\n         results = [\n             (translate(ctype["title"], context=request), ctype) for ctype in results\n         ]\n-        results.sort()\n+        results = sorted(results, key=lambda tp: tp[0])\n         results = [ctype[-1] for ctype in results]\n \n         return results\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2023-10-10T18:09:06+02:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/plone.app.content/commit/017c77c9bbd4c9c9aa95821a535c9c6e6b69b264

Merge pull request #269 from plone/ajung-fix-268

Fix for issue 268 fixed inappropriate sort() in folderfactories

Files changed:
A news/268.bugfix
M plone/app/content/browser/folderfactories.py

b'diff --git a/news/268.bugfix b/news/268.bugfix\nnew file mode 100644\nindex 00000000..4b5d893d\n--- /dev/null\n+++ b/news/268.bugfix\n@@ -0,0 +1 @@\n+- fixed inapproriate sort() in folderfactories.py [ajung]\ndiff --git a/plone/app/content/browser/folderfactories.py b/plone/app/content/browser/folderfactories.py\nindex 172974df..ad7bcbb7 100644\n--- a/plone/app/content/browser/folderfactories.py\n+++ b/plone/app/content/browser/folderfactories.py\n@@ -141,7 +141,7 @@ def addable_types(self, include=None):\n         results = [\n             (translate(ctype["title"], context=request), ctype) for ctype in results\n         ]\n-        results.sort()\n+        results = sorted(results, key=lambda tp: tp[0])\n         results = [ctype[-1] for ctype in results]\n \n         return results\n'

