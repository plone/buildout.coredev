Repository: plone.app.contenttypes


Branch: refs/heads/1.4.x
Date: 2020-07-18T10:26:03+02:00
Author: Vincent Fretin (vincentfretin) <vincent.fretin@gmail.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/434dda2f11fd11c9e8789cf59404362a5f439132

Avoid doing the search twice in listings by reusing the batch variable

Files changed:
A news/560.bugfix
M plone/app/contenttypes/browser/templates/listing.pt
M plone/app/contenttypes/browser/templates/listing_tabular.pt

b'diff --git a/news/560.bugfix b/news/560.bugfix\nnew file mode 100644\nindex 00000000..a3f75480\n--- /dev/null\n+++ b/news/560.bugfix\n@@ -0,0 +1,2 @@\n+Avoid doing the search twice in listings by reusing the batch variable.\n+[vincentfretin]\ndiff --git a/plone/app/contenttypes/browser/templates/listing.pt b/plone/app/contenttypes/browser/templates/listing.pt\nindex ec1c7bb8..0927ec27 100644\n--- a/plone/app/contenttypes/browser/templates/listing.pt\n+++ b/plone/app/contenttypes/browser/templates/listing.pt\n@@ -129,7 +129,7 @@\n \n       <metal:empty metal:define-slot="no_items_in_listing">\n         <p class="discreet"\n-            tal:condition="not: view/batch"\n+            tal:condition="not: batch"\n             tal:content="view/no_items_message">\n           There are currently no items in this folder.\n         </p>\ndiff --git a/plone/app/contenttypes/browser/templates/listing_tabular.pt b/plone/app/contenttypes/browser/templates/listing_tabular.pt\nindex 064062cf..b344c7c9 100644\n--- a/plone/app/contenttypes/browser/templates/listing_tabular.pt\n+++ b/plone/app/contenttypes/browser/templates/listing_tabular.pt\n@@ -105,7 +105,7 @@\n \n     <metal:empty metal:define-slot="no_items_in_listing">\n     <p class="discreet"\n-    tal:condition="not: view/batch"\n+    tal:condition="not: batch"\n     tal:content="view/no_items_message">\n     There are currently no items in this folder.\n     </p>\n'

Repository: plone.app.contenttypes


Branch: refs/heads/1.4.x
Date: 2020-07-18T11:35:40+02:00
Author: Vincent Fretin (vincentfretin) <vincent.fretin@gmail.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/c8f1cbd8ec3973f7276b86c3790646ceaec7bdf6

Merge pull request #564 from plone/fix-batch-doing-search-twice-plone51

Avoid doing the search twice in listings by reusing the batch variable (Plone 5.1)

Files changed:
A news/560.bugfix
M plone/app/contenttypes/browser/templates/listing.pt
M plone/app/contenttypes/browser/templates/listing_tabular.pt

b'diff --git a/news/560.bugfix b/news/560.bugfix\nnew file mode 100644\nindex 00000000..a3f75480\n--- /dev/null\n+++ b/news/560.bugfix\n@@ -0,0 +1,2 @@\n+Avoid doing the search twice in listings by reusing the batch variable.\n+[vincentfretin]\ndiff --git a/plone/app/contenttypes/browser/templates/listing.pt b/plone/app/contenttypes/browser/templates/listing.pt\nindex ec1c7bb8..0927ec27 100644\n--- a/plone/app/contenttypes/browser/templates/listing.pt\n+++ b/plone/app/contenttypes/browser/templates/listing.pt\n@@ -129,7 +129,7 @@\n \n       <metal:empty metal:define-slot="no_items_in_listing">\n         <p class="discreet"\n-            tal:condition="not: view/batch"\n+            tal:condition="not: batch"\n             tal:content="view/no_items_message">\n           There are currently no items in this folder.\n         </p>\ndiff --git a/plone/app/contenttypes/browser/templates/listing_tabular.pt b/plone/app/contenttypes/browser/templates/listing_tabular.pt\nindex 064062cf..b344c7c9 100644\n--- a/plone/app/contenttypes/browser/templates/listing_tabular.pt\n+++ b/plone/app/contenttypes/browser/templates/listing_tabular.pt\n@@ -105,7 +105,7 @@\n \n     <metal:empty metal:define-slot="no_items_in_listing">\n     <p class="discreet"\n-    tal:condition="not: view/batch"\n+    tal:condition="not: batch"\n     tal:content="view/no_items_message">\n     There are currently no items in this folder.\n     </p>\n'

