Repository: plone.app.viewletmanager


Branch: refs/heads/master
Date: 2023-08-01T17:40:27+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.viewletmanager/commit/2b5a1456c31ca6b5637cdce9382447c755aebb40

Only show one Hide or Show button per viewlet on the manage-viewlets page.

Make it clear that a viewlet is hidden by making it more subdued / opaque.
Fixes https://github.com/plone/Products.CMFPlone/issues/3831.
See there for screen shots before and after, and for comparison also Plone 5.2.

Files changed:
A news/3831.bugfix
M plone/app/viewletmanager/manage-viewletmanager.pt

b'diff --git a/news/3831.bugfix b/news/3831.bugfix\nnew file mode 100644\nindex 0000000..973832c\n--- /dev/null\n+++ b/news/3831.bugfix\n@@ -0,0 +1,3 @@\n+Only show one Hide or Show button per viewlet on the manage-viewlets page.\n+Make it clear that a viewlet is hidden by making it more subdued / opaque.\n+[maurits]\ndiff --git a/plone/app/viewletmanager/manage-viewletmanager.pt b/plone/app/viewletmanager/manage-viewletmanager.pt\nindex 3fbea59..263e512 100644\n--- a/plone/app/viewletmanager/manage-viewletmanager.pt\n+++ b/plone/app/viewletmanager/manage-viewletmanager.pt\n@@ -27,7 +27,7 @@\n \n       <div class="card-body">\n \n-        <div class="${python:\'viewlet %s\' % (\'hiddenViewlet\' if viewlet[\'hidden\'] else \'\')}"\n+        <div class="${python:\'viewlet %s\' % (\'opacity-50\' if viewlet[\'hidden\'] else \'\')}"\n              tal:repeat="viewlet options/viewlets"\n         >\n \n@@ -77,11 +77,11 @@\n                   ></path>\n                 </svg>\n               </a>\n-              <a class="btn btn-sm btn-outline-primary mx-1 text-decoration-none pat-inject ${python:\'active\' if not viewlet[\'hidden\'] else \'\'}"\n+              <a class="btn btn-sm btn-outline-primary mx-1 text-decoration-none pat-inject ${python:\'\' if not viewlet[\'hidden\'] else \'d-none\'}"\n                  href="${viewlet/hide_url}&amp;_authenticator=${auth_token}#${manager_id}"\n                  i18n:translate="label_hide_item"\n               >Hide</a>\n-              <a class="btn btn-sm btn-outline-primary mx-1 text-decoration-none pat-inject ${python:\'active\' if viewlet[\'hidden\'] else \'\'}"\n+              <a class="btn btn-sm btn-outline-primary mx-1 text-decoration-none pat-inject ${python:\'\' if viewlet[\'hidden\'] else \'d-none\'}"\n                  href="${viewlet/show_url}&amp;_authenticator=${auth_token}#${manager_id}"\n                  i18n:translate="label_show_item"\n               >Show</a>\n'

Repository: plone.app.viewletmanager


Branch: refs/heads/master
Date: 2023-08-02T14:59:15+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.viewletmanager/commit/736d1644016daa0c62922dcaeb12bf7795476670

Merge pull request #39 from plone/maurits-manage-viewlets-buttons-issue-3831

Only show one Hide or Show button per viewlet on manage-viewlets

Files changed:
A news/3831.bugfix
M plone/app/viewletmanager/manage-viewletmanager.pt

b'diff --git a/news/3831.bugfix b/news/3831.bugfix\nnew file mode 100644\nindex 0000000..973832c\n--- /dev/null\n+++ b/news/3831.bugfix\n@@ -0,0 +1,3 @@\n+Only show one Hide or Show button per viewlet on the manage-viewlets page.\n+Make it clear that a viewlet is hidden by making it more subdued / opaque.\n+[maurits]\ndiff --git a/plone/app/viewletmanager/manage-viewletmanager.pt b/plone/app/viewletmanager/manage-viewletmanager.pt\nindex 3fbea59..263e512 100644\n--- a/plone/app/viewletmanager/manage-viewletmanager.pt\n+++ b/plone/app/viewletmanager/manage-viewletmanager.pt\n@@ -27,7 +27,7 @@\n \n       <div class="card-body">\n \n-        <div class="${python:\'viewlet %s\' % (\'hiddenViewlet\' if viewlet[\'hidden\'] else \'\')}"\n+        <div class="${python:\'viewlet %s\' % (\'opacity-50\' if viewlet[\'hidden\'] else \'\')}"\n              tal:repeat="viewlet options/viewlets"\n         >\n \n@@ -77,11 +77,11 @@\n                   ></path>\n                 </svg>\n               </a>\n-              <a class="btn btn-sm btn-outline-primary mx-1 text-decoration-none pat-inject ${python:\'active\' if not viewlet[\'hidden\'] else \'\'}"\n+              <a class="btn btn-sm btn-outline-primary mx-1 text-decoration-none pat-inject ${python:\'\' if not viewlet[\'hidden\'] else \'d-none\'}"\n                  href="${viewlet/hide_url}&amp;_authenticator=${auth_token}#${manager_id}"\n                  i18n:translate="label_hide_item"\n               >Hide</a>\n-              <a class="btn btn-sm btn-outline-primary mx-1 text-decoration-none pat-inject ${python:\'active\' if viewlet[\'hidden\'] else \'\'}"\n+              <a class="btn btn-sm btn-outline-primary mx-1 text-decoration-none pat-inject ${python:\'\' if viewlet[\'hidden\'] else \'d-none\'}"\n                  href="${viewlet/show_url}&amp;_authenticator=${auth_token}#${manager_id}"\n                  i18n:translate="label_show_item"\n               >Show</a>\n'

