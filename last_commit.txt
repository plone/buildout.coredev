Repository: plone.app.registry


Branch: refs/heads/master
Date: 2024-05-16T11:01:07+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.registry/commit/fb667499534949602ab29e32ae45763913127075

fix(delete record view): misleading portal message

Probably a copy and paste error?

But that's a scary one! When you cancel the deleting, it still says that it deleted it!

Files changed:
M plone/app/registry/browser/delete.py

b'diff --git a/plone/app/registry/browser/delete.py b/plone/app/registry/browser/delete.py\nindex 9124a9c..803dfb8 100644\n--- a/plone/app/registry/browser/delete.py\n+++ b/plone/app/registry/browser/delete.py\n@@ -15,6 +15,6 @@ def __call__(self):\n                     messages.add("Successfully deleted field %s" % name, type="info")\n             elif self.request.form.get("form.buttons.cancel") and name:\n                 messages = IStatusMessage(self.request)\n-                messages.add("Successfully deleted field %s" % name, type="info")\n+                messages.add("Field %s was not deleted" % name, type="info")\n             return self.request.response.redirect(self.context.absolute_url())\n         return super().__call__()\n'

Repository: plone.app.registry


Branch: refs/heads/master
Date: 2024-05-16T11:01:59+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.registry/commit/e652ff1f60f9996ee0c6449b79d48abaaf0d3482

Add news entry

Files changed:
A news/+ignore.bugfix

b'diff --git a/news/+ignore.bugfix b/news/+ignore.bugfix\nnew file mode 100644\nindex 0000000..4863a6b\n--- /dev/null\n+++ b/news/+ignore.bugfix\n@@ -0,0 +1 @@\n+Fix misleading portal message when NOT deleting records @gforcada\n'

Repository: plone.app.registry


Branch: refs/heads/master
Date: 2024-05-20T15:17:48+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.registry/commit/f4fd4b4dd124bd9c3d981596154662676175df30

Merge pull request #85 from plone/gforcada-patch-1

Fix misleading portal message

Files changed:
A news/+ignore.bugfix
M plone/app/registry/browser/delete.py

b'diff --git a/news/+ignore.bugfix b/news/+ignore.bugfix\nnew file mode 100644\nindex 0000000..4863a6b\n--- /dev/null\n+++ b/news/+ignore.bugfix\n@@ -0,0 +1 @@\n+Fix misleading portal message when NOT deleting records @gforcada\ndiff --git a/plone/app/registry/browser/delete.py b/plone/app/registry/browser/delete.py\nindex 9124a9c..803dfb8 100644\n--- a/plone/app/registry/browser/delete.py\n+++ b/plone/app/registry/browser/delete.py\n@@ -15,6 +15,6 @@ def __call__(self):\n                     messages.add("Successfully deleted field %s" % name, type="info")\n             elif self.request.form.get("form.buttons.cancel") and name:\n                 messages = IStatusMessage(self.request)\n-                messages.add("Successfully deleted field %s" % name, type="info")\n+                messages.add("Field %s was not deleted" % name, type="info")\n             return self.request.response.redirect(self.context.absolute_url())\n         return super().__call__()\n'

