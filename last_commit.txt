Repository: plone.restapi


Branch: refs/heads/main
Date: 2023-09-21T14:11:39-07:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.restapi/commit/863d9a20ce22e63843848a76ffcde5c139674be5

Undeprecate comma-separated list of expansion (#1707)

Files changed:
A news/1696.bugfix
M src/plone/restapi/serializer/expansion.py

b'diff --git a/news/1696.bugfix b/news/1696.bugfix\nnew file mode 100644\nindex 000000000..39b4c8ade\n--- /dev/null\n+++ b/news/1696.bugfix\n@@ -0,0 +1 @@\n+Undeprecate comma separated expansion parameters (that were deprecated in plone.restapi 8) @tisto\n\\ No newline at end of file\ndiff --git a/src/plone/restapi/serializer/expansion.py b/src/plone/restapi/serializer/expansion.py\nindex b7d10fa30..6c0db6826 100644\n--- a/src/plone/restapi/serializer/expansion.py\n+++ b/src/plone/restapi/serializer/expansion.py\n@@ -1,19 +1,14 @@\n from plone.restapi.interfaces import IExpandableElement\n from zope.component import getAdapters\n \n-import warnings\n-\n \n def expandable_elements(context, request):\n     """Returns a dict containing all expandable elements."""\n     expands = request.form.get("expand", [])\n     if isinstance(expands, str):\n         if "," in expands:\n-            # deprecated use of expands (with commas)\n-            warnings.warn(\n-                "``expand`` as a string parameter separated with commas is deprecated and will be removed in plone.restapi 9.0. Use ``expand:list`` instead.",\n-                DeprecationWarning,\n-            )\n+            # use of expands (with commas) was deprecated in plone.restapi 8\n+            # undeprecated with plone.restapi 9\n             expands = expands.split(",")\n         else:\n             # allow still the use of non marked :list parameters present\n'

