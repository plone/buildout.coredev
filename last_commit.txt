Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2021-09-29T09:32:25+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.upgrade/commit/94b694a50c8cf9527683a8c81881fc234893ea5a

add icon_expr to Plone Site typeinfo

Files changed:
M plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml

b'diff --git a/plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml b/plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml\nindex 45278021..b89fca24 100644\n--- a/plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml\n+++ b/plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml\n@@ -60,8 +60,14 @@\n  <alias from="edit" to="@@edit"/>\n  <alias from="sharing" to="@@sharing"/>\n  <alias from="view" to="(selected layout)"/>\n- <action title="View" action_id="view" category="object" condition_expr=""\n-    url_expr="string:${object_url}" visible="True"\n+ <action\n+    title="View"\n+    action_id="view"\n+    category="object"\n+    condition_expr=""\n+    url_expr="string:${object_url}"\n+    icon_expr="string:toolbar-action/view"\n+    visible="True"\n     i18n:attributes="title">\n   <permission value="View"/>\n  </action>\n@@ -72,6 +78,7 @@\n     i18n:attributes="title"\n     title="Edit"\n     url_expr="string:${object_url}/edit"\n+    icon_expr="string:toolbar-action/edit"\n     visible="True">\n   <permission value="Modify portal content"/>\n  </action>\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2021-09-29T09:35:16+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.upgrade/commit/a352d17a16c492aebe5272666db4cc3639af6196

add changenote

Files changed:
M news/6001.bugfix

b'diff --git a/news/6001.bugfix b/news/6001.bugfix\nindex a07c0d96..ac09a0be 100644\n--- a/news/6001.bugfix\n+++ b/news/6001.bugfix\n@@ -1,2 +1,5 @@\n Added upgrade to 6001, Plone 6.0.0a1.dev1.\n [maurits]\n+\n+Fix icon_expr in typeinfo action\n+[petschki]\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2021-10-14T15:12:21+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.app.upgrade/commit/f1030297df84ac481f2a8b89c0cc9df6f6072c86

Merge pull request #259 from plone/petschki-typeinfo-icon

Add icon_expr to Plone Site typeinfo

Files changed:
M news/6001.bugfix
M plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml

b'diff --git a/news/6001.bugfix b/news/6001.bugfix\nindex a07c0d96..ac09a0be 100644\n--- a/news/6001.bugfix\n+++ b/news/6001.bugfix\n@@ -1,2 +1,5 @@\n Added upgrade to 6001, Plone 6.0.0a1.dev1.\n [maurits]\n+\n+Fix icon_expr in typeinfo action\n+[petschki]\ndiff --git a/plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml b/plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml\nindex 45278021..b89fca24 100644\n--- a/plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml\n+++ b/plone/app/upgrade/v60/profiles/to_dx_site_root/types/Plone_Site.xml\n@@ -60,8 +60,14 @@\n  <alias from="edit" to="@@edit"/>\n  <alias from="sharing" to="@@sharing"/>\n  <alias from="view" to="(selected layout)"/>\n- <action title="View" action_id="view" category="object" condition_expr=""\n-    url_expr="string:${object_url}" visible="True"\n+ <action\n+    title="View"\n+    action_id="view"\n+    category="object"\n+    condition_expr=""\n+    url_expr="string:${object_url}"\n+    icon_expr="string:toolbar-action/view"\n+    visible="True"\n     i18n:attributes="title">\n   <permission value="View"/>\n  </action>\n@@ -72,6 +78,7 @@\n     i18n:attributes="title"\n     title="Edit"\n     url_expr="string:${object_url}/edit"\n+    icon_expr="string:toolbar-action/edit"\n     visible="True">\n   <permission value="Modify portal content"/>\n  </action>\n'

