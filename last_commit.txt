Repository: plone.restapi


Branch: refs/heads/main
Date: 2023-09-21T14:15:10-07:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.restapi/commit/3e3f58a0a3780addf59a8862c957a0f15038b1a1

Undeprecate token param on vocabularies endpoint (#1708)

Files changed:
A news/1697.bugfix
M src/plone/restapi/serializer/vocabularies.py

b'diff --git a/news/1697.bugfix b/news/1697.bugfix\nnew file mode 100644\nindex 000000000..3789f81a1\n--- /dev/null\n+++ b/news/1697.bugfix\n@@ -0,0 +1 @@\n+Undeprecate token parameter from vocabularies endpoint @tisto\n\\ No newline at end of file\ndiff --git a/src/plone/restapi/serializer/vocabularies.py b/src/plone/restapi/serializer/vocabularies.py\nindex 380040f2c..a8f7e6110 100644\n--- a/src/plone/restapi/serializer/vocabularies.py\n+++ b/src/plone/restapi/serializer/vocabularies.py\n@@ -11,8 +11,6 @@\n from zope.schema.interfaces import ITokenizedTerm\n from zope.schema.interfaces import IVocabulary\n \n-import warnings\n-\n \n @implementer(ISerializeToJson)\n class SerializeVocabLikeToJson:\n@@ -44,10 +42,8 @@ def __call__(self, vocabulary_id):\n                 )\n \n             if token:\n-                warnings.warn(\n-                    "``token`` parameter is deprecated and will be removed in plone.restapi 9.0. Use ``tokens`` parameter instead.",\n-                    DeprecationWarning,\n-                )\n+                # the token parameter was deprecated in plone.restapi 8\n+                # undeprecated in plone.restapi 9\n                 if token.lower() != term.token.lower():\n                     continue\n                 terms.append(term)\n'

