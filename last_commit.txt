Repository: mockup


Branch: refs/heads/master
Date: 2020-07-03T10:23:02+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/mockup/commit/73dd6b28e8c7c6af8d95cb0ccabcb8c0496c7c90

translate default value of sorting criteria in filters

Files changed:
M mockup/patterns/querystring/pattern.js

b'diff --git a/mockup/patterns/querystring/pattern.js b/mockup/patterns/querystring/pattern.js\nindex 9ca852ed0..2eacb30cb 100644\n--- a/mockup/patterns/querystring/pattern.js\n+++ b/mockup/patterns/querystring/pattern.js\n@@ -829,7 +829,7 @@ define([\n           $(\'[id$="sort_on"]\', existingSortOn).val($(this).val());\n         });\n \n-      self.$sortOn.append($(\'<option value="">No sorting</option>\')); // default no sorting\n+      self.$sortOn.append($(\'<option value="">\' + _t(\'No sorting\') + \'</option>\')); // default no sorting\n       for (var key in self.options[\'sortable_indexes\']) { // jshint ignore:line\n         self.$sortOn.append(\n           $(\'<option/>\')\n'

Repository: mockup


Branch: refs/heads/master
Date: 2020-07-03T10:23:02+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/mockup/commit/c12c92142853c65b1de6dc86aa38899f43e0c482

translate action name and tooltips

Files changed:
M mockup/patterns/structure/js/actionmenu.js
M mockup/patterns/structure/templates/actionmenu.xml

b'diff --git a/mockup/patterns/structure/js/actionmenu.js b/mockup/patterns/structure/js/actionmenu.js\nindex 01e0aaf5c..0717f5c8e 100644\n--- a/mockup/patterns/structure/js/actionmenu.js\n+++ b/mockup/patterns/structure/js/actionmenu.js\n@@ -1,10 +1,10 @@\n-define([\'underscore\'], function(_) {\n+define([\'underscore\', \'translate\'], function(_, _t) {\n   \'use strict\';\n \n   var menuOptions = {\n     \'openItem\': {\n       \'url\':      \'#\',\n-      \'title\':    \'Open\',\n+      \'title\':    _t(\'Open\'),\n       \'category\': \'button\',\n       \'iconCSS\':  \'glyphicon glyphicon-eye-open\',\n       \'css\': \'\',\n@@ -12,7 +12,7 @@ define([\'underscore\'], function(_) {\n     },\n     \'editItem\': {\n       \'url\':      \'#\',\n-      \'title\':    \'Edit\',\n+      \'title\':    _t(\'Edit\'),\n       \'category\': \'button\',\n       \'iconCSS\':  \'glyphicon glyphicon-pencil\',\n       \'css\': \'\',\n@@ -22,7 +22,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'cutClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Cut\',\n+      \'title\':    _t(\'Cut\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-scissors\',\n       \'css\': \'\',\n@@ -32,7 +32,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'copyClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Copy\',\n+      \'title\':    _t(\'Copy\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-duplicate\',\n       \'css\': \'\',\n@@ -42,7 +42,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'pasteClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Paste\',\n+      \'title\':    _t(\'Paste\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-open-file\',\n       \'css\': \'\',\n@@ -52,7 +52,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'moveTopClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Move to top of folder\',\n+      \'title\':    _t(\'Move to top of folder\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-step-backward rright\',\n       \'css\': \'\',\n@@ -62,7 +62,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'moveBottomClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Move to bottom of folder\',\n+      \'title\':    _t(\'Move to bottom of folder\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-step-backward rleft\',\n       \'css\': \'\',\n@@ -72,7 +72,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'setDefaultPageClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Set as default page\',\n+      \'title\':    _t(\'Set as default page\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-ok-circle\',\n       \'css\': \'\',\n@@ -82,7 +82,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'selectAll\',\n       \'url\':      \'#\',\n-      \'title\':    \'Select all contained items\',\n+      \'title\':    _t(\'Select all contained items\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-check\',\n       \'css\': \'\',\ndiff --git a/mockup/patterns/structure/templates/actionmenu.xml b/mockup/patterns/structure/templates/actionmenu.xml\nindex c4aeff468..c7c8584a7 100644\n--- a/mockup/patterns/structure/templates/actionmenu.xml\n+++ b/mockup/patterns/structure/templates/actionmenu.xml\n@@ -19,7 +19,7 @@\n     aria-haspopup="true"\n     aria-expanded="true"\n     id="<%- id %>"\n-    title="Actions">\n+    title=\'<%- _t("Actions") %>\'>\n   <span class="glyphicon glyphicon-cog"></span><span class="caret"></span>\n </a>\n <ul class="dropdown-menu pull-right" aria-labelledby="<%- id %>">\n'

Repository: mockup


Branch: refs/heads/master
Date: 2020-07-03T10:24:45+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/mockup/commit/f34e555579a0697d489e3eeefc96213d92afca63

changelog

Files changed:
A news/991.bugfix

b'diff --git a/news/991.bugfix b/news/991.bugfix\nnew file mode 100644\nindex 000000000..e0659b249\n--- /dev/null\n+++ b/news/991.bugfix\n@@ -0,0 +1,2 @@\n+Fix some internationalization issues in structure pattern (folder_contents view): "Open", "Edit" and "Actions" tooltips are translated; all actions under "Actions" are translated; In filter menu the "No sorting" option of the sorting dropdown is translated.\n+[erral]\n'

Repository: mockup


Branch: refs/heads/master
Date: 2020-07-03T12:42:54+02:00
Author: Mikel Larreategi (erral) <mlarreategi@codesyntax.com>
Commit: https://github.com/plone/mockup/commit/d8c3a4158d7ceed3a4b31b66cea4541d5d9051d0

Merge pull request #992 from plone/erral-i18n-issues

fix some i18n issues

Files changed:
A news/991.bugfix
M mockup/patterns/querystring/pattern.js
M mockup/patterns/structure/js/actionmenu.js
M mockup/patterns/structure/templates/actionmenu.xml

b'diff --git a/mockup/patterns/querystring/pattern.js b/mockup/patterns/querystring/pattern.js\nindex 9ca852ed0..2eacb30cb 100644\n--- a/mockup/patterns/querystring/pattern.js\n+++ b/mockup/patterns/querystring/pattern.js\n@@ -829,7 +829,7 @@ define([\n           $(\'[id$="sort_on"]\', existingSortOn).val($(this).val());\n         });\n \n-      self.$sortOn.append($(\'<option value="">No sorting</option>\')); // default no sorting\n+      self.$sortOn.append($(\'<option value="">\' + _t(\'No sorting\') + \'</option>\')); // default no sorting\n       for (var key in self.options[\'sortable_indexes\']) { // jshint ignore:line\n         self.$sortOn.append(\n           $(\'<option/>\')\ndiff --git a/mockup/patterns/structure/js/actionmenu.js b/mockup/patterns/structure/js/actionmenu.js\nindex 01e0aaf5c..0717f5c8e 100644\n--- a/mockup/patterns/structure/js/actionmenu.js\n+++ b/mockup/patterns/structure/js/actionmenu.js\n@@ -1,10 +1,10 @@\n-define([\'underscore\'], function(_) {\n+define([\'underscore\', \'translate\'], function(_, _t) {\n   \'use strict\';\n \n   var menuOptions = {\n     \'openItem\': {\n       \'url\':      \'#\',\n-      \'title\':    \'Open\',\n+      \'title\':    _t(\'Open\'),\n       \'category\': \'button\',\n       \'iconCSS\':  \'glyphicon glyphicon-eye-open\',\n       \'css\': \'\',\n@@ -12,7 +12,7 @@ define([\'underscore\'], function(_) {\n     },\n     \'editItem\': {\n       \'url\':      \'#\',\n-      \'title\':    \'Edit\',\n+      \'title\':    _t(\'Edit\'),\n       \'category\': \'button\',\n       \'iconCSS\':  \'glyphicon glyphicon-pencil\',\n       \'css\': \'\',\n@@ -22,7 +22,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'cutClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Cut\',\n+      \'title\':    _t(\'Cut\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-scissors\',\n       \'css\': \'\',\n@@ -32,7 +32,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'copyClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Copy\',\n+      \'title\':    _t(\'Copy\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-duplicate\',\n       \'css\': \'\',\n@@ -42,7 +42,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'pasteClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Paste\',\n+      \'title\':    _t(\'Paste\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-open-file\',\n       \'css\': \'\',\n@@ -52,7 +52,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'moveTopClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Move to top of folder\',\n+      \'title\':    _t(\'Move to top of folder\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-step-backward rright\',\n       \'css\': \'\',\n@@ -62,7 +62,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'moveBottomClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Move to bottom of folder\',\n+      \'title\':    _t(\'Move to bottom of folder\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-step-backward rleft\',\n       \'css\': \'\',\n@@ -72,7 +72,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'setDefaultPageClicked\',\n       \'url\':      \'#\',\n-      \'title\':    \'Set as default page\',\n+      \'title\':    _t(\'Set as default page\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-ok-circle\',\n       \'css\': \'\',\n@@ -82,7 +82,7 @@ define([\'underscore\'], function(_) {\n       \'library\':  \'mockup-patterns-structure-url/js/actions\',\n       \'method\':   \'selectAll\',\n       \'url\':      \'#\',\n-      \'title\':    \'Select all contained items\',\n+      \'title\':    _t(\'Select all contained items\'),\n       \'category\': \'dropdown\',\n       \'iconCSS\':  \'glyphicon glyphicon-check\',\n       \'css\': \'\',\ndiff --git a/mockup/patterns/structure/templates/actionmenu.xml b/mockup/patterns/structure/templates/actionmenu.xml\nindex c4aeff468..c7c8584a7 100644\n--- a/mockup/patterns/structure/templates/actionmenu.xml\n+++ b/mockup/patterns/structure/templates/actionmenu.xml\n@@ -19,7 +19,7 @@\n     aria-haspopup="true"\n     aria-expanded="true"\n     id="<%- id %>"\n-    title="Actions">\n+    title=\'<%- _t("Actions") %>\'>\n   <span class="glyphicon glyphicon-cog"></span><span class="caret"></span>\n </a>\n <ul class="dropdown-menu pull-right" aria-labelledby="<%- id %>">\ndiff --git a/news/991.bugfix b/news/991.bugfix\nnew file mode 100644\nindex 000000000..e0659b249\n--- /dev/null\n+++ b/news/991.bugfix\n@@ -0,0 +1,2 @@\n+Fix some internationalization issues in structure pattern (folder_contents view): "Open", "Edit" and "Actions" tooltips are translated; all actions under "Actions" are translated; In filter menu the "No sorting" option of the sorting dropdown is translated.\n+[erral]\n'

