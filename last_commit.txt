Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-22T08:17:51+02:00
Author: 1letter (1letter) <1letter@gmx.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/3d3c0e598f43d567c5f2945d8370860fac6dbdac

make robot test more robust

Files changed:
M Products/CMFPlone/tests/robot/test_querystring.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot\nindex ae0a1a3bf4..971994f430 100644\n--- a/Products/CMFPlone/tests/robot/test_querystring.robot\n+++ b/Products/CMFPlone/tests/robot/test_querystring.robot\n@@ -20,66 +20,66 @@ Scenario: Location query Current\n      When I activate the operator Current in the criteria Location\n      Then we expect 1 hits\n \n-Scenario: Location query Parent\n-    Given a logged-in site administrator\n-      and a bunch of folders\n-      and the querystring pattern\n-     When I activate the operator Parent in the criteria Location\n-     Then we expect 3 hits\n-\n-Scenario: Location query Custom\n-    Given a logged-in site administrator\n-      and a bunch of folders\n-      and the querystring pattern\n-     When I activate the operator Custom in the criteria Location\n-      and I search in B subfolder in the related items widget\n-     Then we expect 5 hits\n-\n-Scenario: Location query Advanced\n-    Given a logged-in site administrator\n-      and a bunch of folders\n-      and the querystring pattern\n-     When I activate the operator Advanced in the criteria Location\n-     Then I expect to be in Advanced mode\n-\n-Scenario: Location query Simple\n-    # this fails simple is not available, first select \'Advanced Mode\' then you can select \'Simple Mode\'\n-    Given a logged-in site administrator\n-      and a bunch of folders\n-      and the querystring pattern\n-     When I activate the operator Advanced in the criteria Location\n-      and I open the select box titled operator\n-      and I select index Simple\n-     Then I expect to be in Simple mode\n-\n-Scenario: Title query\n-    Given a logged-in site administrator\n-      and a bunch of folders\n-      and the querystring pattern\n-     When I open the criteria Title\n-      and I search for A\n-     Then we expect 1 hits\n-\n-Scenario: Description query\n-    Given a logged-in site administrator\n-      and a bunch of folders\n-      and the querystring pattern\n-     When I open the criteria Description\n-      and I search for a\n-     Then we expect 1 hits\n-\n-Scenario: Searchable text query\n-    Given a logged-in site administrator\n-      and a bunch of folders\n-      and the querystring pattern\n-     When I open the criteria Searchable text\n-      and I search for a\n-      and Sleep  0.2\n-     Then we expect 2 hits\n-\n-     When I open the criteria Searchable text\n-      and I search for d\n-     Then we expect 1 hits\n+# Scenario: Location query Parent\n+#     Given a logged-in site administrator\n+#       and a bunch of folders\n+#       and the querystring pattern\n+#      When I activate the operator Parent in the criteria Location\n+#      Then we expect 3 hits\n+\n+# Scenario: Location query Custom\n+#     Given a logged-in site administrator\n+#       and a bunch of folders\n+#       and the querystring pattern\n+#      When I activate the operator Custom in the criteria Location\n+#       and I search in B subfolder in the related items widget\n+#      Then we expect 5 hits\n+\n+# Scenario: Location query Advanced\n+#     Given a logged-in site administrator\n+#       and a bunch of folders\n+#       and the querystring pattern\n+#      When I activate the operator Advanced in the criteria Location\n+#      Then I expect to be in Advanced mode\n+\n+# Scenario: Location query Simple\n+#     # this fails simple is not available, first select \'Advanced Mode\' then you can select \'Simple Mode\'\n+#     Given a logged-in site administrator\n+#       and a bunch of folders\n+#       and the querystring pattern\n+#      When I activate the operator Advanced in the criteria Location\n+#       and I open the select box titled operator\n+#       and I select index Simple\n+#      Then I expect to be in Simple mode\n+\n+# Scenario: Title query\n+#     Given a logged-in site administrator\n+#       and a bunch of folders\n+#       and the querystring pattern\n+#      When I open the criteria Title\n+#       and I search for A\n+#      Then we expect 1 hits\n+\n+# Scenario: Description query\n+#     Given a logged-in site administrator\n+#       and a bunch of folders\n+#       and the querystring pattern\n+#      When I open the criteria Description\n+#       and I search for a\n+#      Then we expect 1 hits\n+\n+# Scenario: Searchable text query\n+#     Given a logged-in site administrator\n+#       and a bunch of folders\n+#       and the querystring pattern\n+#      When I open the criteria Searchable text\n+#       and I search for a\n+#       and Sleep  0.2\n+#      Then we expect 2 hits\n+\n+#      When I open the criteria Searchable text\n+#       and I search for d\n+#      Then we expect 1 hits\n \n Scenario: Tag query one\n \n@@ -336,8 +336,9 @@ a bunch of events\n     ...    container=${F1}\n \n the querystring pattern\n-    #We go the /a to give more useful query results\n+    # We go the /a to give more useful query results\n     Go to    ${PLONE_URL}/a/++add++Collection\n+    Wait For Condition    Classes    //body    contains    patterns-loaded\n     Type Text    //input[@id="form-widgets-IDublinCore-title"]    A Collection\n \n # WHEN\n@@ -348,6 +349,7 @@ I activate the operator ${OPERATOR} in the criteria ${CRITERIA}\n     mark results\n     open the select box titled operator\n     select index type ${OPERATOR}\n+    Pause\n \n \n I search in ${NAME} subfolder in the related items widget\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-22T08:20:36+02:00
Author: 1letter (1letter) <1letter@gmx.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/23b5fc93ab45e56f1e0ae86ff9f0e5782885cb81

add news

Files changed:
A news/3813.feature.1

b'diff --git a/news/3813.feature.1 b/news/3813.feature.1\nnew file mode 100644\nindex 0000000000..550519847b\n--- /dev/null\n+++ b/news/3813.feature.1\n@@ -0,0 +1,2 @@\n+make robot tests more robust\n+[1letter]\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-22T08:31:12+02:00
Author: 1letter (1letter) <1letter@gmx.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/6671f1afd1fc85bf026f460b47d78c7dea703f47

enable scenarios

Files changed:
M Products/CMFPlone/tests/robot/test_querystring.robot

b"diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot\nindex 971994f430..e01ae654d2 100644\n--- a/Products/CMFPlone/tests/robot/test_querystring.robot\n+++ b/Products/CMFPlone/tests/robot/test_querystring.robot\n@@ -20,66 +20,66 @@ Scenario: Location query Current\n      When I activate the operator Current in the criteria Location\n      Then we expect 1 hits\n \n-# Scenario: Location query Parent\n-#     Given a logged-in site administrator\n-#       and a bunch of folders\n-#       and the querystring pattern\n-#      When I activate the operator Parent in the criteria Location\n-#      Then we expect 3 hits\n-\n-# Scenario: Location query Custom\n-#     Given a logged-in site administrator\n-#       and a bunch of folders\n-#       and the querystring pattern\n-#      When I activate the operator Custom in the criteria Location\n-#       and I search in B subfolder in the related items widget\n-#      Then we expect 5 hits\n-\n-# Scenario: Location query Advanced\n-#     Given a logged-in site administrator\n-#       and a bunch of folders\n-#       and the querystring pattern\n-#      When I activate the operator Advanced in the criteria Location\n-#      Then I expect to be in Advanced mode\n-\n-# Scenario: Location query Simple\n-#     # this fails simple is not available, first select 'Advanced Mode' then you can select 'Simple Mode'\n-#     Given a logged-in site administrator\n-#       and a bunch of folders\n-#       and the querystring pattern\n-#      When I activate the operator Advanced in the criteria Location\n-#       and I open the select box titled operator\n-#       and I select index Simple\n-#      Then I expect to be in Simple mode\n-\n-# Scenario: Title query\n-#     Given a logged-in site administrator\n-#       and a bunch of folders\n-#       and the querystring pattern\n-#      When I open the criteria Title\n-#       and I search for A\n-#      Then we expect 1 hits\n-\n-# Scenario: Description query\n-#     Given a logged-in site administrator\n-#       and a bunch of folders\n-#       and the querystring pattern\n-#      When I open the criteria Description\n-#       and I search for a\n-#      Then we expect 1 hits\n-\n-# Scenario: Searchable text query\n-#     Given a logged-in site administrator\n-#       and a bunch of folders\n-#       and the querystring pattern\n-#      When I open the criteria Searchable text\n-#       and I search for a\n-#       and Sleep  0.2\n-#      Then we expect 2 hits\n-\n-#      When I open the criteria Searchable text\n-#       and I search for d\n-#      Then we expect 1 hits\n+Scenario: Location query Parent\n+    Given a logged-in site administrator\n+      and a bunch of folders\n+      and the querystring pattern\n+     When I activate the operator Parent in the criteria Location\n+     Then we expect 3 hits\n+\n+Scenario: Location query Custom\n+    Given a logged-in site administrator\n+      and a bunch of folders\n+      and the querystring pattern\n+     When I activate the operator Custom in the criteria Location\n+      and I search in B subfolder in the related items widget\n+     Then we expect 5 hits\n+\n+Scenario: Location query Advanced\n+    Given a logged-in site administrator\n+      and a bunch of folders\n+      and the querystring pattern\n+     When I activate the operator Advanced in the criteria Location\n+     Then I expect to be in Advanced mode\n+\n+Scenario: Location query Simple\n+    # this fails simple is not available, first select 'Advanced Mode' then you can select 'Simple Mode'\n+    Given a logged-in site administrator\n+      and a bunch of folders\n+      and the querystring pattern\n+     When I activate the operator Advanced in the criteria Location\n+      and I open the select box titled operator\n+      and I select index Simple\n+     Then I expect to be in Simple mode\n+\n+Scenario: Title query\n+    Given a logged-in site administrator\n+      and a bunch of folders\n+      and the querystring pattern\n+     When I open the criteria Title\n+      and I search for A\n+     Then we expect 1 hits\n+\n+Scenario: Description query\n+    Given a logged-in site administrator\n+      and a bunch of folders\n+      and the querystring pattern\n+     When I open the criteria Description\n+      and I search for a\n+     Then we expect 1 hits\n+\n+Scenario: Searchable text query\n+    Given a logged-in site administrator\n+      and a bunch of folders\n+      and the querystring pattern\n+     When I open the criteria Searchable text\n+      and I search for a\n+      and Sleep  0.2\n+     Then we expect 2 hits\n+\n+     When I open the criteria Searchable text\n+      and I search for d\n+     Then we expect 1 hits\n \n Scenario: Tag query one\n \n"

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-22T08:31:48+02:00
Author: 1letter (1letter) <1letter@gmx.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/52ab4844b6754b77cc356b7962680ea17d972a09

remove debug statement

Files changed:
M Products/CMFPlone/tests/robot/test_querystring.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot\nindex e01ae654d2..44ab3f8b7d 100644\n--- a/Products/CMFPlone/tests/robot/test_querystring.robot\n+++ b/Products/CMFPlone/tests/robot/test_querystring.robot\n@@ -349,7 +349,6 @@ I activate the operator ${OPERATOR} in the criteria ${CRITERIA}\n     mark results\n     open the select box titled operator\n     select index type ${OPERATOR}\n-    Pause\n \n \n I search in ${NAME} subfolder in the related items widget\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-23T15:01:01+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/f7361bbcf7fe1f7c6810781be4d722c741e4c541

Merge pull request #4036 from plone/robottest-querystring-improvement

make robot test more robust

Files changed:
A news/3813.feature.1
M Products/CMFPlone/tests/robot/test_querystring.robot

b'diff --git a/Products/CMFPlone/tests/robot/test_querystring.robot b/Products/CMFPlone/tests/robot/test_querystring.robot\nindex ae0a1a3bf4..44ab3f8b7d 100644\n--- a/Products/CMFPlone/tests/robot/test_querystring.robot\n+++ b/Products/CMFPlone/tests/robot/test_querystring.robot\n@@ -336,8 +336,9 @@ a bunch of events\n     ...    container=${F1}\n \n the querystring pattern\n-    #We go the /a to give more useful query results\n+    # We go the /a to give more useful query results\n     Go to    ${PLONE_URL}/a/++add++Collection\n+    Wait For Condition    Classes    //body    contains    patterns-loaded\n     Type Text    //input[@id="form-widgets-IDublinCore-title"]    A Collection\n \n # WHEN\ndiff --git a/news/3813.feature.1 b/news/3813.feature.1\nnew file mode 100644\nindex 0000000000..550519847b\n--- /dev/null\n+++ b/news/3813.feature.1\n@@ -0,0 +1,2 @@\n+make robot tests more robust\n+[1letter]\n'

