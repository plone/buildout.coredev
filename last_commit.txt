Repository: plone.resourceeditor


Branch: refs/heads/master
Date: 2020-09-11T18:09:05+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.resourceeditor/commit/495513629e5bbe0520ae1ff72b92c53fdb60c9d9

Fixed invalid escape sequences.

Files changed:
A news/3130.bugfix
M plone/resourceeditor/browser.py

b'diff --git a/news/3130.bugfix b/news/3130.bugfix\nnew file mode 100644\nindex 0000000..c763a41\n--- /dev/null\n+++ b/news/3130.bugfix\n@@ -0,0 +1,2 @@\n+Fixed invalid escape sequences.\n+[maurits]\ndiff --git a/plone/resourceeditor/browser.py b/plone/resourceeditor/browser.py\nindex 16bf964..e729a2a 100644\n--- a/plone/resourceeditor/browser.py\n+++ b/plone/resourceeditor/browser.py\n@@ -39,7 +39,7 @@ def authorize(context, request):\n         raise Unauthorized\n \n \n-invalidFilenameChars = frozenset(\'\\/:*?"<>|\')\n+invalidFilenameChars = frozenset(r\'\\/:*?"<>|\')\n \n \n def validateFilename(name):\n@@ -232,7 +232,7 @@ def saveFile(self, path, value):\n                 return json.dumps({\'error\': \'invalid path\'})\n \n         if \'relativeUrls\' in self.request.form:\n-            reg = re.compile(\'url\\(([^)]+)\\)\')\n+            reg = re.compile(r\'url\\(([^)]+)\\)\')\n             urls = reg.findall(value)\n \n             # Trim off the @@plone.resourceeditor bit to just give us the\n'

Repository: plone.resourceeditor


Branch: refs/heads/master
Date: 2020-09-15T14:49:03+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.resourceeditor/commit/1ac03fe8bd68686159a9af2fb41472dee35043fd

Merge pull request #28 from plone/maurits/fix-warnings

Fixed invalid escape sequences.

Files changed:
A news/3130.bugfix
M plone/resourceeditor/browser.py

b'diff --git a/news/3130.bugfix b/news/3130.bugfix\nnew file mode 100644\nindex 0000000..c763a41\n--- /dev/null\n+++ b/news/3130.bugfix\n@@ -0,0 +1,2 @@\n+Fixed invalid escape sequences.\n+[maurits]\ndiff --git a/plone/resourceeditor/browser.py b/plone/resourceeditor/browser.py\nindex 16bf964..e729a2a 100644\n--- a/plone/resourceeditor/browser.py\n+++ b/plone/resourceeditor/browser.py\n@@ -39,7 +39,7 @@ def authorize(context, request):\n         raise Unauthorized\n \n \n-invalidFilenameChars = frozenset(\'\\/:*?"<>|\')\n+invalidFilenameChars = frozenset(r\'\\/:*?"<>|\')\n \n \n def validateFilename(name):\n@@ -232,7 +232,7 @@ def saveFile(self, path, value):\n                 return json.dumps({\'error\': \'invalid path\'})\n \n         if \'relativeUrls\' in self.request.form:\n-            reg = re.compile(\'url\\(([^)]+)\\)\')\n+            reg = re.compile(r\'url\\(([^)]+)\\)\')\n             urls = reg.findall(value)\n \n             # Trim off the @@plone.resourceeditor bit to just give us the\n'

