Repository: plone.app.content


Branch: refs/heads/master
Date: 2023-11-22T16:21:39+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.content/commit/3889118a00c2922e5e857fb3b4ed7fb8afd52945

Fix import of deprecated `plone.app.widgets` utils

Files changed:
M plone/app/content/browser/contents/properties.py
M setup.py

b'diff --git a/plone/app/content/browser/contents/properties.py b/plone/app/content/browser/contents/properties.py\nindex c51e8a7..515fd96 100644\n--- a/plone/app/content/browser/contents/properties.py\n+++ b/plone/app/content/browser/contents/properties.py\n@@ -2,7 +2,7 @@\n from plone.app.content.browser.contents import ContentsBaseAction\n from plone.app.content.interfaces import IStructureAction\n from plone.app.dexterity.behaviors.metadata import ICategorization\n-from plone.app.widgets.utils import get_datetime_options\n+from plone.app.z3cform.widgets.datetime import get_date_options\n from plone.base import PloneMessageFactory as _\n from plone.base.defaultpage import check_default_page_via_view\n from Products.CMFCore.interfaces._content import IFolderish\ndiff --git a/setup.py b/setup.py\nindex 6108b88..752523e 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -55,7 +55,6 @@\n         "plone.app.querystring",\n         "plone.app.uuid",\n         "plone.app.vocabularies>4.1.2",\n-        "plone.app.widgets",\n         "plone.app.z3cform",\n         "plone.autoform",\n         "plone.base",\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2023-11-22T16:21:39+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.content/commit/f3add121e1330f8c474993cf13250763a13fe577

changenote

Files changed:
A news/259.feature

b'diff --git a/news/259.feature b/news/259.feature\nnew file mode 100644\nindex 00000000..b33bdba7\n--- /dev/null\n+++ b/news/259.feature\n@@ -0,0 +1,2 @@\n+Change import from deprecated ``plone.app.widgets`` to ``plone.app.z3cform``\n+[petschki]\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2023-11-22T16:21:39+01:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.content/commit/ee01e0976dda897d63fd6939a996cab0f4ae60b9

fix renamed utility

Files changed:
M plone/app/content/browser/contents/properties.py

b'diff --git a/plone/app/content/browser/contents/properties.py b/plone/app/content/browser/contents/properties.py\nindex 515fd96..4cae70a 100644\n--- a/plone/app/content/browser/contents/properties.py\n+++ b/plone/app/content/browser/contents/properties.py\n@@ -38,7 +38,7 @@ def get_options(self):\n                 ),\n                 "template": self.template(\n                     vocabulary_url="%splone.app.vocabularies.Users" % (base_vocabulary),\n-                    pattern_options=json.dumps(get_datetime_options(self.request)),\n+                    pattern_options=json.dumps(get_date_options(self.request)),\n                 ),\n                 "dataUrl": self.context.absolute_url() + "/@@fc-properties",\n             },\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2023-12-22T22:49:15+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/fb3cd9dea6f0b79bae12eb684985da1ee1df1935

Merge pull request #259 from plone/deprecate-plone-app-widgets

Fix import of deprecated `plone.app.widgets` utility

Files changed:
A news/259.feature
M plone/app/content/browser/contents/properties.py
M setup.py

b'diff --git a/news/259.feature b/news/259.feature\nnew file mode 100644\nindex 00000000..b33bdba7\n--- /dev/null\n+++ b/news/259.feature\n@@ -0,0 +1,2 @@\n+Change import from deprecated ``plone.app.widgets`` to ``plone.app.z3cform``\n+[petschki]\ndiff --git a/plone/app/content/browser/contents/properties.py b/plone/app/content/browser/contents/properties.py\nindex c51e8a70..4cae70a7 100644\n--- a/plone/app/content/browser/contents/properties.py\n+++ b/plone/app/content/browser/contents/properties.py\n@@ -2,7 +2,7 @@\n from plone.app.content.browser.contents import ContentsBaseAction\n from plone.app.content.interfaces import IStructureAction\n from plone.app.dexterity.behaviors.metadata import ICategorization\n-from plone.app.widgets.utils import get_datetime_options\n+from plone.app.z3cform.widgets.datetime import get_date_options\n from plone.base import PloneMessageFactory as _\n from plone.base.defaultpage import check_default_page_via_view\n from Products.CMFCore.interfaces._content import IFolderish\n@@ -38,7 +38,7 @@ def get_options(self):\n                 ),\n                 "template": self.template(\n                     vocabulary_url="%splone.app.vocabularies.Users" % (base_vocabulary),\n-                    pattern_options=json.dumps(get_datetime_options(self.request)),\n+                    pattern_options=json.dumps(get_date_options(self.request)),\n                 ),\n                 "dataUrl": self.context.absolute_url() + "/@@fc-properties",\n             },\ndiff --git a/setup.py b/setup.py\nindex 6108b883..752523eb 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -55,7 +55,6 @@\n         "plone.app.querystring",\n         "plone.app.uuid",\n         "plone.app.vocabularies>4.1.2",\n-        "plone.app.widgets",\n         "plone.app.z3cform",\n         "plone.autoform",\n         "plone.base",\n'

