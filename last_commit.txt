Repository: plone.app.content


Branch: refs/heads/3.x
Date: 2021-05-26T12:51:06+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.content/commit/dab573bbf0798489eade46b083435d28beb9fb7b

call fileUpload view explict with @@ to avoid rest clashes

(cherry picked from commit 068c757ff444bf08b243520d2912762c521d4b27)

Files changed:
A news/225.bugfix
M plone/app/content/browser/contents/__init__.py

b"diff --git a/news/225.bugfix b/news/225.bugfix\nnew file mode 100644\nindex 0000000..f55f6da\n--- /dev/null\n+++ b/news/225.bugfix\n@@ -0,0 +1,2 @@\n+Call fileUpload view explict with @@ to avoid possible plone.rest clashes.\n+[jensens]\ndiff --git a/plone/app/content/browser/contents/__init__.py b/plone/app/content/browser/contents/__init__.py\nindex 6b58731..e7efe92 100644\n--- a/plone/app/content/browser/contents/__init__.py\n+++ b/plone/app/content/browser/contents/__init__.py\n@@ -306,7 +306,7 @@ def get_options(self):\n             },\n             'basePath': '/' + '/'.join(context_path[len(site_path):]),\n             'upload': {\n-                'relativePath': 'fileUpload',\n+                'relativePath': '@@fileUpload',\n                 'baseUrl': base_url,\n                 'initialFolder': IUUID(self.context, None),\n                 'useTus': TUS_ENABLED\n"

Repository: plone.app.content


Branch: refs/heads/3.x
Date: 2021-05-26T14:23:25+02:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/8f6c494c1f4d837ae019b47d880b8ac3aa8bbaf9

Merge pull request #226 from plone/explicit-view-call-fileUpload-3.x

call fileUpload view explict with @@ to avoid rest clashes

Files changed:
A news/225.bugfix
M plone/app/content/browser/contents/__init__.py

b"diff --git a/news/225.bugfix b/news/225.bugfix\nnew file mode 100644\nindex 0000000..f55f6da\n--- /dev/null\n+++ b/news/225.bugfix\n@@ -0,0 +1,2 @@\n+Call fileUpload view explict with @@ to avoid possible plone.rest clashes.\n+[jensens]\ndiff --git a/plone/app/content/browser/contents/__init__.py b/plone/app/content/browser/contents/__init__.py\nindex 6b58731..e7efe92 100644\n--- a/plone/app/content/browser/contents/__init__.py\n+++ b/plone/app/content/browser/contents/__init__.py\n@@ -306,7 +306,7 @@ def get_options(self):\n             },\n             'basePath': '/' + '/'.join(context_path[len(site_path):]),\n             'upload': {\n-                'relativePath': 'fileUpload',\n+                'relativePath': '@@fileUpload',\n                 'baseUrl': base_url,\n                 'initialFolder': IUUID(self.context, None),\n                 'useTus': TUS_ENABLED\n"

