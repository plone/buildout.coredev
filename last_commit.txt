Repository: plone.resourceeditor


Branch: refs/heads/master
Date: 2021-09-09T16:22:37+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.resourceeditor/commit/c4a2ee1992aef24d6525128d866b4782c8b0b9e8

fix for unclosed file warnings

Files changed:
M plone/resourceeditor/browser.py

b"diff --git a/plone/resourceeditor/browser.py b/plone/resourceeditor/browser.py\nindex e729a2a..9d6a0fe 100644\n--- a/plone/resourceeditor/browser.py\n+++ b/plone/resourceeditor/browser.py\n@@ -123,9 +123,8 @@ def getFile(self, path):\n             result['info'] = self.previewTemplate(info=info)\n             return json.dumps(result)\n         else:\n-            data = self.context.openFile(path)\n             try:\n-                data = data.read()\n+                data = self.context.readFile(path)\n \n                 if six.PY2 and isinstance(data, six.text_type):\n                     result['contents'] = data.encode('utf8')\n"

Repository: plone.resourceeditor


Branch: refs/heads/master
Date: 2021-09-09T16:23:08+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.resourceeditor/commit/312a7dbcfbfd2bac43684ec9af6e57a4c12e4fd2

changelog

Files changed:
A news/29.bugfix

b'diff --git a/news/29.bugfix b/news/29.bugfix\nnew file mode 100644\nindex 0000000..447ea77\n--- /dev/null\n+++ b/news/29.bugfix\n@@ -0,0 +1,2 @@\n+Fix unclosed file warnings\n+[petschki]\n'

Repository: plone.resourceeditor


Branch: refs/heads/master
Date: 2022-08-12T09:27:08+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/plone.resourceeditor/commit/fb4c273abe3940b505dec978b9b835c438d9d278

Merge pull request #30 from plone/issue-29

Fix unclosed file warnings

Files changed:
A news/29.bugfix
M plone/resourceeditor/browser.py

b"diff --git a/news/29.bugfix b/news/29.bugfix\nnew file mode 100644\nindex 0000000..447ea77\n--- /dev/null\n+++ b/news/29.bugfix\n@@ -0,0 +1,2 @@\n+Fix unclosed file warnings\n+[petschki]\ndiff --git a/plone/resourceeditor/browser.py b/plone/resourceeditor/browser.py\nindex e729a2a..9d6a0fe 100644\n--- a/plone/resourceeditor/browser.py\n+++ b/plone/resourceeditor/browser.py\n@@ -123,9 +123,8 @@ def getFile(self, path):\n             result['info'] = self.previewTemplate(info=info)\n             return json.dumps(result)\n         else:\n-            data = self.context.openFile(path)\n             try:\n-                data = data.read()\n+                data = self.context.readFile(path)\n \n                 if six.PY2 and isinstance(data, six.text_type):\n                     result['contents'] = data.encode('utf8')\n"

