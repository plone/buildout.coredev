Repository: plone.app.contentmenu


Branch: refs/heads/master
Date: 2023-08-18T10:45:20+02:00
Author: SÃ©bastien Verbois (sverbois) <sebastien.verbois@imio.be>
Commit: https://github.com/plone/plone.app.contentmenu/commit/fa43cb9e35ca800f63f16b79ef5607d560e92367

Fix #54 : "Add item to default page" modal form

Files changed:
A news/54.bugfix
M plone/app/contentmenu/menu.py

b'diff --git a/news/54.bugfix b/news/54.bugfix\nnew file mode 100644\nindex 0000000..25e2bd2\n--- /dev/null\n+++ b/news/54.bugfix\n@@ -0,0 +1 @@\n+Fix "Add item to default page" modal form. [sverbois]\ndiff --git a/plone/app/contentmenu/menu.py b/plone/app/contentmenu/menu.py\nindex c2dc48e..e752899 100644\n--- a/plone/app/contentmenu/menu.py\n+++ b/plone/app/contentmenu/menu.py\n@@ -711,6 +711,9 @@ def getMenuItems(self, context, request):\n                         "id": "plone-contentmenu-add-to-default-page",\n                         "separator": None,\n                         "class": "pat-plone-modal",\n+                        "modal": json.dumps(\n+                            {"actionOptions": {"disableAjaxFormSubmit": True}}\n+                        ),\n                     },\n                     "submenu": None,\n                 }\n'

Repository: plone.app.contentmenu


Branch: refs/heads/master
Date: 2023-09-14T02:33:10+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contentmenu/commit/3cc72611dcf32abaf1928436d0804d00f23f525c

Merge pull request #55 from plone/issue-54

Fix #54 : "Add item to default page" modal form

Files changed:
A news/54.bugfix
M plone/app/contentmenu/menu.py

b'diff --git a/news/54.bugfix b/news/54.bugfix\nnew file mode 100644\nindex 0000000..25e2bd2\n--- /dev/null\n+++ b/news/54.bugfix\n@@ -0,0 +1 @@\n+Fix "Add item to default page" modal form. [sverbois]\ndiff --git a/plone/app/contentmenu/menu.py b/plone/app/contentmenu/menu.py\nindex c2dc48e..e752899 100644\n--- a/plone/app/contentmenu/menu.py\n+++ b/plone/app/contentmenu/menu.py\n@@ -711,6 +711,9 @@ def getMenuItems(self, context, request):\n                         "id": "plone-contentmenu-add-to-default-page",\n                         "separator": None,\n                         "class": "pat-plone-modal",\n+                        "modal": json.dumps(\n+                            {"actionOptions": {"disableAjaxFormSubmit": True}}\n+                        ),\n                     },\n                     "submenu": None,\n                 }\n'

