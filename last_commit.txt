Repository: Products.PortalTransforms


Branch: refs/heads/master
Date: 2020-08-22T10:56:21+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.PortalTransforms/commit/8cd87c202d07ad7d5495c8730c6fa1f6dea356f6

Fixed deprecation warning for DocumentTemplate.DT_Util.html_quote.

```
DeprecationWarning: html_quote is deprecated. Please import from DocumentTemplate.html_quote. These shims will go away in DocumentTemplate 4.0.
```

This is already available under DocumentTemplate.html_quote.html_quote since at least 2.13.6, so safe to change.

Files changed:
A news/41.bugfix
M Products/PortalTransforms/transforms/python.py
M Products/PortalTransforms/transforms/text_pre_to_html.py
M Products/PortalTransforms/transforms/text_to_html.py

b'diff --git a/Products/PortalTransforms/transforms/python.py b/Products/PortalTransforms/transforms/python.py\nindex 207dfa1..d42d796 100644\n--- a/Products/PortalTransforms/transforms/python.py\n+++ b/Products/PortalTransforms/transforms/python.py\n@@ -15,7 +15,7 @@\n  original formatting (which is the hard part).\n """\n \n-from DocumentTemplate.DT_Util import html_quote\n+from DocumentTemplate.html_quote import html_quote\n from io import BytesIO\n from Products.PortalTransforms.interfaces import ITransform\n from Products.PortalTransforms.utils import safe_nativestring\ndiff --git a/Products/PortalTransforms/transforms/text_pre_to_html.py b/Products/PortalTransforms/transforms/text_pre_to_html.py\nindex 5918c2f..a955a30 100644\n--- a/Products/PortalTransforms/transforms/text_pre_to_html.py\n+++ b/Products/PortalTransforms/transforms/text_pre_to_html.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from DocumentTemplate.DT_Util import html_quote\n+from DocumentTemplate.html_quote import html_quote\n from Products.PortalTransforms.interfaces import ITransform\n from zope.interface import implementer\n \ndiff --git a/Products/PortalTransforms/transforms/text_to_html.py b/Products/PortalTransforms/transforms/text_to_html.py\nindex 8528836..f606f09 100644\n--- a/Products/PortalTransforms/transforms/text_to_html.py\n+++ b/Products/PortalTransforms/transforms/text_to_html.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from DocumentTemplate.DT_Util import html_quote\n+from DocumentTemplate.html_quote import html_quote\n from Products.PortalTransforms.interfaces import ITransform\n from Products.PortalTransforms.utils import safe_nativestring\n from zope.interface import implementer\ndiff --git a/news/41.bugfix b/news/41.bugfix\nnew file mode 100644\nindex 0000000..35e603a\n--- /dev/null\n+++ b/news/41.bugfix\n@@ -0,0 +1,2 @@\n+Fixed deprecation warning for DocumentTemplate.DT_Util.html_quote.\n+[maurits]\n'

Repository: Products.PortalTransforms


Branch: refs/heads/master
Date: 2020-08-24T11:15:03+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/Products.PortalTransforms/commit/c25ac7998063404768ffac4a5057a5718b7c7906

Merge pull request #41 from plone/maurits/fix-startup-warnings

Fixed deprecation warning for DocumentTemplate.DT_Util.html_quote.

Files changed:
A news/41.bugfix
M Products/PortalTransforms/transforms/python.py
M Products/PortalTransforms/transforms/text_pre_to_html.py
M Products/PortalTransforms/transforms/text_to_html.py

b'diff --git a/Products/PortalTransforms/transforms/python.py b/Products/PortalTransforms/transforms/python.py\nindex 207dfa1..d42d796 100644\n--- a/Products/PortalTransforms/transforms/python.py\n+++ b/Products/PortalTransforms/transforms/python.py\n@@ -15,7 +15,7 @@\n  original formatting (which is the hard part).\n """\n \n-from DocumentTemplate.DT_Util import html_quote\n+from DocumentTemplate.html_quote import html_quote\n from io import BytesIO\n from Products.PortalTransforms.interfaces import ITransform\n from Products.PortalTransforms.utils import safe_nativestring\ndiff --git a/Products/PortalTransforms/transforms/text_pre_to_html.py b/Products/PortalTransforms/transforms/text_pre_to_html.py\nindex 5918c2f..a955a30 100644\n--- a/Products/PortalTransforms/transforms/text_pre_to_html.py\n+++ b/Products/PortalTransforms/transforms/text_pre_to_html.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from DocumentTemplate.DT_Util import html_quote\n+from DocumentTemplate.html_quote import html_quote\n from Products.PortalTransforms.interfaces import ITransform\n from zope.interface import implementer\n \ndiff --git a/Products/PortalTransforms/transforms/text_to_html.py b/Products/PortalTransforms/transforms/text_to_html.py\nindex 8528836..f606f09 100644\n--- a/Products/PortalTransforms/transforms/text_to_html.py\n+++ b/Products/PortalTransforms/transforms/text_to_html.py\n@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from DocumentTemplate.DT_Util import html_quote\n+from DocumentTemplate.html_quote import html_quote\n from Products.PortalTransforms.interfaces import ITransform\n from Products.PortalTransforms.utils import safe_nativestring\n from zope.interface import implementer\ndiff --git a/news/41.bugfix b/news/41.bugfix\nnew file mode 100644\nindex 0000000..35e603a\n--- /dev/null\n+++ b/news/41.bugfix\n@@ -0,0 +1,2 @@\n+Fixed deprecation warning for DocumentTemplate.DT_Util.html_quote.\n+[maurits]\n'

