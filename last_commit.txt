Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2020-10-05T14:41:27+03:00
Author: Alin Voinea (avoinea) <contact@avoinea.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/540e2d410fb805c9dc14d532dcbde8f20cf795d7

Refs #573 - Make tests more generic

Files changed:
A news/573.bugfix
M plone/app/contenttypes/tests/test_collection.py
M plone/app/contenttypes/tests/test_document.py
M plone/app/contenttypes/tests/test_event.py
M plone/app/contenttypes/tests/test_file.py
M plone/app/contenttypes/tests/test_folder.py
M plone/app/contenttypes/tests/test_image.py
M plone/app/contenttypes/tests/test_link.py
M plone/app/contenttypes/tests/test_news_item.py

b"diff --git a/news/573.bugfix b/news/573.bugfix\nnew file mode 100644\nindex 00000000..bbbe4935\n--- /dev/null\n+++ b/news/573.bugfix\n@@ -0,0 +1,2 @@\n+- Update tests to fix https://github.com/plone/plone.dexterity/pull/137\n+[@avoinea]\ndiff --git a/plone/app/contenttypes/tests/test_collection.py b/plone/app/contenttypes/tests/test_collection.py\nindex 08c95f33..29c89225 100644\n--- a/plone/app/contenttypes/tests/test_collection.py\n+++ b/plone/app/contenttypes/tests/test_collection.py\n@@ -112,7 +112,7 @@ def test_schema(self):\n         fti = queryUtility(IDexterityFTI,\n                            name='Collection')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Collection')\n+        self.assertTrue(schema.getName().endswith('_0_Collection'))\n \n     def test_fti(self):\n         fti = queryUtility(IDexterityFTI,\ndiff --git a/plone/app/contenttypes/tests/test_document.py b/plone/app/contenttypes/tests/test_document.py\nindex 2127da11..f18990e7 100644\n--- a/plone/app/contenttypes/tests/test_document.py\n+++ b/plone/app/contenttypes/tests/test_document.py\n@@ -32,7 +32,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Document')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Document')\n+        self.assertTrue(schema.getName().endswith('_0_Document'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_event.py b/plone/app/contenttypes/tests/test_event.py\nindex 39a499e1..b7df78cb 100644\n--- a/plone/app/contenttypes/tests/test_event.py\n+++ b/plone/app/contenttypes/tests/test_event.py\n@@ -33,7 +33,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Event')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Event')\n+        self.assertTrue(schema.getName().endswith('_0_Event'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_file.py b/plone/app/contenttypes/tests/test_file.py\nindex 27c72fb7..26a70beb 100644\n--- a/plone/app/contenttypes/tests/test_file.py\n+++ b/plone/app/contenttypes/tests/test_file.py\n@@ -36,7 +36,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='File')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_File')\n+        self.assertTrue(schema.getName().endswith('_0_File'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_folder.py b/plone/app/contenttypes/tests/test_folder.py\nindex 9c3ea64f..e8bd54df 100644\n--- a/plone/app/contenttypes/tests/test_folder.py\n+++ b/plone/app/contenttypes/tests/test_folder.py\n@@ -31,7 +31,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Folder')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Folder')\n+        self.assertTrue(schema.getName().endswith('_0_Folder'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_image.py b/plone/app/contenttypes/tests/test_image.py\nindex 52bbdf08..5b2ddbd4 100644\n--- a/plone/app/contenttypes/tests/test_image.py\n+++ b/plone/app/contenttypes/tests/test_image.py\n@@ -45,7 +45,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Image')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Image')\n+        self.assertTrue(schema.getName().endswith('_0_Image'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_link.py b/plone/app/contenttypes/tests/test_link.py\nindex 1f956c9d..a9a82497 100644\n--- a/plone/app/contenttypes/tests/test_link.py\n+++ b/plone/app/contenttypes/tests/test_link.py\n@@ -41,7 +41,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Link')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Link')\n+        self.assertTrue(schema.getName().endswith('_0_Link'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_news_item.py b/plone/app/contenttypes/tests/test_news_item.py\nindex 3e140e16..41c89a63 100644\n--- a/plone/app/contenttypes/tests/test_news_item.py\n+++ b/plone/app/contenttypes/tests/test_news_item.py\n@@ -40,7 +40,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='News Item')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_News_1_Item')\n+        self.assertTrue(schema.getName().endswith('_0_News_1_Item'))\n \n     def test_fti(self):\n         fti = queryUtility(\n"

Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2020-10-05T14:55:15+02:00
Author: Alessandro Pisa (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/b675d02540191a3b0afa6d33de211721551eee96

Merge pull request #574 from plone/sync-schema-on-zeo-clients

Refs #573 - Make tests more generic

Files changed:
A news/573.bugfix
M plone/app/contenttypes/tests/test_collection.py
M plone/app/contenttypes/tests/test_document.py
M plone/app/contenttypes/tests/test_event.py
M plone/app/contenttypes/tests/test_file.py
M plone/app/contenttypes/tests/test_folder.py
M plone/app/contenttypes/tests/test_image.py
M plone/app/contenttypes/tests/test_link.py
M plone/app/contenttypes/tests/test_news_item.py

b"diff --git a/news/573.bugfix b/news/573.bugfix\nnew file mode 100644\nindex 00000000..bbbe4935\n--- /dev/null\n+++ b/news/573.bugfix\n@@ -0,0 +1,2 @@\n+- Update tests to fix https://github.com/plone/plone.dexterity/pull/137\n+[@avoinea]\ndiff --git a/plone/app/contenttypes/tests/test_collection.py b/plone/app/contenttypes/tests/test_collection.py\nindex 08c95f33..29c89225 100644\n--- a/plone/app/contenttypes/tests/test_collection.py\n+++ b/plone/app/contenttypes/tests/test_collection.py\n@@ -112,7 +112,7 @@ def test_schema(self):\n         fti = queryUtility(IDexterityFTI,\n                            name='Collection')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Collection')\n+        self.assertTrue(schema.getName().endswith('_0_Collection'))\n \n     def test_fti(self):\n         fti = queryUtility(IDexterityFTI,\ndiff --git a/plone/app/contenttypes/tests/test_document.py b/plone/app/contenttypes/tests/test_document.py\nindex 2127da11..f18990e7 100644\n--- a/plone/app/contenttypes/tests/test_document.py\n+++ b/plone/app/contenttypes/tests/test_document.py\n@@ -32,7 +32,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Document')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Document')\n+        self.assertTrue(schema.getName().endswith('_0_Document'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_event.py b/plone/app/contenttypes/tests/test_event.py\nindex 39a499e1..b7df78cb 100644\n--- a/plone/app/contenttypes/tests/test_event.py\n+++ b/plone/app/contenttypes/tests/test_event.py\n@@ -33,7 +33,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Event')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Event')\n+        self.assertTrue(schema.getName().endswith('_0_Event'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_file.py b/plone/app/contenttypes/tests/test_file.py\nindex 27c72fb7..26a70beb 100644\n--- a/plone/app/contenttypes/tests/test_file.py\n+++ b/plone/app/contenttypes/tests/test_file.py\n@@ -36,7 +36,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='File')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_File')\n+        self.assertTrue(schema.getName().endswith('_0_File'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_folder.py b/plone/app/contenttypes/tests/test_folder.py\nindex 9c3ea64f..e8bd54df 100644\n--- a/plone/app/contenttypes/tests/test_folder.py\n+++ b/plone/app/contenttypes/tests/test_folder.py\n@@ -31,7 +31,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Folder')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Folder')\n+        self.assertTrue(schema.getName().endswith('_0_Folder'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_image.py b/plone/app/contenttypes/tests/test_image.py\nindex 52bbdf08..5b2ddbd4 100644\n--- a/plone/app/contenttypes/tests/test_image.py\n+++ b/plone/app/contenttypes/tests/test_image.py\n@@ -45,7 +45,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Image')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Image')\n+        self.assertTrue(schema.getName().endswith('_0_Image'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_link.py b/plone/app/contenttypes/tests/test_link.py\nindex 1f956c9d..a9a82497 100644\n--- a/plone/app/contenttypes/tests/test_link.py\n+++ b/plone/app/contenttypes/tests/test_link.py\n@@ -41,7 +41,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='Link')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_Link')\n+        self.assertTrue(schema.getName().endswith('_0_Link'))\n \n     def test_fti(self):\n         fti = queryUtility(\ndiff --git a/plone/app/contenttypes/tests/test_news_item.py b/plone/app/contenttypes/tests/test_news_item.py\nindex 3e140e16..41c89a63 100644\n--- a/plone/app/contenttypes/tests/test_news_item.py\n+++ b/plone/app/contenttypes/tests/test_news_item.py\n@@ -40,7 +40,7 @@ def test_schema(self):\n             IDexterityFTI,\n             name='News Item')\n         schema = fti.lookupSchema()\n-        self.assertEqual(schema.getName(), 'plone_0_News_1_Item')\n+        self.assertTrue(schema.getName().endswith('_0_News_1_Item'))\n \n     def test_fti(self):\n         fti = queryUtility(\n"

