Repository: plone.base


Branch: refs/heads/main
Date: 2024-10-11T20:50:24+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.base/commit/c3721a304ca42f8947949b7e18964d820154785a

Fixed tests when using Zope 5.11.

In one test we got a `mappingproxy` instead of a dictionary:

```
File "...plone.base-2.0.1-py3.10.egg/plone/base/tests/messages.rst", line 39, in messages.rst
Failed example:
    msg.mapping
Expected:
    {'name': 'Plone'}
Got:
    mappingproxy({'name': 'Plone'})
```

Files changed:
A news/956.tests
M src/plone/base/tests/messages.rst

b"diff --git a/news/956.tests b/news/956.tests\nnew file mode 100644\nindex 0000000..fc57308\n--- /dev/null\n+++ b/news/956.tests\n@@ -0,0 +1,3 @@\n+Fixed tests when using Zope 5.11.\n+In one test we got a `mappingproxy` instead of a dictionary.\n+[maurits]\ndiff --git a/src/plone/base/tests/messages.rst b/src/plone/base/tests/messages.rst\nindex 2187c65..f6ec452 100644\n--- a/src/plone/base/tests/messages.rst\n+++ b/src/plone/base/tests/messages.rst\n@@ -36,7 +36,7 @@ And at last there is the possibility of variable substitution:\n   >>> msg.default\n   'Hello ${name}'\n \n-  >>> msg.mapping\n+  >>> dict(msg.mapping)\n   {'name': 'Plone'}\n \n Messages with translation service set up\n"

Repository: plone.base


Branch: refs/heads/main
Date: 2024-10-21T12:02:53+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@py76.be>
Commit: https://github.com/plone/plone.base/commit/8f9b12878123f8e6facb1d7529373b4d7f46e692

Merge pull request #71 from plone/maurits-fix-tests-zope-511

Fixed tests when using Zope 5.11.

Files changed:
A news/956.tests
M src/plone/base/tests/messages.rst

b"diff --git a/news/956.tests b/news/956.tests\nnew file mode 100644\nindex 0000000..fc57308\n--- /dev/null\n+++ b/news/956.tests\n@@ -0,0 +1,3 @@\n+Fixed tests when using Zope 5.11.\n+In one test we got a `mappingproxy` instead of a dictionary.\n+[maurits]\ndiff --git a/src/plone/base/tests/messages.rst b/src/plone/base/tests/messages.rst\nindex 2187c65..f6ec452 100644\n--- a/src/plone/base/tests/messages.rst\n+++ b/src/plone/base/tests/messages.rst\n@@ -36,7 +36,7 @@ And at last there is the possibility of variable substitution:\n   >>> msg.default\n   'Hello ${name}'\n \n-  >>> msg.mapping\n+  >>> dict(msg.mapping)\n   {'name': 'Plone'}\n \n Messages with translation service set up\n"

