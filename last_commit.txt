Repository: plone.rest


Branch: refs/heads/master
Date: 2021-10-05T21:34:16+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.rest/commit/05bc2d917ed90226f7ed6908af61dea9d2034cef

Black

Files changed:
M setup.py
M src/plone/rest/events.py
M src/plone/rest/traverse.py

b'diff --git a/setup.py b/setup.py\nindex ebe3a32..a1e0304 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -6,72 +6,70 @@ def read(*rnames):\n     return open(os.path.join(os.path.dirname(__file__), *rnames)).read()\n \n \n-version = \'2.0.0a2.dev0\'\n+version = "2.0.0a2.dev0"\n \n-long_description = (\n-    read(\'README.rst\') + \'\\n\\n\' +\n-    read(\'CHANGES.rst\') + \'\\n\\n\'\n-    )\n+long_description = read("README.rst") + "\\n\\n" + read("CHANGES.rst") + "\\n\\n"\n \n \n-setup(name=\'plone.rest\',\n-      version=version,\n-      description="Plone support for HTTP verbs.",\n-      long_description=long_description,\n-      # Get more strings from\n-      # https://pypi.org/classifiers/\n-      classifiers=[\n-          "Development Status :: 5 - Production/Stable",\n-          "Environment :: Web Environment",\n-          "Framework :: Plone",\n-          "Framework :: Plone :: 4.3",\n-          "Framework :: Plone :: 5.0",\n-          "Framework :: Plone :: 5.1",\n-          "Framework :: Plone :: 5.2",\n-          "Framework :: Plone :: Core",\n-          "Framework :: Zope2",\n-          "Framework :: Zope :: 4",\n-          "License :: OSI Approved :: GNU General Public License (GPL)",\n-          "Operating System :: OS Independent",\n-          "Programming Language :: Python",\n-          "Programming Language :: Python :: 2.7",\n-          "Programming Language :: Python :: 3.6",\n-          "Programming Language :: Python :: 3.7",\n-          "Programming Language :: Python :: 3.8",\n-      ],\n-      keywords=\'rest http\',\n-      author=\'Plone Foundation\',\n-      author_email=\'plone-developers@lists.sourceforge.net\',\n-      url=\'https://github.com/plone/plone.rest/\',\n-      license=\'GPL version 2\',\n-      packages=find_packages(\'src\'),\n-      package_dir={\'\': \'src\'},\n-      namespace_packages=[\'plone\'],\n-      include_package_data=True,\n-      zip_safe=False,\n-      extras_require=dict(\n-          test=[\n-              \'plone.app.testing[robot]>=4.2.2\',\n-              \'plone.app.robotframework\',\n-              \'plone.dexterity\',\n-              \'Products.CMFCore\',\n-              \'requests\',\n-          ]\n-      ),\n-      install_requires=[\n-          \'setuptools\',\n-          \'collective.monkeypatcher\',\n-          \'zope.component\',\n-          \'zope.interface\',\n-          \'zope.publisher\',\n-          \'zope.traversing\',\n-          \'Products.CMFCore\',\n-          \'Zope2\',\n-          \'six\',\n-      ],\n-      entry_points="""\n+setup(\n+    name="plone.rest",\n+    version=version,\n+    description="Plone support for HTTP verbs.",\n+    long_description=long_description,\n+    # Get more strings from\n+    # https://pypi.org/classifiers/\n+    classifiers=[\n+        "Development Status :: 5 - Production/Stable",\n+        "Environment :: Web Environment",\n+        "Framework :: Plone",\n+        "Framework :: Plone :: 4.3",\n+        "Framework :: Plone :: 5.0",\n+        "Framework :: Plone :: 5.1",\n+        "Framework :: Plone :: 5.2",\n+        "Framework :: Plone :: Core",\n+        "Framework :: Zope2",\n+        "Framework :: Zope :: 4",\n+        "License :: OSI Approved :: GNU General Public License (GPL)",\n+        "Operating System :: OS Independent",\n+        "Programming Language :: Python",\n+        "Programming Language :: Python :: 2.7",\n+        "Programming Language :: Python :: 3.6",\n+        "Programming Language :: Python :: 3.7",\n+        "Programming Language :: Python :: 3.8",\n+    ],\n+    keywords="rest http",\n+    author="Plone Foundation",\n+    author_email="plone-developers@lists.sourceforge.net",\n+    url="https://github.com/plone/plone.rest/",\n+    license="GPL version 2",\n+    packages=find_packages("src"),\n+    package_dir={"": "src"},\n+    namespace_packages=["plone"],\n+    include_package_data=True,\n+    zip_safe=False,\n+    extras_require=dict(\n+        test=[\n+            "plone.app.testing[robot]>=4.2.2",\n+            "plone.app.robotframework",\n+            "plone.dexterity",\n+            "Products.CMFCore",\n+            "requests",\n+        ]\n+    ),\n+    install_requires=[\n+        "setuptools",\n+        "collective.monkeypatcher",\n+        "zope.component",\n+        "zope.interface",\n+        "zope.publisher",\n+        "zope.traversing",\n+        "Products.CMFCore",\n+        "Zope2",\n+        "six",\n+    ],\n+    entry_points="""\n       # -*- Entry points: -*-\n       [z3c.autoinclude.plugin]\n       target = plone\n       """,\n-      )\n+)\ndiff --git a/src/plone/rest/events.py b/src/plone/rest/events.py\nindex 86dbcb3..49554d8 100644\n--- a/src/plone/rest/events.py\n+++ b/src/plone/rest/events.py\n@@ -28,9 +28,8 @@ def mark_as_api_request(request, accept):\n \n \n def subscriber_mark_as_api_request(event):\n-    """Subscriber to mark a request as IAPIRequest (see mark_as_api_request)\n-    """\n+    """Subscriber to mark a request as IAPIRequest (see mark_as_api_request)"""\n     mark_as_api_request(\n-        event.request, \n+        event.request,\n         event.request.getHeader("Accept", "text/html"),\n-    )    \n+    )\ndiff --git a/src/plone/rest/traverse.py b/src/plone/rest/traverse.py\nindex bd0bba0..f8d4a23 100644\n--- a/src/plone/rest/traverse.py\n+++ b/src/plone/rest/traverse.py\n@@ -54,7 +54,7 @@ def browserDefault(self, request):\n \n @implementer(ITraversable)\n class MarkAsRESTTraverser(object):\n-    """ \n+    """\n     Traversal adapter for the ``++api++`` namespace.\n     It marks the request as API request.\n     """\n'

