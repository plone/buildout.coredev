Repository: mockup


Branch: refs/heads/master
Date: 2020-06-16T09:25:02+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/mockup/commit/788e1a28db2a498a334b05037994d036bc89e12f

Fix statusmessage and form validation selectors for Barceloneta LTS (#976)

* fix statusmessage and form validation error selectors for Barceloneta LTS

* revert wrong optimization

Files changed:
M mockup/patterns/modal/pattern.js
M news/975.feature

b"diff --git a/mockup/patterns/modal/pattern.js b/mockup/patterns/modal/pattern.js\nindex 1a4353253..45eccea5f 100644\n--- a/mockup/patterns/modal/pattern.js\n+++ b/mockup/patterns/modal/pattern.js\n@@ -110,7 +110,7 @@ define([\n       content: '#content',\n       automaticallyAddButtonActions: true,\n       loadLinksWithinModal: true,\n-      prependContent: '.portalMessage',\n+      prependContent: '.portalMessage, #global_statusmessage',\n       onRender: null,\n       templateOptions: {\n         className: 'plone-modal fade',\n@@ -154,7 +154,7 @@ define([\n         timeout: 5000,\n         displayInModal: true,\n         reloadWindowOnClose: true,\n-        error: '.portalMessage.error',\n+        error: '.portalMessage.error, .alert-danger',\n         formFieldError: '.field.error',\n         onSuccess: null,\n         onError: null,\ndiff --git a/news/975.feature b/news/975.feature\nindex fae9eb9e5..0c502b284 100644\n--- a/news/975.feature\n+++ b/news/975.feature\n@@ -1,2 +1,2 @@\n-Barceloneta-LTS support\n+Barceloneta-LTS support for ``mockup-patterns-inlinevalidation`` and ``mockup-patterns-modal``\n [petschki]\n"

