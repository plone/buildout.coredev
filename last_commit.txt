Repository: plone.contentrules


Branch: refs/heads/master
Date: 2020-09-03T22:25:01+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.contentrules/commit/da58bbf88ed5dae6e1d104203eed6159ec72fb2a

Fixed deprecation warning for IObjectEvent/ObjectEvent from zope.component.

Files changed:
A news/3130.feature
M plone/contentrules/README.rst
M plone/contentrules/zcml.rst
M setup.py

b'diff --git a/news/3130.feature b/news/3130.feature\nnew file mode 100644\nindex 0000000..fa86ead\n--- /dev/null\n+++ b/news/3130.feature\n@@ -0,0 +1,3 @@\n+Fixed deprecation warning for ``IObjectEvent/ObjectEvent`` from ``zope.component``.\n+Drops compatibility with Plone 5.0 and earlier.\n+[maurits]\ndiff --git a/plone/contentrules/README.rst b/plone/contentrules/README.rst\nindex 81fcd79..0a7d40f 100644\n--- a/plone/contentrules/README.rst\n+++ b/plone/contentrules/README.rst\n@@ -69,7 +69,7 @@ adaptable to IExecutable. This should be a multi-adapter from\n (context, element, event).\n \n   >>> from plone.contentrules.rule.interfaces import IExecutable\n-  >>> from zope.component.interfaces import IObjectEvent\n+  >>> from zope.interface.interfaces import IObjectEvent\n \n   >>> @implementer(IExecutable)\n   ... @adapter(Interface, IMoveToFolderAction, IObjectEvent)\n@@ -507,7 +507,7 @@ Event Filtering\n Rule elements can be specific to certain events. To create some event-specific\n rule elements, first import the specific events\n \n-  >>> from zope.component.interfaces import IObjectEvent, ObjectEvent\n+  >>> from zope.interface.interfaces import IObjectEvent, ObjectEvent\n   >>> from zope.lifecycleevent.interfaces import IObjectCreatedEvent, \\\n   ...                                            IObjectCopiedEvent, \\\n   ...                                            IObjectModifiedEvent\ndiff --git a/plone/contentrules/zcml.rst b/plone/contentrules/zcml.rst\nindex 76d023f..308a2a3 100644\n--- a/plone/contentrules/zcml.rst\n+++ b/plone/contentrules/zcml.rst\n@@ -24,7 +24,7 @@ Here is how we would register these in ZCML:\n     ...         title="Test condition"\n     ...         description="A test condition"\n     ...         for="*"\n-    ...         event="zope.component.interfaces.IObjectEvent"\n+    ...         event="zope.interface.interfaces.IObjectEvent"\n     ...         addview="test.condition"\n     ...         editview="edit"\n     ...         schema=".rule.tests.elements.ITestCondition"\n@@ -36,7 +36,7 @@ Here is how we would register these in ZCML:\n     ...         title="Test action"\n     ...         description="A test action"\n     ...         for="*"\n-    ...         event="zope.component.interfaces.IObjectEvent"\n+    ...         event="zope.interface.interfaces.IObjectEvent"\n     ...         addview="test.action"\n     ...         editview="edit"\n     ...         schema=".rule.tests.elements.ITestAction"\n@@ -66,7 +66,7 @@ inspect conditions and actions in rules.\n     >>> from plone.contentrules.rule.interfaces import IRuleAction\n \n     >>> from zope.component import getUtility\n-    >>> from zope.component.interfaces import IObjectEvent\n+    >>> from zope.interface.interfaces import IObjectEvent\n     >>> from plone.contentrules.rule.tests import elements\n \n     >>> condition = getUtility(IRuleCondition, name=u"test.condition")\ndiff --git a/setup.py b/setup.py\nindex 6449122..27bafe2 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -1,6 +1,6 @@\n from setuptools import setup, find_packages\n \n-version = \'2.0.11.dev0\'\n+version = \'2.1.0.dev0\'\n \n setup(\n     name=\'plone.contentrules\',\n@@ -12,8 +12,6 @@\n         "Development Status :: 5 - Production/Stable",\n         "Environment :: Web Environment",\n         "Framework :: Plone",\n-        "Framework :: Plone :: 4.3",\n-        "Framework :: Plone :: 5.0",\n         "Framework :: Plone :: 5.1",\n         "Framework :: Plone :: 5.2",\n         "Framework :: Plone :: Core",\n@@ -22,7 +20,6 @@\n         "License :: OSI Approved :: GNU General Public License v2 (GPLv2)",\n         "Operating System :: OS Independent",\n         "Programming Language :: Python",\n-        "Programming Language :: Python :: 2.6",\n         "Programming Language :: Python :: 2.7",\n         "Programming Language :: Python :: 3.6",\n         "Programming Language :: Python :: 3.7",\n'

Repository: plone.contentrules


Branch: refs/heads/master
Date: 2020-09-04T12:25:27+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.contentrules/commit/174c5dd71b96407015ac75965467729f1eb4450c

Merge pull request #10 from plone/maurits/fix-warnings

Fixed deprecation warning for (I)ObjectEvent from zope.component

Files changed:
A news/3130.feature
M plone/contentrules/README.rst
M plone/contentrules/zcml.rst
M setup.py

b'diff --git a/news/3130.feature b/news/3130.feature\nnew file mode 100644\nindex 0000000..fa86ead\n--- /dev/null\n+++ b/news/3130.feature\n@@ -0,0 +1,3 @@\n+Fixed deprecation warning for ``IObjectEvent/ObjectEvent`` from ``zope.component``.\n+Drops compatibility with Plone 5.0 and earlier.\n+[maurits]\ndiff --git a/plone/contentrules/README.rst b/plone/contentrules/README.rst\nindex 81fcd79..0a7d40f 100644\n--- a/plone/contentrules/README.rst\n+++ b/plone/contentrules/README.rst\n@@ -69,7 +69,7 @@ adaptable to IExecutable. This should be a multi-adapter from\n (context, element, event).\n \n   >>> from plone.contentrules.rule.interfaces import IExecutable\n-  >>> from zope.component.interfaces import IObjectEvent\n+  >>> from zope.interface.interfaces import IObjectEvent\n \n   >>> @implementer(IExecutable)\n   ... @adapter(Interface, IMoveToFolderAction, IObjectEvent)\n@@ -507,7 +507,7 @@ Event Filtering\n Rule elements can be specific to certain events. To create some event-specific\n rule elements, first import the specific events\n \n-  >>> from zope.component.interfaces import IObjectEvent, ObjectEvent\n+  >>> from zope.interface.interfaces import IObjectEvent, ObjectEvent\n   >>> from zope.lifecycleevent.interfaces import IObjectCreatedEvent, \\\n   ...                                            IObjectCopiedEvent, \\\n   ...                                            IObjectModifiedEvent\ndiff --git a/plone/contentrules/zcml.rst b/plone/contentrules/zcml.rst\nindex 76d023f..308a2a3 100644\n--- a/plone/contentrules/zcml.rst\n+++ b/plone/contentrules/zcml.rst\n@@ -24,7 +24,7 @@ Here is how we would register these in ZCML:\n     ...         title="Test condition"\n     ...         description="A test condition"\n     ...         for="*"\n-    ...         event="zope.component.interfaces.IObjectEvent"\n+    ...         event="zope.interface.interfaces.IObjectEvent"\n     ...         addview="test.condition"\n     ...         editview="edit"\n     ...         schema=".rule.tests.elements.ITestCondition"\n@@ -36,7 +36,7 @@ Here is how we would register these in ZCML:\n     ...         title="Test action"\n     ...         description="A test action"\n     ...         for="*"\n-    ...         event="zope.component.interfaces.IObjectEvent"\n+    ...         event="zope.interface.interfaces.IObjectEvent"\n     ...         addview="test.action"\n     ...         editview="edit"\n     ...         schema=".rule.tests.elements.ITestAction"\n@@ -66,7 +66,7 @@ inspect conditions and actions in rules.\n     >>> from plone.contentrules.rule.interfaces import IRuleAction\n \n     >>> from zope.component import getUtility\n-    >>> from zope.component.interfaces import IObjectEvent\n+    >>> from zope.interface.interfaces import IObjectEvent\n     >>> from plone.contentrules.rule.tests import elements\n \n     >>> condition = getUtility(IRuleCondition, name=u"test.condition")\ndiff --git a/setup.py b/setup.py\nindex 6449122..27bafe2 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -1,6 +1,6 @@\n from setuptools import setup, find_packages\n \n-version = \'2.0.11.dev0\'\n+version = \'2.1.0.dev0\'\n \n setup(\n     name=\'plone.contentrules\',\n@@ -12,8 +12,6 @@\n         "Development Status :: 5 - Production/Stable",\n         "Environment :: Web Environment",\n         "Framework :: Plone",\n-        "Framework :: Plone :: 4.3",\n-        "Framework :: Plone :: 5.0",\n         "Framework :: Plone :: 5.1",\n         "Framework :: Plone :: 5.2",\n         "Framework :: Plone :: Core",\n@@ -22,7 +20,6 @@\n         "License :: OSI Approved :: GNU General Public License v2 (GPLv2)",\n         "Operating System :: OS Independent",\n         "Programming Language :: Python",\n-        "Programming Language :: Python :: 2.6",\n         "Programming Language :: Python :: 2.7",\n         "Programming Language :: Python :: 3.6",\n         "Programming Language :: Python :: 3.7",\n'

