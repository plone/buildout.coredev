Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-08-29T20:40:18+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/68e7d9f2cd11c7369a8fb6e34f7ab5dec48c8689

Use five.registerPackage so an editable install with pip works.

Fixes https://github.com/plone/Products.CMFPlone/issues/4002

Files changed:
A news/4002.bugfix
M Products/CMFPlone/configure.zcml

b'diff --git a/Products/CMFPlone/configure.zcml b/Products/CMFPlone/configure.zcml\nindex c1a3ba041d..b44a78d4de 100644\n--- a/Products/CMFPlone/configure.zcml\n+++ b/Products/CMFPlone/configure.zcml\n@@ -2,11 +2,13 @@\n     xmlns="http://namespaces.zope.org/zope"\n     xmlns:browser="http://namespaces.zope.org/browser"\n     xmlns:cmf="http://namespaces.zope.org/cmf"\n+    xmlns:five="http://namespaces.zope.org/five"\n     xmlns:i18n="http://namespaces.zope.org/i18n"\n     xmlns:zcml="http://namespaces.zope.org/zcml"\n     i18n_domain="plone"\n     >\n \n+  <five:registerPackage package="." initialize=".initialize" />\n   <!-- basic zope/cmf -->\n   <include package="zope.app.locales" />\n   <include package="Products.CMFCore" />\ndiff --git a/news/4002.bugfix b/news/4002.bugfix\nnew file mode 100644\nindex 0000000000..8dc1c4c0e3\n--- /dev/null\n+++ b/news/4002.bugfix\n@@ -0,0 +1,2 @@\n+Use `five.registerPackage` so an editable install with `pip` works.\n+[maurits]\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-08-31T22:44:49+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@py76.be>
Commit: https://github.com/plone/Products.CMFPlone/commit/6549387f9302933bbd1202fdd24db9399f38f9b7

Merge pull request #4003 from plone/maurits-issue-4002-five-register-package-61

Use five.registerPackage so an editable install with pip works. [6.1]

Files changed:
A news/4002.bugfix
M Products/CMFPlone/configure.zcml

b'diff --git a/Products/CMFPlone/configure.zcml b/Products/CMFPlone/configure.zcml\nindex c1a3ba041d..b44a78d4de 100644\n--- a/Products/CMFPlone/configure.zcml\n+++ b/Products/CMFPlone/configure.zcml\n@@ -2,11 +2,13 @@\n     xmlns="http://namespaces.zope.org/zope"\n     xmlns:browser="http://namespaces.zope.org/browser"\n     xmlns:cmf="http://namespaces.zope.org/cmf"\n+    xmlns:five="http://namespaces.zope.org/five"\n     xmlns:i18n="http://namespaces.zope.org/i18n"\n     xmlns:zcml="http://namespaces.zope.org/zcml"\n     i18n_domain="plone"\n     >\n \n+  <five:registerPackage package="." initialize=".initialize" />\n   <!-- basic zope/cmf -->\n   <include package="zope.app.locales" />\n   <include package="Products.CMFCore" />\ndiff --git a/news/4002.bugfix b/news/4002.bugfix\nnew file mode 100644\nindex 0000000000..8dc1c4c0e3\n--- /dev/null\n+++ b/news/4002.bugfix\n@@ -0,0 +1,2 @@\n+Use `five.registerPackage` so an editable install with `pip` works.\n+[maurits]\n'

