Repository: Products.CMFPlone


Branch: refs/heads/6.0.x
Date: 2024-02-29T17:34:29+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/cd12a021d923555e7447bd7e0bcc4e3163869151

Cleanup viewlets.xml to not mention viewlets that no longer exist.

Nothing really goes wrong with non-existing viewlets, but it is confusing.
Fixes https://github.com/plone/Products.CMFPlone/issues/3911

Files changed:
A news/3911.bugfix
M Products/CMFPlone/profiles/default/viewlets.xml

b'diff --git a/Products/CMFPlone/profiles/default/viewlets.xml b/Products/CMFPlone/profiles/default/viewlets.xml\nindex 870ed08a06..317a3c2e03 100644\n--- a/Products/CMFPlone/profiles/default/viewlets.xml\n+++ b/Products/CMFPlone/profiles/default/viewlets.xml\n@@ -1,17 +1,12 @@\n <?xml version="1.0" encoding="utf-8"?>\n <object>\n-  <order manager="plone.portaltop"\n-         skinname="Plone Default"\n-  >\n \n-  </order>\n   <order manager="plone.portalheader"\n          skinname="Plone Default"\n   >\n     <viewlet name="plone.anontools" />\n     <viewlet name="plone.membertools" />\n     <viewlet name="plone.logo" />\n-    <viewlet name="plone.favicon" />\n     <viewlet name="plone.searchbox" />\n     <viewlet name="plone.app.i18n.locales.languageselector" />\n     <viewlet name="plone.app.multilingual.languageselector" />\n@@ -37,7 +32,7 @@\n     <viewlet name="plone.contributors" />\n     <viewlet name="plone.rights" />\n     <viewlet name="plone.keywords" />\n-    <viewlet name="plone.belowcontentbody.relateditems" />\n+    <viewlet name="plone.relateditems" />\n   </order>\n   <order manager="plone.belowcontent"\n          skinname="Plone Default"\n@@ -58,9 +53,4 @@\n     <viewlet name="plone.colophon" />\n     <viewlet name="plone.site_actions" />\n   </hidden>\n-  <hidden manager="plone.belowcontent"\n-          skinname="Plone Default"\n-  >\n-    <viewlet name="plone.manage_portlets_fallback" />\n-  </hidden>\n </object>\ndiff --git a/news/3911.bugfix b/news/3911.bugfix\nnew file mode 100644\nindex 0000000000..1c581c21e9\n--- /dev/null\n+++ b/news/3911.bugfix\n@@ -0,0 +1,2 @@\n+Cleanup `viewlets.xml` to not mention viewlets that no longer exist.\n+[maurits]\n'

Repository: Products.CMFPlone


Branch: refs/heads/6.0.x
Date: 2024-02-29T20:15:39+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/235569359fa40ca972d713b097e6b385adcfe7ed

Merge pull request #3912 from plone/maurits-issue-3911-viewlets-xml

Cleanup viewlets.xml to not mention viewlets that no longer exist.

Files changed:
A news/3911.bugfix
M Products/CMFPlone/profiles/default/viewlets.xml

b'diff --git a/Products/CMFPlone/profiles/default/viewlets.xml b/Products/CMFPlone/profiles/default/viewlets.xml\nindex 870ed08a06..317a3c2e03 100644\n--- a/Products/CMFPlone/profiles/default/viewlets.xml\n+++ b/Products/CMFPlone/profiles/default/viewlets.xml\n@@ -1,17 +1,12 @@\n <?xml version="1.0" encoding="utf-8"?>\n <object>\n-  <order manager="plone.portaltop"\n-         skinname="Plone Default"\n-  >\n \n-  </order>\n   <order manager="plone.portalheader"\n          skinname="Plone Default"\n   >\n     <viewlet name="plone.anontools" />\n     <viewlet name="plone.membertools" />\n     <viewlet name="plone.logo" />\n-    <viewlet name="plone.favicon" />\n     <viewlet name="plone.searchbox" />\n     <viewlet name="plone.app.i18n.locales.languageselector" />\n     <viewlet name="plone.app.multilingual.languageselector" />\n@@ -37,7 +32,7 @@\n     <viewlet name="plone.contributors" />\n     <viewlet name="plone.rights" />\n     <viewlet name="plone.keywords" />\n-    <viewlet name="plone.belowcontentbody.relateditems" />\n+    <viewlet name="plone.relateditems" />\n   </order>\n   <order manager="plone.belowcontent"\n          skinname="Plone Default"\n@@ -58,9 +53,4 @@\n     <viewlet name="plone.colophon" />\n     <viewlet name="plone.site_actions" />\n   </hidden>\n-  <hidden manager="plone.belowcontent"\n-          skinname="Plone Default"\n-  >\n-    <viewlet name="plone.manage_portlets_fallback" />\n-  </hidden>\n </object>\ndiff --git a/news/3911.bugfix b/news/3911.bugfix\nnew file mode 100644\nindex 0000000000..1c581c21e9\n--- /dev/null\n+++ b/news/3911.bugfix\n@@ -0,0 +1,2 @@\n+Cleanup `viewlets.xml` to not mention viewlets that no longer exist.\n+[maurits]\n'

