Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2024-05-02T17:42:22+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.multilingual/commit/7e23dcda18f657b1c13d1178142eda54a8556dc2

Removes a DeprecationWarning about CatalogVocabularyFactory import

Files changed:
A news/454.bugfix
M setup.py
M src/plone/app/multilingual/browser/vocabularies.py

b'diff --git a/news/454.bugfix b/news/454.bugfix\nnew file mode 100644\nindex 00000000..981b67f9\n--- /dev/null\n+++ b/news/454.bugfix\n@@ -0,0 +1 @@\n+Removed DeprecationWarning from CatalogVocabularyFactory import. [@jensens]\n\\ No newline at end of file\ndiff --git a/setup.py b/setup.py\nindex add5ad67..fa6db140 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -12,28 +12,22 @@\n     include_package_data=True,\n     zip_safe=False,\n     install_requires=[\n-        "plone.i18n>=4.0.4",\n-        "setuptools",\n         "BTrees",\n-        "Products.CMFCore",\n-        "Products.CMFPlone",\n-        "Products.GenericSetup",\n-        "Products.statusmessages",\n-        "Zope",\n         "plone.app.content",\n         "plone.app.contentmenu",\n         "plone.app.dexterity",\n         "plone.app.event",\n         "plone.app.i18n",\n         "plone.app.layout",\n+        "plone.app.querystring",\n         "plone.app.registry",\n         "plone.app.uuid",\n-        "plone.app.vocabularies",\n         "plone.app.z3cform",\n         "plone.autoform",\n         "plone.base",\n         "plone.behavior",\n         "plone.dexterity",\n+        "plone.i18n>=4.0.4",\n         "plone.indexer",\n         "plone.locking",\n         "plone.memoize",\n@@ -43,12 +37,18 @@\n         "plone.supermodel",\n         "plone.uuid",\n         "plone.z3cform",\n+        "Products.CMFCore",\n+        "Products.CMFPlone",\n+        "Products.GenericSetup",\n+        "Products.statusmessages",\n+        "setuptools",\n         "z3c.form",\n         "z3c.relationfield",\n         "zc.relation",\n         "zope.browsermenu",\n         "zope.intid",\n         "zope.pagetemplate",\n+        "Zope",\n     ],\n     extras_require={\n         "test": [\ndiff --git a/src/plone/app/multilingual/browser/vocabularies.py b/src/plone/app/multilingual/browser/vocabularies.py\nindex 33f2e59b..f62e6e71 100644\n--- a/src/plone/app/multilingual/browser/vocabularies.py\n+++ b/src/plone/app/multilingual/browser/vocabularies.py\n@@ -1,6 +1,6 @@\n from plone.app.multilingual.browser.utils import is_language_independent\n from plone.app.multilingual.interfaces import ITranslationManager\n-from plone.app.vocabularies.catalog import CatalogVocabularyFactory\n+from plone.app.querystring.vocabularies import CatalogVocabularyFactory\n from plone.base.interfaces import ILanguage\n from plone.i18n.locales.interfaces import ILanguageAvailability\n from Products.CMFCore.utils import getToolByName\n'

Repository: plone.app.multilingual


Branch: refs/heads/master
Date: 2024-05-03T08:38:11+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.multilingual/commit/fd13930de5d5be6fe3a0c9373b9f3d7d6245f182

Merge pull request #454 from plone/remove-deprecation-warning-vocab

Removes a DeprecationWarning about CatalogVocabularyFactory import

Files changed:
A news/454.bugfix
M setup.py
M src/plone/app/multilingual/browser/vocabularies.py

b'diff --git a/news/454.bugfix b/news/454.bugfix\nnew file mode 100644\nindex 00000000..981b67f9\n--- /dev/null\n+++ b/news/454.bugfix\n@@ -0,0 +1 @@\n+Removed DeprecationWarning from CatalogVocabularyFactory import. [@jensens]\n\\ No newline at end of file\ndiff --git a/setup.py b/setup.py\nindex add5ad67..fa6db140 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -12,28 +12,22 @@\n     include_package_data=True,\n     zip_safe=False,\n     install_requires=[\n-        "plone.i18n>=4.0.4",\n-        "setuptools",\n         "BTrees",\n-        "Products.CMFCore",\n-        "Products.CMFPlone",\n-        "Products.GenericSetup",\n-        "Products.statusmessages",\n-        "Zope",\n         "plone.app.content",\n         "plone.app.contentmenu",\n         "plone.app.dexterity",\n         "plone.app.event",\n         "plone.app.i18n",\n         "plone.app.layout",\n+        "plone.app.querystring",\n         "plone.app.registry",\n         "plone.app.uuid",\n-        "plone.app.vocabularies",\n         "plone.app.z3cform",\n         "plone.autoform",\n         "plone.base",\n         "plone.behavior",\n         "plone.dexterity",\n+        "plone.i18n>=4.0.4",\n         "plone.indexer",\n         "plone.locking",\n         "plone.memoize",\n@@ -43,12 +37,18 @@\n         "plone.supermodel",\n         "plone.uuid",\n         "plone.z3cform",\n+        "Products.CMFCore",\n+        "Products.CMFPlone",\n+        "Products.GenericSetup",\n+        "Products.statusmessages",\n+        "setuptools",\n         "z3c.form",\n         "z3c.relationfield",\n         "zc.relation",\n         "zope.browsermenu",\n         "zope.intid",\n         "zope.pagetemplate",\n+        "Zope",\n     ],\n     extras_require={\n         "test": [\ndiff --git a/src/plone/app/multilingual/browser/vocabularies.py b/src/plone/app/multilingual/browser/vocabularies.py\nindex 33f2e59b..f62e6e71 100644\n--- a/src/plone/app/multilingual/browser/vocabularies.py\n+++ b/src/plone/app/multilingual/browser/vocabularies.py\n@@ -1,6 +1,6 @@\n from plone.app.multilingual.browser.utils import is_language_independent\n from plone.app.multilingual.interfaces import ITranslationManager\n-from plone.app.vocabularies.catalog import CatalogVocabularyFactory\n+from plone.app.querystring.vocabularies import CatalogVocabularyFactory\n from plone.base.interfaces import ILanguage\n from plone.i18n.locales.interfaces import ILanguageAvailability\n from Products.CMFCore.utils import getToolByName\n'

