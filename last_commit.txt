Repository: mockup


Branch: refs/heads/master
Date: 2020-04-08T17:06:44+02:00
Author: ionlizarazu (ionlizarazu) <ilizarazu@codesyntax.com>
Commit: https://github.com/plone/mockup/commit/777cc0c9747ab9e734588b888ee0e695145002b9

add a label to the select all checkbox and to each of the items in the table to make the table more accessible

Files changed:
A news/957.bugfix
M mockup/patterns/structure/templates/table.xml
M mockup/patterns/structure/templates/tablerow.xml

b'diff --git a/mockup/patterns/structure/templates/table.xml b/mockup/patterns/structure/templates/table.xml\nindex 9f7fb578d..e018bad02 100644\n--- a/mockup/patterns/structure/templates/table.xml\n+++ b/mockup/patterns/structure/templates/table.xml\n@@ -18,7 +18,7 @@\n        data-pat-datatables="<%- datatables_options %>">\n   <thead>\n     <tr>\n-      <th class="selection"><input type="checkbox" class="select-all" /></th>\n+      <th class="selection"><label for="selectAllInputCheckbox" class="hiddenStructure" aria-label="<%- _t(\'Select all\') %>"><%- _t(\'Select all\') %></label><input id="selectAllInputCheckbox" type="checkbox" class="select-all" /></th>\n       <th class="title"><%- _t(\'Title\') %></th>\n       <% _.each(activeColumns, function(column){ %>\n         <% if(column !== \'Description\' && _.has(availableColumns, column)) { %>\ndiff --git a/mockup/patterns/structure/templates/tablerow.xml b/mockup/patterns/structure/templates/tablerow.xml\nindex 0eba85e9d..a564ea6ed 100644\n--- a/mockup/patterns/structure/templates/tablerow.xml\n+++ b/mockup/patterns/structure/templates/tablerow.xml\n@@ -1,4 +1,4 @@\n-<td class="selection" data-order="<%- attributes[\'_sort\'] %>"><input type="checkbox" <% if(selected){ %> checked="checked" <% } %>/></td>\n+<td class="selection" data-order="<%- attributes[\'_sort\'] %>"><label for="select<%- attributes[\'_sort\'] %>InputCheckbox" class="hiddenStructure" aria-label="<%- _t(\'Select\') %>"><%- _t(\'Select\') %></label><input id="select<%- attributes[\'_sort\'] %>InputCheckbox" <% if(selected){ %> checked="checked" <% } %> type="checkbox"/></td>\n \n <td class="title">\n   <div class="pull-left">\ndiff --git a/news/957.bugfix b/news/957.bugfix\nnew file mode 100644\nindex 000000000..86e95d257\n--- /dev/null\n+++ b/news/957.bugfix\n@@ -0,0 +1,3 @@\n+add a label to the select all checkbox and to each of the items in the table to make the table more accessible\n+[erral & ionlizarazu]\n+\n'

Repository: mockup


Branch: refs/heads/master
Date: 2020-04-10T14:58:58+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/mockup/commit/65b92f2178df68013ccccf7bdd4354add870422d

Merge pull request #958 from plone/ionlizarazu-a11y-table-select-all

add a label to the select all checkbox and to each of the items in thâ€¦

Files changed:
A news/957.bugfix
M mockup/patterns/structure/templates/table.xml
M mockup/patterns/structure/templates/tablerow.xml

b'diff --git a/mockup/patterns/structure/templates/table.xml b/mockup/patterns/structure/templates/table.xml\nindex d09365f83..7cc3d4d22 100644\n--- a/mockup/patterns/structure/templates/table.xml\n+++ b/mockup/patterns/structure/templates/table.xml\n@@ -18,7 +18,7 @@\n        data-pat-datatables="<%- datatables_options %>">\n   <thead>\n     <tr>\n-      <th class="selection"><input type="checkbox" class="select-all" /></th>\n+      <th class="selection"><label for="selectAllInputCheckbox" class="hiddenStructure" aria-label="<%- _t(\'Select all\') %>"><%- _t(\'Select all\') %></label><input id="selectAllInputCheckbox" type="checkbox" class="select-all" /></th>\n       <th class="title"><%- _t(\'Title\') %></th>\n       <% _.each(activeColumns, function(column){ %>\n         <% if(column !== \'Description\' && _.has(availableColumns, column)) { %>\ndiff --git a/mockup/patterns/structure/templates/tablerow.xml b/mockup/patterns/structure/templates/tablerow.xml\nindex 0eba85e9d..a564ea6ed 100644\n--- a/mockup/patterns/structure/templates/tablerow.xml\n+++ b/mockup/patterns/structure/templates/tablerow.xml\n@@ -1,4 +1,4 @@\n-<td class="selection" data-order="<%- attributes[\'_sort\'] %>"><input type="checkbox" <% if(selected){ %> checked="checked" <% } %>/></td>\n+<td class="selection" data-order="<%- attributes[\'_sort\'] %>"><label for="select<%- attributes[\'_sort\'] %>InputCheckbox" class="hiddenStructure" aria-label="<%- _t(\'Select\') %>"><%- _t(\'Select\') %></label><input id="select<%- attributes[\'_sort\'] %>InputCheckbox" <% if(selected){ %> checked="checked" <% } %> type="checkbox"/></td>\n \n <td class="title">\n   <div class="pull-left">\ndiff --git a/news/957.bugfix b/news/957.bugfix\nnew file mode 100644\nindex 000000000..86e95d257\n--- /dev/null\n+++ b/news/957.bugfix\n@@ -0,0 +1,3 @@\n+add a label to the select all checkbox and to each of the items in the table to make the table more accessible\n+[erral & ionlizarazu]\n+\n'

