Repository: plone.restapi


Branch: refs/heads/master
Date: 2021-02-18T21:04:48+01:00
Author: Alin Voinea (avoinea) <contact@avoinea.com>
Commit: https://github.com/plone/plone.restapi/commit/0c24548ba531fb5445563ff717f6f38801455c22

Avoid duplicate fields from multiple behaviors - refs #1073 (#1074)

Files changed:
A news/1073.bugfix
M src/plone/restapi/types/utils.py

b'diff --git a/news/1073.bugfix b/news/1073.bugfix\nnew file mode 100644\nindex 000000000..010645d01\n--- /dev/null\n+++ b/news/1073.bugfix\n@@ -0,0 +1,2 @@\n+Avoid duplicate fields within DX RestAPI\n+[avoinea]\ndiff --git a/src/plone/restapi/types/utils.py b/src/plone/restapi/types/utils.py\nindex bac7e0f24..40a799bc4 100644\n--- a/src/plone/restapi/types/utils.py\n+++ b/src/plone/restapi/types/utils.py\n@@ -78,6 +78,7 @@ class SchemaForm(AutoExtensibleForm, z3c_form.AddForm):\n         schema = base_schema\n         additionalSchemata = additional_schemata\n         ignoreContext = True\n+        ignorePrefix = True\n \n     form = SchemaForm(context, request)\n     form.updateFieldsFromSchemata()\n'

