Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-05-23T08:18:32+02:00
Author: szakitibi (szakitibi) <szakitibi@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/3e882c17284ecd27e356b22ac0f41177ece0d73d

remove duplicate "content" id in usergroups_groupdetails.pt

Files changed:
M Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt

b'diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt b/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt\nindex 67e738a52d..39ec596a4e 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt\n@@ -17,7 +17,7 @@\n \n \n   <!-- When no group is specified, this gets used as the add group page page -->\n-  <article id="content" tal:condition="not:view/group">\n+  <tal:not_group tal:condition="not:view/group">\n       <metal:block metal:use-macro="template/macros/props">\n           <metal:title metal:fill-slot="content-title">\n               <h1 class="documentFirstHeading"\n@@ -39,9 +39,9 @@\n               </div>\n           </metal:name>\n       </metal:block>\n-  </article>\n+  </tal:not_group>\n \n-  <article id="content" tal:condition="view/group | nothing">\n+  <tal:group tal:condition="view/group | nothing">\n     <metal:block define-macro="props">\n \n       <a href="${portal_url}/@@usergroup-groupprefs"\n@@ -211,7 +211,7 @@\n         </div>\n       </div>\n     </metal:block>\n-  </article>\n+  </tal:group>\n \n </metal:main>\n \n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-05-23T08:19:43+02:00
Author: szakitibi (szakitibi) <szakitibi@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/f1dc88e62f114cb1d4925e952a9bebced03e057c

remove duplicate "content" id in usergroups_groupmembership.pt

Files changed:
M Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt

b'diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt b/Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt\nindex 6ff5ab4d2b..a8b643edd9 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt\n@@ -13,7 +13,7 @@\n                  errors python:request.get(\'errors\', {});\n                  portal_roles view/portal_roles;">\n \n-  <article id="content">\n+  <tal:content>\n \n     <tal:ifnogroups tal:condition="not:view/group | nothing">\n       <h1 class="documentFirstHeading"\n@@ -332,7 +332,7 @@\n       </tal:defs>\n     </tal:ifgroups>\n \n-  </article>\n+  </tal:content>\n \n </metal:main>\n </body>\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-05-23T08:20:41+02:00
Author: szakitibi (szakitibi) <szakitibi@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/ba10adc50983d5242f4221c9d2a4a431622293ba

remove duplicate "content" id in usergroups_groupsoverview.pt

Files changed:
M Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt

b'diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt b/Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt\nindex 8fa939eafc..8dbeadaa8b 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt\n@@ -21,7 +21,7 @@\n                         batchformkeys python:[\'searchstring\',\'_authenticator\'];\n                         portal_url context/portal_url;">\n \n-  <article id="content">\n+  <tal:content>\n     <header>\n         <h1 class="documentFirstHeading"\n             i18n:translate="">Groups</h1>\n@@ -207,7 +207,7 @@\n             </div>\n         </form>\n     </div>\n-  </article>\n+  </tal:content>\n \n </metal:main>\n </body>\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-05-23T08:21:37+02:00
Author: szakitibi (szakitibi) <szakitibi@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/de5d3cc550f2b5b547b901bd98eebd15566fd2e8

remove duplicate "content" id in usergroups_usermembership.pt

Files changed:
M Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt

b'diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt b/Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt\nindex 22fc535621..337456d5b7 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt\n@@ -31,7 +31,7 @@\n                  batch python:Batch(view.searchResults, b_size, int(b_start));\n                  batchformkeys python:[\'searchstring\',\'_authenticator\', \'userid\'];">\n \n-  <article id="content" tal:define="many_groups view/many_groups">\n+  <tal:many_groups tal:define="many_groups view/many_groups">\n \n     <a href=""\n        class="link-parent"\n@@ -206,7 +206,7 @@\n \n       </div>\n     </div>\n-  </article>\n+  </tal:many_groups>\n \n </metal:main>\n \n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-05-23T08:22:29+02:00
Author: szakitibi (szakitibi) <szakitibi@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/d47768727cc54affc604e508d7891d8d0f8c6cbd

remove duplicate "content" id in usergroups_usersoverview.pt

Files changed:
M Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt

b'diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt b/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt\nindex 6bf0192991..4ba04fb288 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt\n@@ -17,7 +17,7 @@\n                 portal_roles view/portal_roles;\n                 portal_url context/portal_url;">\n \n-    <article id="content">\n+    <tal:content>\n \n     <header>\n \n@@ -225,7 +225,7 @@\n       </div>\n     </div>\n \n-  </article>\n+  </tal:content>\n \n </metal:main>\n \n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-05-23T08:35:53+02:00
Author: szakitibi (szakitibi) <szakitibi@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/3b78d09c4856ea6631a0e332133fc4ea878c06f1

add change log

Files changed:
A news/3964.bugfix

b'diff --git a/news/3964.bugfix b/news/3964.bugfix\nnew file mode 100644\nindex 0000000000..08994471a3\n--- /dev/null\n+++ b/news/3964.bugfix\n@@ -0,0 +1,2 @@\n+Removes duplicate `<article id="content">` in controlpanel templates\n+[@szakitibi]\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-05-31T02:19:59+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/9ad12669ad292541518d0f77a169386ac68a83c3

Merge branch 'master' into fix_duplicate_content_id

Files changed:
A news/3962.bugfix
A news/3965.bugfix
A news/3966.bugfix
A news/3967.bugfix
M Products/CMFPlone/controlpanel/browser/error_log_form.py
M Products/CMFPlone/controlpanel/browser/maintenance.pt
M Products/CMFPlone/controlpanel/browser/maintenance.py
M Products/CMFPlone/controlpanel/tests/test_controlpanel_browser_maintenance.py
M Products/CMFPlone/tests/csrf.txt
M Products/CMFPlone/tests/testPortalCreation.py
M setup.py

b'diff --git a/Products/CMFPlone/controlpanel/browser/error_log_form.py b/Products/CMFPlone/controlpanel/browser/error_log_form.py\nindex b91169ff4c..9c61401dcf 100644\n--- a/Products/CMFPlone/controlpanel/browser/error_log_form.py\n+++ b/Products/CMFPlone/controlpanel/browser/error_log_form.py\n@@ -1,14 +1,14 @@\n from DateTime import DateTime\n from plone.base import PloneMessageFactory as _\n+from Products.CMFCore.utils import getToolByName\n from Products.CMFPlone.utils import safe_nativestring\n from Products.Five import BrowserView\n \n-import plone.api as api\n-\n \n class ErrorLogUpdate(BrowserView):\n     def __call__(self):\n-        member = api.user.get_current()\n+        portal_membership = getToolByName(self.context, "portal_membership")\n+        member = portal_membership.getAuthenticatedMember()\n \n         if getattr(self.request, "form.button.search", None) is not None:\n             search = self.request.form.get("search_entry")\ndiff --git a/Products/CMFPlone/controlpanel/browser/maintenance.pt b/Products/CMFPlone/controlpanel/browser/maintenance.pt\nindex 5440bff8fe..6123e04c33 100644\n--- a/Products/CMFPlone/controlpanel/browser/maintenance.pt\n+++ b/Products/CMFPlone/controlpanel/browser/maintenance.pt\n@@ -45,7 +45,8 @@\n \n         <div id="content-core">\n \n-            <form action="."\n+            <form tal:condition="python:view.isShutdownable() or view.isRestartable()"\n+                  action="."\n                   tal:attributes="action request/URL"\n                   method="post"\n                   class="edit-form"\n@@ -58,7 +59,8 @@\n \n                     <div id="actionsView" class="formControls">\n                         <span class="actionButtons">\n-                            <button type="submit"\n+                            <button tal:condition="view/isShutdownable"\n+                                   type="submit"\n                                    id="form.buttons.shutdown"\n                                    name="form.buttons.shutdown"\n                                    value="Shut down"\ndiff --git a/Products/CMFPlone/controlpanel/browser/maintenance.py b/Products/CMFPlone/controlpanel/browser/maintenance.py\nindex 9d64f2f6a3..f62f174b15 100644\n--- a/Products/CMFPlone/controlpanel/browser/maintenance.py\n+++ b/Products/CMFPlone/controlpanel/browser/maintenance.py\n@@ -2,6 +2,7 @@\n from AccessControl.Permissions import view_management_screens\n from Acquisition import aq_inner\n from App.config import getConfiguration\n+from html import escape\n from plone.autoform.form import AutoExtensibleForm\n from plone.base import PloneMessageFactory as _\n from plone.base.interfaces import IMaintenanceSchema\n@@ -24,12 +25,6 @@\n except ImportError:\n     LIFETIME = False\n \n-try:\n-    from html import escape\n-except ImportError:\n-    from cgi import escape\n-\n-\n logger = logging.getLogger(__file__)\n \n \n@@ -90,7 +85,7 @@ def handle_shutdown_action(self, action):\n         if LIFETIME:\n             shutdown(0)\n         else:\n-            raise\n+            raise NotImplementedError("Lifetime is not available.")\n         # TODO: returning html has no effect in button handlers\n         self.request.response.setHeader("X-Theme-Disabled", "True")\n         return """<html><head></head><body>{}</body></html>""".format(\n@@ -137,6 +132,9 @@ def isRestartable(self):\n             return True\n         return False\n \n+    def isShutdownable(self):\n+        return LIFETIME\n+\n     def isDevelopmentMode(self):\n         return bool(getConfiguration().debug_mode)\n \ndiff --git a/Products/CMFPlone/controlpanel/tests/test_controlpanel_browser_maintenance.py b/Products/CMFPlone/controlpanel/tests/test_controlpanel_browser_maintenance.py\nindex 0216c1077c..9bf825009f 100644\n--- a/Products/CMFPlone/controlpanel/tests/test_controlpanel_browser_maintenance.py\n+++ b/Products/CMFPlone/controlpanel/tests/test_controlpanel_browser_maintenance.py\n@@ -1,14 +1,12 @@\n-from pkg_resources import get_distribution\n from plone.app.testing import TEST_USER_NAME\n from plone.app.testing import TEST_USER_PASSWORD\n from plone.testing.zope import Browser\n from plone.testing.zope import login\n+from Products.CMFPlone.controlpanel.browser.maintenance import LIFETIME\n from Products.CMFPlone.testing import PRODUCTS_CMFPLONE_FUNCTIONAL_TESTING\n \n import unittest\n-\n-\n-has_zope4 = get_distribution("Zope2").version.startswith("4")\n+import zExceptions\n \n \n class MaintenanceControlPanelFunctionalTest(unittest.TestCase):\n@@ -84,3 +82,18 @@ def pack(self, t=None, days=0):\n         self.assertTrue(self.browser.url.endswith("maintenance-controlpanel"))\n         self.assertTrue("Packed the database." in self.browser.contents)\n         db.pack = original_pack\n+\n+    @unittest.skipIf(not LIFETIME, "Lifetime for shutdown not available")\n+    def test_maintenance_shutdown_CSRF_protection(self):\n+        login(self.app["acl_users"], "app")\n+        import transaction\n+\n+        transaction.commit()\n+        self.browser.handleErrors = False\n+        self.browser.addHeader("Authorization", f"Basic app:{TEST_USER_PASSWORD}")\n+        self.browser.open("/@@overview-controlpanel")\n+        self.browser.getLink("Maintenance").click()\n+        self.browser.getControl(name="_authenticator", index=0).value = "invalid!"\n+        self.browser.getControl(name="_authenticator", index=1).value = "invalid!"\n+        with self.asserRaises(zExceptions.Forbidden):\n+            self.browser.getControl("Shut down").click()\ndiff --git a/Products/CMFPlone/tests/csrf.txt b/Products/CMFPlone/tests/csrf.txt\nindex f03dbbb376..b18c93b87d 100644\n--- a/Products/CMFPlone/tests/csrf.txt\n+++ b/Products/CMFPlone/tests/csrf.txt\n@@ -417,23 +417,3 @@ Traceback (most recent call last):\n ...\n zExceptions.Forbidden: Form authenticator is invalid.\n \n-Exceptions to the rule is the "Maintenance" configlet, which is tested\n-separately. The "Maintenance" configlet has some special security\n-limitations, which is why we need to log in as the portal owner first:\n-\n-  >>> app_browser = Browser(app)\n-  >>> app_browser.handleErrors = False\n-  >>> app.acl_users.userFolderAddUser(\'app\', TEST_USER_PASSWORD, [\'Manager\'], [])\n-  >>> from plone.testing import zope\n-  >>> zope.logout()\n-  >>> zope.login(app[\'acl_users\'], \'app\')\n-  >>> import transaction; transaction.commit()\n-  >>> app_browser.addHeader(\'Authorization\', f\'Basic app:{TEST_USER_PASSWORD}\')\n-  >>> app_browser.open(\'http://nohost/plone/@@overview-controlpanel\')\n-  >>> app_browser.getLink(\'Maintenance\').click()\n-  >>> app_browser.getControl(name=\'_authenticator\', index=0).value = \'invalid!\'\n-  >>> app_browser.getControl(name=\'_authenticator\', index=1).value = \'invalid!\'\n-  >>> app_browser.getControl(\'Shut down\').click()\n-  Traceback (most recent call last):\n-  ...\n-  zExceptions.Forbidden: Form authenticator is invalid.\ndiff --git a/Products/CMFPlone/tests/testPortalCreation.py b/Products/CMFPlone/tests/testPortalCreation.py\nindex ea0e56fc1e..080d3c6beb 100644\n--- a/Products/CMFPlone/tests/testPortalCreation.py\n+++ b/Products/CMFPlone/tests/testPortalCreation.py\n@@ -198,7 +198,6 @@ def testUnfriendlyTypesProperty(self):\n         registry = getUtility(IRegistry)\n         settings = registry.forInterface(ISearchSchema, prefix="plone")\n         self.assertTrue("plone.types_not_searched" in registry)\n-        self.assertTrue("Plone Site" in settings.types_not_searched)\n \n     def testDefaultSortOrderProperty(self):\n         # We should have an sort_on property\ndiff --git a/news/3962.bugfix b/news/3962.bugfix\nnew file mode 100644\nindex 0000000000..d49decfcd7\n--- /dev/null\n+++ b/news/3962.bugfix\n@@ -0,0 +1 @@\n+Products.CMFPlone  must not depend on plone.api [@jensens]\ndiff --git a/news/3965.bugfix b/news/3965.bugfix\nnew file mode 100644\nindex 0000000000..de4d0d6091\n--- /dev/null\n+++ b/news/3965.bugfix\n@@ -0,0 +1,2 @@\n+Do not test types_not_searched for a element that is not part of the underlying vocabulary.\n+[@jensens]\ndiff --git a/news/3966.bugfix b/news/3966.bugfix\nnew file mode 100644\nindex 0000000000..1c962a9e34\n--- /dev/null\n+++ b/news/3966.bugfix\n@@ -0,0 +1 @@\n+Remove unused leftover reference to the Zope2 package from test. [@jensens]\ndiff --git a/news/3967.bugfix b/news/3967.bugfix\nnew file mode 100644\nindex 0000000000..8cbd922fef\n--- /dev/null\n+++ b/news/3967.bugfix\n@@ -0,0 +1,3 @@\n+Fix: Traceback in maintenance control panel on shutdown if feature is not available.\n+Hide button if action is not possible.\n+[@jensens]\ndiff --git a/setup.py b/setup.py\nindex 23eda3836d..52f7d51108 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -53,7 +53,6 @@\n         "borg.localrole",\n         "five.customerize",\n         "lxml",\n-        "plone.api >= 1.4.4",\n         "plone.app.content",\n         "plone.app.contentlisting",\n         "plone.app.contentmenu >= 2.0.1",\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-06-01T00:06:41+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/a180978c54f112d6eeaefeae44e7e5b6a46b46e7

Merge pull request #3964 from szakitibi/fix_duplicate_content_id

Fix duplicate "content" id in controlpanels

Files changed:
A news/3964.bugfix
M Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt
M Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt
M Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt
M Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt
M Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt

b'diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt b/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt\nindex 67e738a52d..39ec596a4e 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt\n@@ -17,7 +17,7 @@\n \n \n   <!-- When no group is specified, this gets used as the add group page page -->\n-  <article id="content" tal:condition="not:view/group">\n+  <tal:not_group tal:condition="not:view/group">\n       <metal:block metal:use-macro="template/macros/props">\n           <metal:title metal:fill-slot="content-title">\n               <h1 class="documentFirstHeading"\n@@ -39,9 +39,9 @@\n               </div>\n           </metal:name>\n       </metal:block>\n-  </article>\n+  </tal:not_group>\n \n-  <article id="content" tal:condition="view/group | nothing">\n+  <tal:group tal:condition="view/group | nothing">\n     <metal:block define-macro="props">\n \n       <a href="${portal_url}/@@usergroup-groupprefs"\n@@ -211,7 +211,7 @@\n         </div>\n       </div>\n     </metal:block>\n-  </article>\n+  </tal:group>\n \n </metal:main>\n \ndiff --git a/Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt b/Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt\nindex 6ff5ab4d2b..a8b643edd9 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_groupmembership.pt\n@@ -13,7 +13,7 @@\n                  errors python:request.get(\'errors\', {});\n                  portal_roles view/portal_roles;">\n \n-  <article id="content">\n+  <tal:content>\n \n     <tal:ifnogroups tal:condition="not:view/group | nothing">\n       <h1 class="documentFirstHeading"\n@@ -332,7 +332,7 @@\n       </tal:defs>\n     </tal:ifgroups>\n \n-  </article>\n+  </tal:content>\n \n </metal:main>\n </body>\ndiff --git a/Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt b/Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt\nindex 8fa939eafc..8dbeadaa8b 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_groupsoverview.pt\n@@ -21,7 +21,7 @@\n                         batchformkeys python:[\'searchstring\',\'_authenticator\'];\n                         portal_url context/portal_url;">\n \n-  <article id="content">\n+  <tal:content>\n     <header>\n         <h1 class="documentFirstHeading"\n             i18n:translate="">Groups</h1>\n@@ -207,7 +207,7 @@\n             </div>\n         </form>\n     </div>\n-  </article>\n+  </tal:content>\n \n </metal:main>\n </body>\ndiff --git a/Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt b/Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt\nindex 22fc535621..337456d5b7 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_usermembership.pt\n@@ -31,7 +31,7 @@\n                  batch python:Batch(view.searchResults, b_size, int(b_start));\n                  batchformkeys python:[\'searchstring\',\'_authenticator\', \'userid\'];">\n \n-  <article id="content" tal:define="many_groups view/many_groups">\n+  <tal:many_groups tal:define="many_groups view/many_groups">\n \n     <a href=""\n        class="link-parent"\n@@ -206,7 +206,7 @@\n \n       </div>\n     </div>\n-  </article>\n+  </tal:many_groups>\n \n </metal:main>\n \ndiff --git a/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt b/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt\nindex 6bf0192991..4ba04fb288 100644\n--- a/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt\n+++ b/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt\n@@ -17,7 +17,7 @@\n                 portal_roles view/portal_roles;\n                 portal_url context/portal_url;">\n \n-    <article id="content">\n+    <tal:content>\n \n     <header>\n \n@@ -225,7 +225,7 @@\n       </div>\n     </div>\n \n-  </article>\n+  </tal:content>\n \n </metal:main>\n \ndiff --git a/news/3964.bugfix b/news/3964.bugfix\nnew file mode 100644\nindex 0000000000..08994471a3\n--- /dev/null\n+++ b/news/3964.bugfix\n@@ -0,0 +1,2 @@\n+Removes duplicate `<article id="content">` in controlpanel templates\n+[@szakitibi]\n'

