Repository: plone.restapi


Branch: refs/heads/master
Date: 2020-05-01T17:21:29+02:00
Author: Timo Stollenwerk (tisto) <tisto@users.noreply.github.com>
Commit: https://github.com/plone/plone.restapi/commit/8bf41dc5bad251dbc347a639adcf9fd500e6d5ed

6.x.x jmeter fullobjects (#934)

* Add jmeter fullobjects tests

* performance tests: add fullobjects test for news items

Files changed:
M performance.jmx

b'diff --git a/performance.jmx b/performance.jmx\nindex b514af6a..2bdf6088 100644\n--- a/performance.jmx\n+++ b/performance.jmx\n@@ -1,5 +1,5 @@\n <?xml version="1.0" encoding="UTF-8"?>\n-<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.2">\n+<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.2.1">\n   <hashTree>\n     <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="plone.restapi" enabled="true">\n       <stringProp name="TestPlan.comments"></stringProp>\n@@ -486,6 +486,33 @@\n           <stringProp name="HTTPSampler.response_timeout"></stringProp>\n         </HTTPSamplerProxy>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document (fullobjects)" enabled="true">\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="Accept" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">application/json</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+                <boolProp name="HTTPArgument.use_equals">true</boolProp>\n+                <stringProp name="Argument.name">Accept</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document?fullobjects</stringProp>\n+          <stringProp name="HTTPSampler.method">GET</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n         <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document (next/prev)" enabled="true">\n           <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n             <collectionProp name="Arguments.arguments">\n@@ -540,6 +567,33 @@\n           <stringProp name="HTTPSampler.response_timeout"></stringProp>\n         </HTTPSamplerProxy>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="News Item (fullobjects)" enabled="true">\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="Accept" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">application/json</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+                <boolProp name="HTTPArgument.use_equals">true</boolProp>\n+                <stringProp name="Argument.name">Accept</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/newsitem?fullobjects</stringProp>\n+          <stringProp name="HTTPSampler.method">GET</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n         <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Event" enabled="true">\n           <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n             <collectionProp name="Arguments.arguments">\n@@ -896,7 +950,7 @@\n           </collectionProp>\n         </HeaderManager>\n         <hashTree/>\n-        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document" enabled="true">\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document (fullobjects)" enabled="true">\n           <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n             <collectionProp name="Arguments.arguments">\n               <elementProp name="Accept" elementType="HTTPArgument">\n@@ -912,7 +966,7 @@\n           <stringProp name="HTTPSampler.port"></stringProp>\n           <stringProp name="HTTPSampler.protocol"></stringProp>\n           <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n-          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document</stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document?fullobjects</stringProp>\n           <stringProp name="HTTPSampler.method">GET</stringProp>\n           <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n           <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n@@ -977,6 +1031,33 @@\n           <stringProp name="HTTPSampler.response_timeout"></stringProp>\n         </HTTPSamplerProxy>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="News Item (fullobjects)" enabled="true">\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="Accept" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">application/json</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+                <boolProp name="HTTPArgument.use_equals">true</boolProp>\n+                <stringProp name="Argument.name">Accept</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/newsitem?fullobjects</stringProp>\n+          <stringProp name="HTTPSampler.method">GET</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n         <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Event" enabled="true">\n           <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n             <collectionProp name="Arguments.arguments">\n@@ -1286,6 +1367,33 @@\n           <stringProp name="filename"></stringProp>\n         </ResultCollector>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document" enabled="true">\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="Accept" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">application/json</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+                <boolProp name="HTTPArgument.use_equals">true</boolProp>\n+                <stringProp name="Argument.name">Accept</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document</stringProp>\n+          <stringProp name="HTTPSampler.method">GET</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n       </hashTree>\n       <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="Cleanup" enabled="true">\n         <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>\n'

Repository: plone.restapi


Branch: refs/heads/master
Date: 2020-05-01T20:33:45+02:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.restapi/commit/af925400922e6f9fee461020cd4c1fedff110bc6

Merge branch '6.x.x'

Files changed:
M performance.jmx

b'diff --git a/performance.jmx b/performance.jmx\nindex bff75623..d96f6e03 100644\n--- a/performance.jmx\n+++ b/performance.jmx\n@@ -655,6 +655,33 @@\n           <stringProp name="HTTPSampler.response_timeout"></stringProp>\n         </HTTPSamplerProxy>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document (fullobjects)" enabled="true">\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="Accept" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">application/json</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+                <boolProp name="HTTPArgument.use_equals">true</boolProp>\n+                <stringProp name="Argument.name">Accept</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document?fullobjects</stringProp>\n+          <stringProp name="HTTPSampler.method">GET</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n         <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document (next/prev)" enabled="true">\n           <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n             <collectionProp name="Arguments.arguments">\n@@ -709,6 +736,33 @@\n           <stringProp name="HTTPSampler.response_timeout"></stringProp>\n         </HTTPSamplerProxy>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="News Item (fullobjects)" enabled="true">\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="Accept" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">application/json</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+                <boolProp name="HTTPArgument.use_equals">true</boolProp>\n+                <stringProp name="Argument.name">Accept</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/newsitem?fullobjects</stringProp>\n+          <stringProp name="HTTPSampler.method">GET</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n         <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Event" enabled="true">\n           <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n             <collectionProp name="Arguments.arguments">\n@@ -1065,7 +1119,7 @@\n           </collectionProp>\n         </HeaderManager>\n         <hashTree/>\n-        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document" enabled="true">\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document (fullobjects)" enabled="true">\n           <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n             <collectionProp name="Arguments.arguments">\n               <elementProp name="Accept" elementType="HTTPArgument">\n@@ -1081,7 +1135,7 @@\n           <stringProp name="HTTPSampler.port"></stringProp>\n           <stringProp name="HTTPSampler.protocol"></stringProp>\n           <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n-          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document</stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document?fullobjects</stringProp>\n           <stringProp name="HTTPSampler.method">GET</stringProp>\n           <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n           <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n@@ -1146,6 +1200,33 @@\n           <stringProp name="HTTPSampler.response_timeout"></stringProp>\n         </HTTPSamplerProxy>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="News Item (fullobjects)" enabled="true">\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="Accept" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">application/json</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+                <boolProp name="HTTPArgument.use_equals">true</boolProp>\n+                <stringProp name="Argument.name">Accept</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/newsitem?fullobjects</stringProp>\n+          <stringProp name="HTTPSampler.method">GET</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n         <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Event" enabled="true">\n           <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n             <collectionProp name="Arguments.arguments">\n@@ -1455,6 +1536,33 @@\n           <stringProp name="filename"></stringProp>\n         </ResultCollector>\n         <hashTree/>\n+        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Document" enabled="true">\n+          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="Benutzer definierte Variablen" enabled="true">\n+            <collectionProp name="Arguments.arguments">\n+              <elementProp name="Accept" elementType="HTTPArgument">\n+                <boolProp name="HTTPArgument.always_encode">false</boolProp>\n+                <stringProp name="Argument.value">application/json</stringProp>\n+                <stringProp name="Argument.metadata">=</stringProp>\n+                <boolProp name="HTTPArgument.use_equals">true</boolProp>\n+                <stringProp name="Argument.name">Accept</stringProp>\n+              </elementProp>\n+            </collectionProp>\n+          </elementProp>\n+          <stringProp name="HTTPSampler.domain"></stringProp>\n+          <stringProp name="HTTPSampler.port"></stringProp>\n+          <stringProp name="HTTPSampler.protocol"></stringProp>\n+          <stringProp name="HTTPSampler.contentEncoding"></stringProp>\n+          <stringProp name="HTTPSampler.path">/Plone/${testfolder-read}/document</stringProp>\n+          <stringProp name="HTTPSampler.method">GET</stringProp>\n+          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>\n+          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>\n+          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>\n+          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>\n+          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>\n+          <stringProp name="HTTPSampler.connect_timeout"></stringProp>\n+          <stringProp name="HTTPSampler.response_timeout"></stringProp>\n+        </HTTPSamplerProxy>\n+        <hashTree/>\n       </hashTree>\n       <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="Cleanup" enabled="true">\n         <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>\n'

