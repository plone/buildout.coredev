Repository: Products.CMFQuickInstallerTool


Branch: refs/heads/master
Date: 2021-03-01T22:33:04+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFQuickInstallerTool/commit/75884efaa16c8b646456a103e2a0cd9ac9243b68

Require 'Manage portal' permission for accessing the tool or an installed product.

For most methods this was already the case, but you could get some info from the objects themselves.

Fixes https://github.com/plone/Products.CMFQuickInstallerTool/issues/24

Files changed:
A news/24.bugfix
M Products/CMFQuickInstallerTool/InstalledProduct.py
M Products/CMFQuickInstallerTool/QuickInstallerTool.py

b"diff --git a/Products/CMFQuickInstallerTool/InstalledProduct.py b/Products/CMFQuickInstallerTool/InstalledProduct.py\nindex db6d150..075edab 100644\n--- a/Products/CMFQuickInstallerTool/InstalledProduct.py\n+++ b/Products/CMFQuickInstallerTool/InstalledProduct.py\n@@ -48,6 +48,7 @@ class InstalledProduct(SimpleItem):\n     ) + SimpleItem.manage_options\n \n     security = ClassSecurityInfo()\n+    security.declareObjectProtected(ManagePortal)\n \n     security.declareProtected(ManagePortal, 'manage_installationInfo')\n     manage_installationInfo = PageTemplateFile(\ndiff --git a/Products/CMFQuickInstallerTool/QuickInstallerTool.py b/Products/CMFQuickInstallerTool/QuickInstallerTool.py\nindex 2275f55..37a4291 100644\n--- a/Products/CMFQuickInstallerTool/QuickInstallerTool.py\n+++ b/Products/CMFQuickInstallerTool/QuickInstallerTool.py\n@@ -120,6 +120,7 @@ class QuickInstallerTool(UniqueObject, ObjectManager, SimpleItem):\n     id = 'portal_quickinstaller'\n \n     security = ClassSecurityInfo()\n+    security.declareObjectProtected(ManagePortal)\n \n     manage_options = (\n         {\ndiff --git a/news/24.bugfix b/news/24.bugfix\nnew file mode 100644\nindex 0000000..bbcb8ce\n--- /dev/null\n+++ b/news/24.bugfix\n@@ -0,0 +1,3 @@\n+Require 'Manage portal' permission for accessing the tool or an installed product.\n+For most methods this was already the case, but you could get some info from the objects themselves.\n+[maurits]\n"

Repository: Products.CMFQuickInstallerTool


Branch: refs/heads/master
Date: 2021-03-02T19:17:04+01:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/Products.CMFQuickInstallerTool/commit/7cc6dbc47cdb9bfa4c18938deea132aa1b18a585

Merge pull request #25 from plone/maurits/object-protected

Require 'Manage portal' permission for accessing tool or product

Files changed:
A news/24.bugfix
M Products/CMFQuickInstallerTool/InstalledProduct.py
M Products/CMFQuickInstallerTool/QuickInstallerTool.py

b"diff --git a/Products/CMFQuickInstallerTool/InstalledProduct.py b/Products/CMFQuickInstallerTool/InstalledProduct.py\nindex db6d150..075edab 100644\n--- a/Products/CMFQuickInstallerTool/InstalledProduct.py\n+++ b/Products/CMFQuickInstallerTool/InstalledProduct.py\n@@ -48,6 +48,7 @@ class InstalledProduct(SimpleItem):\n     ) + SimpleItem.manage_options\n \n     security = ClassSecurityInfo()\n+    security.declareObjectProtected(ManagePortal)\n \n     security.declareProtected(ManagePortal, 'manage_installationInfo')\n     manage_installationInfo = PageTemplateFile(\ndiff --git a/Products/CMFQuickInstallerTool/QuickInstallerTool.py b/Products/CMFQuickInstallerTool/QuickInstallerTool.py\nindex 2275f55..37a4291 100644\n--- a/Products/CMFQuickInstallerTool/QuickInstallerTool.py\n+++ b/Products/CMFQuickInstallerTool/QuickInstallerTool.py\n@@ -120,6 +120,7 @@ class QuickInstallerTool(UniqueObject, ObjectManager, SimpleItem):\n     id = 'portal_quickinstaller'\n \n     security = ClassSecurityInfo()\n+    security.declareObjectProtected(ManagePortal)\n \n     manage_options = (\n         {\ndiff --git a/news/24.bugfix b/news/24.bugfix\nnew file mode 100644\nindex 0000000..bbcb8ce\n--- /dev/null\n+++ b/news/24.bugfix\n@@ -0,0 +1,3 @@\n+Require 'Manage portal' permission for accessing the tool or an installed product.\n+For most methods this was already the case, but you could get some info from the objects themselves.\n+[maurits]\n"

