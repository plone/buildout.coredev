Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2024-03-26T17:29:03+01:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/d6c9eda8835eb2c75db456043b69bbd42ccaa805

use label_css_class attribute from widget if available in checkbox_input &amp; radio_input

Files changed:
M plone/app/z3cform/templates/checkbox_input.pt
M plone/app/z3cform/templates/radio_input.pt

b'diff --git a/plone/app/z3cform/templates/checkbox_input.pt b/plone/app/z3cform/templates/checkbox_input.pt\nindex 6ba1f1c..fe153fc 100644\n--- a/plone/app/z3cform/templates/checkbox_input.pt\n+++ b/plone/app/z3cform/templates/checkbox_input.pt\n@@ -33,7 +33,7 @@\n                id item/id;\n              "\n       />\n-      <label class="form-check-label"\n+      <label class="form-check-label ${python:getattr(view, \'label_css_class\', False)}"\n              for="${item/id}"\n       >\n         <span class="label">${item/label}</span>\ndiff --git a/plone/app/z3cform/templates/radio_input.pt b/plone/app/z3cform/templates/radio_input.pt\nindex 4759b01..604c182 100644\n--- a/plone/app/z3cform/templates/radio_input.pt\n+++ b/plone/app/z3cform/templates/radio_input.pt\n@@ -8,7 +8,7 @@\n     <input class="form-check-input"\n            tal:replace="structure python:view.renderForValue(item[\'value\'])"\n     />\n-    <label class="form-check-label"\n+    <label class="form-check-label ${python:getattr(view, \'label_css_class\', False)}"\n            for="${item/id}"\n     >${item/label}</label>\n   </div>\n'

Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2024-03-26T17:34:08+01:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/65389efc3b2c5f589ed76e1078eb8f6806bfc47b

add changelog

Files changed:
A news/#202.feature

b'diff --git a/news/#202.feature b/news/#202.feature\nnew file mode 100644\nindex 00000000..fa34a513\n--- /dev/null\n+++ b/news/#202.feature\n@@ -0,0 +1,2 @@\n+Use label_css_class attribute from widget if available in checkbox_input & radio_input\n+[MrTango]\n'

Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2024-04-09T18:36:26+03:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/c74cc0daee4cf52cda1a8bfa3ce72cb015bfd94b

fix wrapper_css_class and label_css_class expression to not add False strings

Files changed:
M plone/app/z3cform/templates/checkbox_input.pt
M plone/app/z3cform/templates/radio_input.pt
M plone/app/z3cform/templates/widget.pt

b'diff --git a/plone/app/z3cform/templates/checkbox_input.pt b/plone/app/z3cform/templates/checkbox_input.pt\nindex fe153fc..6b0574b 100644\n--- a/plone/app/z3cform/templates/checkbox_input.pt\n+++ b/plone/app/z3cform/templates/checkbox_input.pt\n@@ -33,9 +33,8 @@\n                id item/id;\n              "\n       />\n-      <label class="form-check-label ${python:getattr(view, \'label_css_class\', False)}"\n-             for="${item/id}"\n-      >\n+      <label class="form-check-label ${python:getattr(view, \'label_css_class\', \'\')}"\n+             for="${item/id}">\n         <span class="label">${item/label}</span>\n       </label>\n     </div>\ndiff --git a/plone/app/z3cform/templates/radio_input.pt b/plone/app/z3cform/templates/radio_input.pt\nindex 604c182..7706176 100644\n--- a/plone/app/z3cform/templates/radio_input.pt\n+++ b/plone/app/z3cform/templates/radio_input.pt\n@@ -8,7 +8,7 @@\n     <input class="form-check-input"\n            tal:replace="structure python:view.renderForValue(item[\'value\'])"\n     />\n-    <label class="form-check-label ${python:getattr(view, \'label_css_class\', False)}"\n+    <label class="form-check-label ${python:getattr(view, \'label_css_class\', \'\')}"\n            for="${item/id}"\n     >${item/label}</label>\n   </div>\ndiff --git a/plone/app/z3cform/templates/widget.pt b/plone/app/z3cform/templates/widget.pt\nindex 3d5ba4e..c924845 100644\n--- a/plone/app/z3cform/templates/widget.pt\n+++ b/plone/app/z3cform/templates/widget.pt\n@@ -1,4 +1,4 @@\n-<div class="mb-3 field fieldname-${python:widget.name} widget-mode-${python:widget.mode}${error_class}${empty_class} ${python:getattr(widget, \'wrapper_css_class\', False) or \'\'}"\n+<div class="mb-3 field fieldname-${python:widget.name} widget-mode-${python:widget.mode}${error_class}${empty_class} ${python: getattr(widget, \'wrapper_css_class\', \'\')}"\n      id="formfield-${python:widget.id}"\n      metal:define-macro="widget-wrapper"\n      data-fieldname="${widget/name}"\n'

Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2024-04-09T17:37:52+02:00
Author: Maik Derstappen (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/14da8c905ce5df62221cba3579d63efd92d0f659

Merge branch 'master' into label-css-class

Files changed:
M .pre-commit-config.yaml

b'diff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex f857b48..0a5e9d0 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -7,7 +7,7 @@ ci:\n \n repos:\n -   repo: https://github.com/asottile/pyupgrade\n-    rev: v3.15.0\n+    rev: v3.15.2\n     hooks:\n     -   id: pyupgrade\n         args: [--py38-plus]\n@@ -16,7 +16,7 @@ repos:\n     hooks:\n     -   id: isort\n -   repo: https://github.com/psf/black\n-    rev: 24.1.1\n+    rev: 24.3.0\n     hooks:\n     -   id: black\n -   repo: https://github.com/collective/zpretty\n'

Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2024-04-09T18:42:08+03:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/2d37a765c9ea6bcf82ae4ae2070e1ad40d342ddd

linting

Files changed:
M plone/app/z3cform/templates/checkbox_input.pt

b'diff --git a/plone/app/z3cform/templates/checkbox_input.pt b/plone/app/z3cform/templates/checkbox_input.pt\nindex 6b0574b..952e50e 100644\n--- a/plone/app/z3cform/templates/checkbox_input.pt\n+++ b/plone/app/z3cform/templates/checkbox_input.pt\n@@ -34,7 +34,8 @@\n              "\n       />\n       <label class="form-check-label ${python:getattr(view, \'label_css_class\', \'\')}"\n-             for="${item/id}">\n+             for="${item/id}"\n+      >\n         <span class="label">${item/label}</span>\n       </label>\n     </div>\n'

Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2024-04-09T18:42:24+03:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.z3cform/commit/e1696dc52efa460edf0e78bcde50a2f5e6727fc3

Merge branch 'label-css-class' of https://github.com/plone/plone.app.z3cform into label-css-class

Files changed:
M .pre-commit-config.yaml

b'diff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml\nindex f857b48..0a5e9d0 100644\n--- a/.pre-commit-config.yaml\n+++ b/.pre-commit-config.yaml\n@@ -7,7 +7,7 @@ ci:\n \n repos:\n -   repo: https://github.com/asottile/pyupgrade\n-    rev: v3.15.0\n+    rev: v3.15.2\n     hooks:\n     -   id: pyupgrade\n         args: [--py38-plus]\n@@ -16,7 +16,7 @@ repos:\n     hooks:\n     -   id: isort\n -   repo: https://github.com/psf/black\n-    rev: 24.1.1\n+    rev: 24.3.0\n     hooks:\n     -   id: black\n -   repo: https://github.com/collective/zpretty\n'

Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2024-04-10T16:21:38+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.z3cform/commit/016a727843626cb04980f9ff95e7ad9dff90ae1d

Merge pull request #202 from plone/label-css-class

use label_css_class attribute from widget if available in checkbox_input &amp; radio_input [master]

Files changed:
A news/#202.feature
M plone/app/z3cform/templates/checkbox_input.pt
M plone/app/z3cform/templates/radio_input.pt
M plone/app/z3cform/templates/widget.pt

b'diff --git a/news/#202.feature b/news/#202.feature\nnew file mode 100644\nindex 00000000..fa34a513\n--- /dev/null\n+++ b/news/#202.feature\n@@ -0,0 +1,2 @@\n+Use label_css_class attribute from widget if available in checkbox_input & radio_input\n+[MrTango]\ndiff --git a/plone/app/z3cform/templates/checkbox_input.pt b/plone/app/z3cform/templates/checkbox_input.pt\nindex 6ba1f1c1..952e50e2 100644\n--- a/plone/app/z3cform/templates/checkbox_input.pt\n+++ b/plone/app/z3cform/templates/checkbox_input.pt\n@@ -33,7 +33,7 @@\n                id item/id;\n              "\n       />\n-      <label class="form-check-label"\n+      <label class="form-check-label ${python:getattr(view, \'label_css_class\', \'\')}"\n              for="${item/id}"\n       >\n         <span class="label">${item/label}</span>\ndiff --git a/plone/app/z3cform/templates/radio_input.pt b/plone/app/z3cform/templates/radio_input.pt\nindex 4759b010..7706176e 100644\n--- a/plone/app/z3cform/templates/radio_input.pt\n+++ b/plone/app/z3cform/templates/radio_input.pt\n@@ -8,7 +8,7 @@\n     <input class="form-check-input"\n            tal:replace="structure python:view.renderForValue(item[\'value\'])"\n     />\n-    <label class="form-check-label"\n+    <label class="form-check-label ${python:getattr(view, \'label_css_class\', \'\')}"\n            for="${item/id}"\n     >${item/label}</label>\n   </div>\ndiff --git a/plone/app/z3cform/templates/widget.pt b/plone/app/z3cform/templates/widget.pt\nindex 3d5ba4e1..c9248455 100644\n--- a/plone/app/z3cform/templates/widget.pt\n+++ b/plone/app/z3cform/templates/widget.pt\n@@ -1,4 +1,4 @@\n-<div class="mb-3 field fieldname-${python:widget.name} widget-mode-${python:widget.mode}${error_class}${empty_class} ${python:getattr(widget, \'wrapper_css_class\', False) or \'\'}"\n+<div class="mb-3 field fieldname-${python:widget.name} widget-mode-${python:widget.mode}${error_class}${empty_class} ${python: getattr(widget, \'wrapper_css_class\', \'\')}"\n      id="formfield-${python:widget.id}"\n      metal:define-macro="widget-wrapper"\n      data-fieldname="${widget/name}"\n'

