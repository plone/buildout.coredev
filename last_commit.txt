Repository: plone.app.vocabularies


Branch: refs/heads/master
Date: 2020-09-03T22:36:27+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.vocabularies/commit/e9d23464278302579406123b9ac619874ad540a0

Fixed deprecation warning for zope.site.hooks.

Files changed:
A news/3130.bugfix
M plone/app/vocabularies/catalog.py
M plone/app/vocabularies/language.py
M plone/app/vocabularies/security.py
M plone/app/vocabularies/skins.py
M plone/app/vocabularies/tests/base.py
M plone/app/vocabularies/types.py
M plone/app/vocabularies/workflow.py

b"diff --git a/news/3130.bugfix b/news/3130.bugfix\nnew file mode 100644\nindex 0000000..5776fd9\n--- /dev/null\n+++ b/news/3130.bugfix\n@@ -0,0 +1 @@\n+Fixed deprecation warning for zope.site.hooks.\ndiff --git a/plone/app/vocabularies/catalog.py b/plone/app/vocabularies/catalog.py\nindex dd06b54..bed8130 100644\n--- a/plone/app/vocabularies/catalog.py\n+++ b/plone/app/vocabularies/catalog.py\n@@ -21,7 +21,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n import itertools\n import os\ndiff --git a/plone/app/vocabularies/language.py b/plone/app/vocabularies/language.py\nindex a445414..54648c3 100644\n--- a/plone/app/vocabularies/language.py\n+++ b/plone/app/vocabularies/language.py\n@@ -5,7 +5,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n \n @implementer(IVocabularyFactory)\ndiff --git a/plone/app/vocabularies/security.py b/plone/app/vocabularies/security.py\nindex 1fb0fe8..af8e352 100644\n--- a/plone/app/vocabularies/security.py\n+++ b/plone/app/vocabularies/security.py\n@@ -8,7 +8,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n import zope.deferredimport\n \ndiff --git a/plone/app/vocabularies/skins.py b/plone/app/vocabularies/skins.py\nindex 604b4e1..c497d5a 100644\n--- a/plone/app/vocabularies/skins.py\n+++ b/plone/app/vocabularies/skins.py\n@@ -5,7 +5,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n \n _ = MessageFactory('plone')\ndiff --git a/plone/app/vocabularies/tests/base.py b/plone/app/vocabularies/tests/base.py\nindex 9cb838d..aaec8f6 100644\n--- a/plone/app/vocabularies/tests/base.py\n+++ b/plone/app/vocabularies/tests/base.py\n@@ -3,7 +3,7 @@\n from plone.app.layout.navigation.interfaces import INavigationRoot\n from Products.ZCTextIndex.ParseTree import ParseError\n from zope.interface import implementer\n-from zope.site.hooks import setSite\n+from zope.component.hooks import setSite\n \n \n def create_context():\ndiff --git a/plone/app/vocabularies/types.py b/plone/app/vocabularies/types.py\nindex 2cca30e..b0b0551 100644\n--- a/plone/app/vocabularies/types.py\n+++ b/plone/app/vocabularies/types.py\n@@ -7,7 +7,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n \n def getAllowedContentTypes(context):\ndiff --git a/plone/app/vocabularies/workflow.py b/plone/app/vocabularies/workflow.py\nindex d7478c3..198b77a 100644\n--- a/plone/app/vocabularies/workflow.py\n+++ b/plone/app/vocabularies/workflow.py\n@@ -9,7 +9,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n \n _ = MessageFactory('plone')\n"

Repository: plone.app.vocabularies


Branch: refs/heads/master
Date: 2020-09-04T12:25:52+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.app.vocabularies/commit/b3852cb985a4e084acc2bbefba69640f089b5306

Merge pull request #63 from plone/maurits/fix-warnings

Fixed deprecation warning for zope.site.hooks.

Files changed:
A news/3130.bugfix
M plone/app/vocabularies/catalog.py
M plone/app/vocabularies/language.py
M plone/app/vocabularies/security.py
M plone/app/vocabularies/skins.py
M plone/app/vocabularies/tests/base.py
M plone/app/vocabularies/types.py
M plone/app/vocabularies/workflow.py

b"diff --git a/news/3130.bugfix b/news/3130.bugfix\nnew file mode 100644\nindex 0000000..5776fd9\n--- /dev/null\n+++ b/news/3130.bugfix\n@@ -0,0 +1 @@\n+Fixed deprecation warning for zope.site.hooks.\ndiff --git a/plone/app/vocabularies/catalog.py b/plone/app/vocabularies/catalog.py\nindex dd06b54..bed8130 100644\n--- a/plone/app/vocabularies/catalog.py\n+++ b/plone/app/vocabularies/catalog.py\n@@ -21,7 +21,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n import itertools\n import os\ndiff --git a/plone/app/vocabularies/language.py b/plone/app/vocabularies/language.py\nindex a445414..54648c3 100644\n--- a/plone/app/vocabularies/language.py\n+++ b/plone/app/vocabularies/language.py\n@@ -5,7 +5,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n \n @implementer(IVocabularyFactory)\ndiff --git a/plone/app/vocabularies/security.py b/plone/app/vocabularies/security.py\nindex 1fb0fe8..af8e352 100644\n--- a/plone/app/vocabularies/security.py\n+++ b/plone/app/vocabularies/security.py\n@@ -8,7 +8,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n import zope.deferredimport\n \ndiff --git a/plone/app/vocabularies/skins.py b/plone/app/vocabularies/skins.py\nindex 604b4e1..c497d5a 100644\n--- a/plone/app/vocabularies/skins.py\n+++ b/plone/app/vocabularies/skins.py\n@@ -5,7 +5,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n \n _ = MessageFactory('plone')\ndiff --git a/plone/app/vocabularies/tests/base.py b/plone/app/vocabularies/tests/base.py\nindex 9cb838d..aaec8f6 100644\n--- a/plone/app/vocabularies/tests/base.py\n+++ b/plone/app/vocabularies/tests/base.py\n@@ -3,7 +3,7 @@\n from plone.app.layout.navigation.interfaces import INavigationRoot\n from Products.ZCTextIndex.ParseTree import ParseError\n from zope.interface import implementer\n-from zope.site.hooks import setSite\n+from zope.component.hooks import setSite\n \n \n def create_context():\ndiff --git a/plone/app/vocabularies/types.py b/plone/app/vocabularies/types.py\nindex 2cca30e..b0b0551 100644\n--- a/plone/app/vocabularies/types.py\n+++ b/plone/app/vocabularies/types.py\n@@ -7,7 +7,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n \n def getAllowedContentTypes(context):\ndiff --git a/plone/app/vocabularies/workflow.py b/plone/app/vocabularies/workflow.py\nindex d7478c3..198b77a 100644\n--- a/plone/app/vocabularies/workflow.py\n+++ b/plone/app/vocabularies/workflow.py\n@@ -9,7 +9,7 @@\n from zope.schema.interfaces import IVocabularyFactory\n from zope.schema.vocabulary import SimpleTerm\n from zope.schema.vocabulary import SimpleVocabulary\n-from zope.site.hooks import getSite\n+from zope.component.hooks import getSite\n \n \n _ = MessageFactory('plone')\n"

