Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2024-06-15T12:21:44+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.upgrade/commit/e4d2b85d60cff330d7ee364a959d210c8c0bb74a

Fix upgrading `plone.app.iterate` to specific version.

In Plone 6.1 the deprecated GS profile with id `plone.app.iterate` has been removed, and only `default` remains, as is usual.

Files changed:
A news/99.bugfix
M plone/app/upgrade/v60/alphas.py

b'diff --git a/news/99.bugfix b/news/99.bugfix\nnew file mode 100644\nindex 00000000..b3d09402\n--- /dev/null\n+++ b/news/99.bugfix\n@@ -0,0 +1,3 @@\n+Fix upgrading `plone.app.iterate` to specific version.\n+In Plone 6.1 the deprecated GS profile with id `plone.app.iterate` has been removed, and only `default` remains, as is usual.\n+[maurits]\ndiff --git a/plone/app/upgrade/v60/alphas.py b/plone/app/upgrade/v60/alphas.py\nindex d376bb7b..df03eb83 100644\n--- a/plone/app/upgrade/v60/alphas.py\n+++ b/plone/app/upgrade/v60/alphas.py\n@@ -463,7 +463,12 @@ def upgrade_plone_module_profiles(context):\n         ("plone.app.dexterity:default", "2007"),\n         ("plone.app.discussion:default", "2000"),\n         ("plone.app.event:default", "15"),\n+        # Let\'s try both possible iterate profiles.\n+        # Only one of them will have been marked as installed,\n+        # but we don\'t know which one.  This will be fixed in\n+        # v60/final.py in fix_iterate_profiles.\n         ("plone.app.iterate:plone.app.iterate", "121"),\n+        ("plone.app.iterate:default", "121"),\n         ("plone.app.multilingual:default", "1000"),\n         ("plone.app.querystring:default", "14"),\n         ("plone.app.theming:default", "1002"),\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2024-06-15T18:27:53+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@py76.be>
Commit: https://github.com/plone/plone.app.upgrade/commit/26e4c7983c249cc6d58bd297c18f64c15e37013e

Merge pull request #327 from plone/plone-app-iterate-profile

Fix upgrading `plone.app.iterate` to specific version.

Files changed:
A news/99.bugfix
M plone/app/upgrade/v60/alphas.py

b'diff --git a/news/99.bugfix b/news/99.bugfix\nnew file mode 100644\nindex 00000000..b3d09402\n--- /dev/null\n+++ b/news/99.bugfix\n@@ -0,0 +1,3 @@\n+Fix upgrading `plone.app.iterate` to specific version.\n+In Plone 6.1 the deprecated GS profile with id `plone.app.iterate` has been removed, and only `default` remains, as is usual.\n+[maurits]\ndiff --git a/plone/app/upgrade/v60/alphas.py b/plone/app/upgrade/v60/alphas.py\nindex d376bb7b..df03eb83 100644\n--- a/plone/app/upgrade/v60/alphas.py\n+++ b/plone/app/upgrade/v60/alphas.py\n@@ -463,7 +463,12 @@ def upgrade_plone_module_profiles(context):\n         ("plone.app.dexterity:default", "2007"),\n         ("plone.app.discussion:default", "2000"),\n         ("plone.app.event:default", "15"),\n+        # Let\'s try both possible iterate profiles.\n+        # Only one of them will have been marked as installed,\n+        # but we don\'t know which one.  This will be fixed in\n+        # v60/final.py in fix_iterate_profiles.\n         ("plone.app.iterate:plone.app.iterate", "121"),\n+        ("plone.app.iterate:default", "121"),\n         ("plone.app.multilingual:default", "1000"),\n         ("plone.app.querystring:default", "14"),\n         ("plone.app.theming:default", "1002"),\n'

