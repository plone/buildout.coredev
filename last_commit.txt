Repository: plone.restapi


Branch: refs/heads/master
Date: 2021-01-26T17:00:12+01:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.restapi/commit/36d24d6152a270fd6ff86c3a1b2b5d62dab9a4e8

Prepare changelog entries and move contextnavigation changelog details to the docs

Files changed:
M docs/source/contextnavigation.rst
M news/1042.feature
M news/1047.feature
M news/1049.feature
M news/1051.feature
M news/837.bugfix

b'diff --git a/docs/source/contextnavigation.rst b/docs/source/contextnavigation.rst\nindex 324e884e0..3e863717f 100644\n--- a/docs/source/contextnavigation.rst\n+++ b/docs/source/contextnavigation.rst\n@@ -15,3 +15,26 @@ Example response:\n \n .. literalinclude:: ../../src/plone/restapi/tests/http-examples/contextnavigation.resp\n    :language: http\n+\n+\n+The ``@contextnavigation`` endpoint uses the same semantics as the classic Plone navigation\n+portlet, largely through reusing the same code. Instead of storing the\n+"portlet" configuration in a portlet assignment storage, you can pass these as\n+parameters to the service or expand component.\n+\n+You can provide these parameters:\n+\n+- ``name`` - The title of the navigation tree.\n+- ``root_path`` - Root node path, can be "frontend path", derived from router\n+- ``includeTop`` - Bool, Include top nodeschema\n+- ``currentFolderOnly`` - Bool, Only show the contents of the current folder.\n+- ``topLevel`` - Int, Start level\n+- ``bottomLevel`` - Int, Navigation tree depth\n+- ``no_icons`` - Bool, Suppress Icons\n+- ``thumb_scale`` - String, Override thumb scale\n+- ``no_thumbs`` = Bool, Suppress thumbs\n+\n+You should prefix these parameters with ``expand.contextnavigation.``, so a request\n+would look like:\n+\n+``http://localhost:55001/plone/?expand.contextnavigation.topLevel=1&expand.contextnavigation.name=Custom+name``\ndiff --git a/news/1042.feature b/news/1042.feature\nindex da8996849..681ee5883 100644\n--- a/news/1042.feature\n+++ b/news/1042.feature\n@@ -1,22 +1,2 @@\n-A new service endpoint and expand is available, a Navigation Portlet exposed as\n-``@navportlet``. It uses the same semantics as the classic Plone navigation\n-portlet, largely through reusing the same code. Instead of storing the\n-"portlet" configuration in a portlet assignment storage, you can pass these as\n-parameters to the service or expand component.\n-\n-You can provide these as parameters:\n-\n-- ``name`` - The title of the navigation tree.\n-- ``root_path`` - Root node path, can be "frontend path", derived from router\n-- ``includeTop`` - Bool, Include top nodeschema\n-- ``currentFolderOnly`` - Bool, Only show the contents of the current folder.\n-- ``topLevel`` - Int, Start level\n-- ``bottomLevel`` - Int, Navigation tree depth\n-- ``no_icons`` - Bool, Suppress Icons\n-- ``thumb_scale`` - String, Override thumb scale\n-- ``no_thumbs`` = Bool, Suppress thumbs\n-\n-You should prefix these parameters with ``expand.navportlet.``, so a request\n-would look like:\n-\n-``http://localhost:55001/plone/?expand.navportlet.topLevel=1&expand.navportlet.name=Custom+name``\n+Add new @contextnavigation endpoint.\n+[tiberiuichim]\n\\ No newline at end of file\ndiff --git a/news/1047.feature b/news/1047.feature\nindex bfecf22e0..88acaf004 100644\n--- a/news/1047.feature\n+++ b/news/1047.feature\n@@ -1,2 +1,2 @@\n-- Refactor navigation endpoint, add new ``nav_title`` attribute\n-  [sneridagh]\n+Refactor navigation endpoint, add new ``nav_title`` attribute\n+[sneridagh]\ndiff --git a/news/1049.feature b/news/1049.feature\nindex 85fcd6188..19adbcf90 100644\n--- a/news/1049.feature\n+++ b/news/1049.feature\n@@ -1,2 +1,2 @@\n-- Add nav_title attribute to breadcrumbs endpoint\n-  [sneridagh]\n+Add nav_title attribute to breadcrumbs endpoint\n+[sneridagh]\ndiff --git a/news/1051.feature b/news/1051.feature\nindex 373bf5e35..392790c59 100644\n--- a/news/1051.feature\n+++ b/news/1051.feature\n@@ -1,2 +1,2 @@\n-- Unify nav_title and title in navs\n-  [sneridagh]\n+Unify nav_title and title in navs\n+[sneridagh]\ndiff --git a/news/837.bugfix b/news/837.bugfix\nindex c5a942b74..03923315b 100644\n--- a/news/837.bugfix\n+++ b/news/837.bugfix\n@@ -1,2 +1,2 @@\n-- Fix ``@id`` when content query has no ``fullbojects``\n-  [sneridagh]\n+Fix ``@id`` when content query has no ``fullbojects``\n+[sneridagh]\n'

