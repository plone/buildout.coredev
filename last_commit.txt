Repository: plone.api


Branch: refs/heads/master
Date: 2023-10-14T12:57:58+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.api/commit/f36be80af5deacd379a93fa2d64e88517858741a

chore(gha): update versions

There is a warning that the are about to be deprecated.

Files changed:
M .github/workflows/black.yml
M .github/workflows/docs.yml
M .github/workflows/isort.yml
M .github/workflows/plone_python.yml

b'diff --git a/.github/workflows/black.yml b/.github/workflows/black.yml\nindex 420028cc..fc5371c7 100644\n--- a/.github/workflows/black.yml\n+++ b/.github/workflows/black.yml\n@@ -10,11 +10,11 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v4\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n       - name: Install dependencies\n@@ -23,7 +23,7 @@ jobs:\n           pip install tox tox-gh-actions\n \n       # python cache\n-      - uses: actions/cache@v1\n+      - uses: actions/cache@v3\n         with:\n           path: ~/.cache/pip\n           key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\ndiff --git a/.github/workflows/docs.yml b/.github/workflows/docs.yml\nindex 93fc39fc..1cad5df7 100644\n--- a/.github/workflows/docs.yml\n+++ b/.github/workflows/docs.yml\n@@ -10,11 +10,11 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v4\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n       - name: Install dependencies\n@@ -23,7 +23,7 @@ jobs:\n           pip install tox tox-gh-actions\n \n       # python cache\n-      - uses: actions/cache@v1\n+      - uses: actions/cache@v3\n         with:\n           path: ~/.cache/pip\n           key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\ndiff --git a/.github/workflows/isort.yml b/.github/workflows/isort.yml\nindex c6f499fc..3176e03f 100644\n--- a/.github/workflows/isort.yml\n+++ b/.github/workflows/isort.yml\n@@ -10,11 +10,11 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v4\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n       - name: Install dependencies\n@@ -23,7 +23,7 @@ jobs:\n           pip install tox tox-gh-actions\n \n       # python cache\n-      - uses: actions/cache@v1\n+      - uses: actions/cache@v3\n         with:\n           path: ~/.cache/pip\n           key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\ndiff --git a/.github/workflows/plone_python.yml b/.github/workflows/plone_python.yml\nindex 86771fec..efa78c69 100644\n--- a/.github/workflows/plone_python.yml\n+++ b/.github/workflows/plone_python.yml\n@@ -20,11 +20,11 @@ jobs:\n         plone-version: ["5.2", "6.0"]\n \n     steps:\n-      - uses: actions/checkout@v3\n+      - uses: actions/checkout@v4\n       - name: Install system libraries\n         run: sudo apt-get install libxml2-dev libxslt1-dev libjpeg-dev\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v2\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n       - name: Install dependencies\n'

Repository: plone.api


Branch: refs/heads/master
Date: 2023-10-14T12:58:17+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.api/commit/8d34f95512b06d25474f4cb12b0bc369b0b1ac87

fix(gha): adjust Plone/python versions

- remove Plone 5.2
- remove Python 3.7
- add Python 3.10 and 3.11

Files changed:
M .github/workflows/plone_python.yml

b'diff --git a/.github/workflows/plone_python.yml b/.github/workflows/plone_python.yml\nindex efa78c69..9b1948b9 100644\n--- a/.github/workflows/plone_python.yml\n+++ b/.github/workflows/plone_python.yml\n@@ -16,8 +16,8 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        python-version: ["3.7", "3.8", "3.9"]\n-        plone-version: ["5.2", "6.0"]\n+        python-version: ["3.8", "3.9", "3.10", "3.11"]\n+        plone-version: ["6.0"]\n \n     steps:\n       - uses: actions/checkout@v4\n'

Repository: plone.api


Branch: refs/heads/master
Date: 2023-10-14T12:58:33+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.api/commit/b15af98535422fcfb1c9711597079cc77cc12273

fix: adjust tox.ini as well

Files changed:
M tox.ini

b'diff --git a/tox.ini b/tox.ini\nindex 7f4d12ee..4ec548d9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -1,7 +1,6 @@\n [tox]\n envlist =\n-    py{37,38,39}-plone{52}\n-    py{38,39}-plone{60}\n+    py{38,39,310,311}-plone{60}\n     # towncrier\n     # black-enforce\n     black-check\n@@ -17,13 +16,13 @@ skip_missing_interpreters = True\n \n [gh-actions]\n python =\n-    3.7: py37\n     3.8: py38\n     3.9: py39\n+    3.10: py310\n+    3.11: py311\n \n [gh-actions:env]\n PLONE =\n-    52: plone52\n     60: plone60\n \n \n@@ -40,7 +39,6 @@ commands =\n \n setenv =\n     BUILDOUT_FILE=test_plone-60.cfg\n-    plone52: BUILDOUT_FILE=test_plone-52.cfg\n \n deps =\n     pdbpp\n'

Repository: plone.api


Branch: refs/heads/master
Date: 2023-10-14T12:58:38+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.api/commit/67c8d25ff3f2b14f4a6796054b9928e43b290c3d

Create 1.internal

Files changed:
A news/1.internal

b'diff --git a/news/1.internal b/news/1.internal\nnew file mode 100644\nindex 00000000..4af1df1b\n--- /dev/null\n+++ b/news/1.internal\n@@ -0,0 +1,2 @@\n+Update GHA\n+[gforcada]\n'

Repository: plone.api


Branch: refs/heads/master
Date: 2023-10-14T13:04:48+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.api/commit/e6c274fba0fd8b665b8129c1116f30d226a616ff

Merge pull request #519 from plone/gforcada-patch-1

Update GHA

Files changed:
A news/1.internal
M .github/workflows/black.yml
M .github/workflows/docs.yml
M .github/workflows/isort.yml
M .github/workflows/plone_python.yml
M tox.ini

b'diff --git a/.github/workflows/black.yml b/.github/workflows/black.yml\nindex 420028cc..fc5371c7 100644\n--- a/.github/workflows/black.yml\n+++ b/.github/workflows/black.yml\n@@ -10,11 +10,11 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v4\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n       - name: Install dependencies\n@@ -23,7 +23,7 @@ jobs:\n           pip install tox tox-gh-actions\n \n       # python cache\n-      - uses: actions/cache@v1\n+      - uses: actions/cache@v3\n         with:\n           path: ~/.cache/pip\n           key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\ndiff --git a/.github/workflows/docs.yml b/.github/workflows/docs.yml\nindex 93fc39fc..1cad5df7 100644\n--- a/.github/workflows/docs.yml\n+++ b/.github/workflows/docs.yml\n@@ -10,11 +10,11 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v4\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n       - name: Install dependencies\n@@ -23,7 +23,7 @@ jobs:\n           pip install tox tox-gh-actions\n \n       # python cache\n-      - uses: actions/cache@v1\n+      - uses: actions/cache@v3\n         with:\n           path: ~/.cache/pip\n           key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\ndiff --git a/.github/workflows/isort.yml b/.github/workflows/isort.yml\nindex c6f499fc..3176e03f 100644\n--- a/.github/workflows/isort.yml\n+++ b/.github/workflows/isort.yml\n@@ -10,11 +10,11 @@ jobs:\n \n     steps:\n       # git checkout\n-      - uses: actions/checkout@v2\n+      - uses: actions/checkout@v4\n \n       # python setup\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v1\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n       - name: Install dependencies\n@@ -23,7 +23,7 @@ jobs:\n           pip install tox tox-gh-actions\n \n       # python cache\n-      - uses: actions/cache@v1\n+      - uses: actions/cache@v3\n         with:\n           path: ~/.cache/pip\n           key: ${{ runner.os }}-pip-${{ hashFiles(\'**/requirements.txt\') }}\ndiff --git a/.github/workflows/plone_python.yml b/.github/workflows/plone_python.yml\nindex 86771fec..9b1948b9 100644\n--- a/.github/workflows/plone_python.yml\n+++ b/.github/workflows/plone_python.yml\n@@ -16,15 +16,15 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        python-version: ["3.7", "3.8", "3.9"]\n-        plone-version: ["5.2", "6.0"]\n+        python-version: ["3.8", "3.9", "3.10", "3.11"]\n+        plone-version: ["6.0"]\n \n     steps:\n-      - uses: actions/checkout@v3\n+      - uses: actions/checkout@v4\n       - name: Install system libraries\n         run: sudo apt-get install libxml2-dev libxslt1-dev libjpeg-dev\n       - name: Set up Python ${{ matrix.python-version }}\n-        uses: actions/setup-python@v2\n+        uses: actions/setup-python@v4\n         with:\n           python-version: ${{ matrix.python-version }}\n       - name: Install dependencies\ndiff --git a/news/1.internal b/news/1.internal\nnew file mode 100644\nindex 00000000..4af1df1b\n--- /dev/null\n+++ b/news/1.internal\n@@ -0,0 +1,2 @@\n+Update GHA\n+[gforcada]\ndiff --git a/tox.ini b/tox.ini\nindex 7f4d12ee..4ec548d9 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -1,7 +1,6 @@\n [tox]\n envlist =\n-    py{37,38,39}-plone{52}\n-    py{38,39}-plone{60}\n+    py{38,39,310,311}-plone{60}\n     # towncrier\n     # black-enforce\n     black-check\n@@ -17,13 +16,13 @@ skip_missing_interpreters = True\n \n [gh-actions]\n python =\n-    3.7: py37\n     3.8: py38\n     3.9: py39\n+    3.10: py310\n+    3.11: py311\n \n [gh-actions:env]\n PLONE =\n-    52: plone52\n     60: plone60\n \n \n@@ -40,7 +39,6 @@ commands =\n \n setenv =\n     BUILDOUT_FILE=test_plone-60.cfg\n-    plone52: BUILDOUT_FILE=test_plone-52.cfg\n \n deps =\n     pdbpp\n'

