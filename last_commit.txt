Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-21T08:46:18+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/49bc2b8adfa09709ba65e7da44b2f381ffcf968a

Make tinymce text filling more robust

Files changed:
M Products/CMFPlone/tests/robot/keywords.robot

b'diff --git a/Products/CMFPlone/tests/robot/keywords.robot b/Products/CMFPlone/tests/robot/keywords.robot\nindex 2cb187d473..e4edab3877 100644\n--- a/Products/CMFPlone/tests/robot/keywords.robot\n+++ b/Products/CMFPlone/tests/robot/keywords.robot\n@@ -76,16 +76,14 @@ Fill text to tinymce editor\n \n     Sleep    1\n \n-    ${check}=    Evaluate JavaScript    //textarea[@name="${attr_name}"]\n+    Evaluate JavaScript    //textarea[@name="${attr_name}"]\n     ...    (elem, text) => {\n     ...        const tiny = window.tinymce.get(elem.getAttribute("id"));\n-    ...        let input_text = "";\n     ...        tiny.setContent(\'${input}\');\n-    ...        return tiny.getContent();\n     ...    }\n     ...    all_elements=False\n \n-    Should not be empty    ${check}\n+    Wait for Condition    Text    //div[contains(@class, \'tox-edit-area\')]//iframe >>> body   !=    ""\n \n \n Pause\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-21T08:48:21+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/50588a97365d2416525e7e42787077f5648beeb8

fix changenote

Files changed:
A news/3980.feature
D news/3980.1.feature

b'diff --git a/news/3980.1.feature b/news/3980.feature\nsimilarity index 100%\nrename from news/3980.1.feature\nrename to news/3980.feature\n'

Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2024-10-21T09:39:46+02:00
Author: Peter Mathis (petschki) <petschki@users.noreply.github.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/348a676e973bb846ea9ed7a53ee33dff41ddef06

Merge pull request #4034 from plone/robottest-tiny-fixes

robottests: TinyMCE fixes

Files changed:
A news/3980.feature
M Products/CMFPlone/tests/robot/keywords.robot
D news/3980.1.feature

b'diff --git a/Products/CMFPlone/tests/robot/keywords.robot b/Products/CMFPlone/tests/robot/keywords.robot\nindex 2cb187d473..e4edab3877 100644\n--- a/Products/CMFPlone/tests/robot/keywords.robot\n+++ b/Products/CMFPlone/tests/robot/keywords.robot\n@@ -76,16 +76,14 @@ Fill text to tinymce editor\n \n     Sleep    1\n \n-    ${check}=    Evaluate JavaScript    //textarea[@name="${attr_name}"]\n+    Evaluate JavaScript    //textarea[@name="${attr_name}"]\n     ...    (elem, text) => {\n     ...        const tiny = window.tinymce.get(elem.getAttribute("id"));\n-    ...        let input_text = "";\n     ...        tiny.setContent(\'${input}\');\n-    ...        return tiny.getContent();\n     ...    }\n     ...    all_elements=False\n \n-    Should not be empty    ${check}\n+    Wait for Condition    Text    //div[contains(@class, \'tox-edit-area\')]//iframe >>> body   !=    ""\n \n \n Pause\ndiff --git a/news/3980.1.feature b/news/3980.feature\nsimilarity index 100%\nrename from news/3980.1.feature\nrename to news/3980.feature\n'

