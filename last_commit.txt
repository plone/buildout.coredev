Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2024-03-06T14:40:02-03:00
Author: wesleybl (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/plone.app.discussion/commit/f5422a4f62b2f1f08993e13d6a2a7956e863cbd2

Fix test "Add a Comment to a Document and bulk delete it"

Fix test robot. Wait for the button to appear on the screen before
clicking it.

Fix error:

Text 'This is a comment' did not disappear in 7 seconds.

Files changed:
A news/226.bugfix
M plone/app/discussion/tests/robot/test_moderation.robot

b'diff --git a/news/226.bugfix b/news/226.bugfix\nnew file mode 100644\nindex 00000000..49e8a7b6\n--- /dev/null\n+++ b/news/226.bugfix\n@@ -0,0 +1 @@\n+Fix test "Add a Comment to a Document and bulk delete it". @wesleybl\ndiff --git a/plone/app/discussion/tests/robot/test_moderation.robot b/plone/app/discussion/tests/robot/test_moderation.robot\nindex 851aa56c..38d7366f 100644\n--- a/plone/app/discussion/tests/robot/test_moderation.robot\n+++ b/plone/app/discussion/tests/robot/test_moderation.robot\n@@ -64,11 +64,12 @@ I add a comment and delete it\n   Wait until page contains element  name=form.select.BulkAction\n   Select from list by value   xpath://select[@name=\'form.select.BulkAction\']  delete\n   Select Checkbox  name=check_all\n-  Click Button  Apply\n+  Wait For Then Click Element  css=button[name="form.button.BulkAction"]\n   Wait Until Page Does Not Contain  This is a comment\n \n workflow multiple enabled\n   Go To  ${PLONE_URL}/@@content-controlpanel?type_id=Discussion%20Item&new_workflow=comment_review_workflow\n+  Execute Javascript  window.scroll(0, 2000)\n   Click Button  Save\n \n # Then\n'

Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2024-03-07T09:01:57+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.discussion/commit/5fa2bfb8fe9cfd89dd6896a885ade161bfdf21fb

Merge pull request #226 from plone/fix_robot

Fix test "Add a Comment to a Document and bulk delete it"

Files changed:
A news/226.bugfix
M plone/app/discussion/tests/robot/test_moderation.robot

b'diff --git a/news/226.bugfix b/news/226.bugfix\nnew file mode 100644\nindex 00000000..49e8a7b6\n--- /dev/null\n+++ b/news/226.bugfix\n@@ -0,0 +1 @@\n+Fix test "Add a Comment to a Document and bulk delete it". @wesleybl\ndiff --git a/plone/app/discussion/tests/robot/test_moderation.robot b/plone/app/discussion/tests/robot/test_moderation.robot\nindex 851aa56c..38d7366f 100644\n--- a/plone/app/discussion/tests/robot/test_moderation.robot\n+++ b/plone/app/discussion/tests/robot/test_moderation.robot\n@@ -64,11 +64,12 @@ I add a comment and delete it\n   Wait until page contains element  name=form.select.BulkAction\n   Select from list by value   xpath://select[@name=\'form.select.BulkAction\']  delete\n   Select Checkbox  name=check_all\n-  Click Button  Apply\n+  Wait For Then Click Element  css=button[name="form.button.BulkAction"]\n   Wait Until Page Does Not Contain  This is a comment\n \n workflow multiple enabled\n   Go To  ${PLONE_URL}/@@content-controlpanel?type_id=Discussion%20Item&new_workflow=comment_review_workflow\n+  Execute Javascript  window.scroll(0, 2000)\n   Click Button  Save\n \n # Then\n'

