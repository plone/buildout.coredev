Repository: plone.app.layout


Branch: refs/heads/master
Date: 2024-02-23T13:00:17+02:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.layout/commit/c6c41bf58486c134728d566a48fbe8cca924f905

add label-by-author wrapper, to alow it to be styled or hidden

Files changed:
M plone/app/layout/viewlets/document_byline.pt

b'diff --git a/plone/app/layout/viewlets/document_byline.pt b/plone/app/layout/viewlets/document_byline.pt\nindex a1106e9c..f2308e8d 100644\n--- a/plone/app/layout/viewlets/document_byline.pt\n+++ b/plone/app/layout/viewlets/document_byline.pt\n@@ -7,7 +7,7 @@\n                   navigation_root_url context/@@plone_portal_state/navigation_root_url;\n                 "\n                 tal:condition="python:creator_ids and view.show_about()"\n-  >\n+  ><span class="label-by-author">\n     <tal:i18n i18n:translate="">by</tal:i18n>\n     <tal:for repeat="user_id creator_ids">\n       <tal:user define="\n@@ -24,6 +24,7 @@\n       </tal:user>\n     </tal:for>\n     &mdash;\n+    </span>\n   </tal:creators>\n \n   <tal:dates define="\n'

Repository: plone.app.layout


Branch: refs/heads/master
Date: 2024-02-23T13:00:40+02:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/plone.app.layout/commit/1e9df41d9f325f31fd3aa3cae0a4151ef917e3f9

template formating

Files changed:
M plone/app/layout/viewlets/document_byline.pt

b'diff --git a/plone/app/layout/viewlets/document_byline.pt b/plone/app/layout/viewlets/document_byline.pt\nindex f2308e8d..1a4fdb98 100644\n--- a/plone/app/layout/viewlets/document_byline.pt\n+++ b/plone/app/layout/viewlets/document_byline.pt\n@@ -1,28 +1,25 @@\n <section id="section-byline"\n-         tal:condition="view/show"\n-         i18n:domain="plone"\n->\n+  tal:condition="view/show"\n+  i18n:domain="plone">\n   <tal:creators tal:define="\n                   creator_ids here/creators;\n                   navigation_root_url context/@@plone_portal_state/navigation_root_url;\n                 "\n-                tal:condition="python:creator_ids and view.show_about()"\n-  ><span class="label-by-author">\n-    <tal:i18n i18n:translate="">by</tal:i18n>\n-    <tal:for repeat="user_id creator_ids">\n-      <tal:user define="\n+    tal:condition="python:creator_ids and view.show_about()">\n+    <span class="label-by-author">\n+      <tal:i18n i18n:translate="">by</tal:i18n>\n+      <tal:for repeat="user_id creator_ids">\n+        <tal:user define="\n                   url_path python: view.get_url_path(user_id);\n                   fullname python:view.get_fullname(user_id);\n                 ">\n-        <a class="badge rounded-pill bg-light text-dark fw-normal fs-6"\n-           href="${navigation_root_url}/${url_path}"\n-           tal:condition="url_path"\n-        >${fullname}</a>\n-        <span class="badge rounded-pill bg-light text-dark fw-normal fs-6"\n-              tal:condition="not:url_path"\n-        >${fullname}</span>\n-      </tal:user>\n-    </tal:for>\n+          <a class="badge rounded-pill bg-light text-dark fw-normal fs-6"\n+            href="${navigation_root_url}/${url_path}"\n+            tal:condition="url_path">${fullname}</a>\n+          <span class="badge rounded-pill bg-light text-dark fw-normal fs-6"\n+            tal:condition="not:url_path">${fullname}</span>\n+        </tal:user>\n+      </tal:for>\n     &mdash;\n     </span>\n   </tal:creators>\n@@ -33,15 +30,14 @@\n                show_modification_date python:view.show_modification_date();\n              ">\n     <span class="documentPublished"\n-          tal:condition="published"\n-    >\n+      tal:condition="published">\n       <span i18n:translate="box_published">published</span>\n-      <span tal:content="python:context.toLocalizedTime(published)">Published</span><tal:sep condition="show_modification_date">,</tal:sep>\n+      <span tal:content="python:context.toLocalizedTime(published)">Published</span>\n+      <tal:sep condition="show_modification_date">,</tal:sep>\n     </span>\n \n     <span class="documentModified"\n-          tal:condition="show_modification_date"\n-    >\n+      tal:condition="show_modification_date">\n       <span i18n:translate="box_last_modified">\n       last modified\n       </span>\n@@ -54,8 +50,7 @@\n   <tal:expired tal:condition="view/isExpired">\n     &mdash;\n     <span class="state-expired"\n-          i18n:translate="time_expired"\n-    >expired</span>\n+      i18n:translate="time_expired">expired</span>\n   </tal:expired>\n \n </section>\n'

