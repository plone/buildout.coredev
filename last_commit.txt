Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2023-07-06T11:42:20+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.z3cform/commit/e1f5290c5f77dbd636a63888058ce42887408258

Ignore form validation if `ignoreRequiredOnExtract` is set

Files changed:
M plone/app/z3cform/templates/macros.pt

b"diff --git a/plone/app/z3cform/templates/macros.pt b/plone/app/z3cform/templates/macros.pt\nindex 20f2077..f1efe75 100644\n--- a/plone/app/z3cform/templates/macros.pt\n+++ b/plone/app/z3cform/templates/macros.pt\n@@ -87,7 +87,7 @@\n                 unload_protection python:enable_unload_protection and 'pat-formunloadalert';\n                 enable_autofocus view/enable_autofocus|python:True;\n                 autofocus python:enable_autofocus and 'pat-formautofocus';\n-                validation python:'pat-validation' if True else '';\n+                validation python:'pat-validation' if not view.ignoreRequiredOnExtract else '';\n                 has_groups python:bool(groups);\n                 form_tabbing python:(has_groups and enable_form_tabbing) and 'enableFormTabbing pat-autotoc' or '';\n                 show_default_label python:has_groups and default_fieldset_label and len(view.widgets);\n"

Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2023-07-06T11:43:24+02:00
Author: Peter Mathis (petschki) <peter.mathis@kombinat.at>
Commit: https://github.com/plone/plone.app.z3cform/commit/a7dec2bee62193693d2327dc9e932f634a698969

changenote

Files changed:
A news/179.bugfix

b'diff --git a/news/179.bugfix b/news/179.bugfix\nnew file mode 100644\nindex 0000000..ff3a978\n--- /dev/null\n+++ b/news/179.bugfix\n@@ -0,0 +1,2 @@\n+Ignore form validation when `ignoreRequiredOnExtract` is set.\n+[petschki]\n'

Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2023-07-13T12:46:20+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.z3cform/commit/065190646aaf3a6ca170e7b9193f134302b69fbe

Merge pull request #180 from plone/petschki-disable-validation-on-ignore

Ignore form validation if `ignoreRequiredOnExtract` is set

Files changed:
A news/179.bugfix
M plone/app/z3cform/templates/macros.pt

b"diff --git a/news/179.bugfix b/news/179.bugfix\nnew file mode 100644\nindex 0000000..ff3a978\n--- /dev/null\n+++ b/news/179.bugfix\n@@ -0,0 +1,2 @@\n+Ignore form validation when `ignoreRequiredOnExtract` is set.\n+[petschki]\ndiff --git a/plone/app/z3cform/templates/macros.pt b/plone/app/z3cform/templates/macros.pt\nindex 20f2077..f1efe75 100644\n--- a/plone/app/z3cform/templates/macros.pt\n+++ b/plone/app/z3cform/templates/macros.pt\n@@ -87,7 +87,7 @@\n                 unload_protection python:enable_unload_protection and 'pat-formunloadalert';\n                 enable_autofocus view/enable_autofocus|python:True;\n                 autofocus python:enable_autofocus and 'pat-formautofocus';\n-                validation python:'pat-validation' if True else '';\n+                validation python:'pat-validation' if not view.ignoreRequiredOnExtract else '';\n                 has_groups python:bool(groups);\n                 form_tabbing python:(has_groups and enable_form_tabbing) and 'enableFormTabbing pat-autotoc' or '';\n                 show_default_label python:has_groups and default_fieldset_label and len(view.widgets);\n"

