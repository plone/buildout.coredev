Repository: plone.app.content


Branch: refs/heads/master
Date: 2020-08-25T00:39:05+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.content/commit/d037e9aa9a849157d0e36550001ddeb058f6277f

Fixed deprecation warning for IFieldPermissionChecker.

```
DeprecationWarning: IFieldPermissionChecker is deprecated.
Import IFieldPermissionChecker from plone.app.z3cform.interfaces instead
```

Files changed:
A news/3130.bugfix
M plone/app/content/browser/vocabulary.py
M plone/app/content/tests/test_widgets.py

b'diff --git a/news/3130.bugfix b/news/3130.bugfix\nnew file mode 100644\nindex 0000000..896500b\n--- /dev/null\n+++ b/news/3130.bugfix\n@@ -0,0 +1,2 @@\n+Fixed deprecation warning for ``IFieldPermissionChecker``.\n+[maurits]\ndiff --git a/plone/app/content/browser/vocabulary.py b/plone/app/content/browser/vocabulary.py\nindex cec956c..b00c1e0 100644\n--- a/plone/app/content/browser/vocabulary.py\n+++ b/plone/app/content/browser/vocabulary.py\n@@ -7,7 +7,7 @@\n from plone.app.layout.navigation.interfaces import INavigationRoot\n from plone.app.layout.navigation.root import getNavigationRoot\n from plone.app.querystring import queryparser\n-from plone.app.widgets.interfaces import IFieldPermissionChecker\n+from plone.app.z3cform.interfaces import IFieldPermissionChecker\n from plone.autoform.interfaces import WRITE_PERMISSIONS_KEY\n from plone.supermodel.utils import mergedTaggedValueDict\n from Products.CMFCore.utils import getToolByName\ndiff --git a/plone/app/content/tests/test_widgets.py b/plone/app/content/tests/test_widgets.py\nindex 1b3c17e..05a1d12 100644\n--- a/plone/app/content/tests/test_widgets.py\n+++ b/plone/app/content/tests/test_widgets.py\n@@ -12,7 +12,7 @@\n from plone.app.testing import setRoles\n from plone.app.testing import TEST_USER_ID\n from plone.app.testing import TEST_USER_NAME\n-from plone.app.widgets.interfaces import IFieldPermissionChecker\n+from plone.app.z3cform.interfaces import IFieldPermissionChecker\n from six.moves import range\n from zope.component import getMultiAdapter\n from zope.component import provideAdapter\n'

Repository: plone.app.content


Branch: refs/heads/master
Date: 2020-08-25T11:35:51+02:00
Author: Maurits van Rees (mauritsvanrees) <m.van.rees@zestsoftware.nl>
Commit: https://github.com/plone/plone.app.content/commit/da89dbab27ac26514fc3c9e328ec0a1c4935057d

Merge pull request #211 from plone/maurits/fix-warnings

Fixed deprecation warning for IFieldPermissionChecker.

Files changed:
A news/3130.bugfix
M plone/app/content/browser/vocabulary.py
M plone/app/content/tests/test_widgets.py

b'diff --git a/news/3130.bugfix b/news/3130.bugfix\nnew file mode 100644\nindex 0000000..896500b\n--- /dev/null\n+++ b/news/3130.bugfix\n@@ -0,0 +1,2 @@\n+Fixed deprecation warning for ``IFieldPermissionChecker``.\n+[maurits]\ndiff --git a/plone/app/content/browser/vocabulary.py b/plone/app/content/browser/vocabulary.py\nindex cec956c..b00c1e0 100644\n--- a/plone/app/content/browser/vocabulary.py\n+++ b/plone/app/content/browser/vocabulary.py\n@@ -7,7 +7,7 @@\n from plone.app.layout.navigation.interfaces import INavigationRoot\n from plone.app.layout.navigation.root import getNavigationRoot\n from plone.app.querystring import queryparser\n-from plone.app.widgets.interfaces import IFieldPermissionChecker\n+from plone.app.z3cform.interfaces import IFieldPermissionChecker\n from plone.autoform.interfaces import WRITE_PERMISSIONS_KEY\n from plone.supermodel.utils import mergedTaggedValueDict\n from Products.CMFCore.utils import getToolByName\ndiff --git a/plone/app/content/tests/test_widgets.py b/plone/app/content/tests/test_widgets.py\nindex 1b3c17e..05a1d12 100644\n--- a/plone/app/content/tests/test_widgets.py\n+++ b/plone/app/content/tests/test_widgets.py\n@@ -12,7 +12,7 @@\n from plone.app.testing import setRoles\n from plone.app.testing import TEST_USER_ID\n from plone.app.testing import TEST_USER_NAME\n-from plone.app.widgets.interfaces import IFieldPermissionChecker\n+from plone.app.z3cform.interfaces import IFieldPermissionChecker\n from six.moves import range\n from zope.component import getMultiAdapter\n from zope.component import provideAdapter\n'

