Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2021-08-11T10:57:32+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.upgrade/commit/bdf0b3dc5989d89dc87e9828e922b20880fce7b3

Protect @@historyview with Modify portal content permission. Fixes https://github.com/plone/Products.CMFPlone/issues/3297

Files changed:
A plone/app/upgrade/v60/profiles/to_alpha1/actions.xml

b'diff --git a/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml b/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml\nnew file mode 100644\nindex 00000000..c0bfb09a\n--- /dev/null\n+++ b/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml\n@@ -0,0 +1,9 @@\n+<?xml version="1.0"?>\n+ <object name="object" meta_type="CMF Action Category">\n+  <object name="history" meta_type="CMF Action" i18n:domain="plone">\n+   <property name="permissions">\n+    <element value="Modify portal content"/>\n+   </property>\n+  </object>\n+ </object>\n+</object>\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2021-08-11T11:00:47+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.upgrade/commit/4df4c5fc28fe40c3ec265901d5b43974c5652cfe

add changenote

Files changed:
A news/254.feature

b'diff --git a/news/254.feature b/news/254.feature\nnew file mode 100644\nindex 00000000..438e9900\n--- /dev/null\n+++ b/news/254.feature\n@@ -0,0 +1,2 @@\n+Protect @@historyview with Modify portal content permission. Fixes https://github.com/plone/Products.CMFPlone/issues/3297\n+[pbauer]\n\\ No newline at end of file\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2021-08-11T13:18:52+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.upgrade/commit/c07e9ecf59e43620dba5d148ba0f44fc4a1678ae

fix xml

Files changed:
M plone/app/upgrade/v60/profiles/to_alpha1/actions.xml

b'diff --git a/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml b/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml\nindex c0bfb09a..55e5faf8 100644\n--- a/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml\n+++ b/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml\n@@ -1,4 +1,6 @@\n <?xml version="1.0"?>\n+<object name="portal_actions" meta_type="Plone Actions Tool"\n+   xmlns:i18n="http://xml.zope.org/namespaces/i18n">\n  <object name="object" meta_type="CMF Action Category">\n   <object name="history" meta_type="CMF Action" i18n:domain="plone">\n    <property name="permissions">\n'

Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2021-08-11T17:18:24+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.upgrade/commit/addce9e54254cb02e2299fdd64ed7049e7cef7f6

Merge pull request #254 from plone/protect_historyview_3297

Protect @@historyview with Modify portal content permission

Files changed:
A news/254.feature
A plone/app/upgrade/v60/profiles/to_alpha1/actions.xml

b'diff --git a/news/254.feature b/news/254.feature\nnew file mode 100644\nindex 00000000..438e9900\n--- /dev/null\n+++ b/news/254.feature\n@@ -0,0 +1,2 @@\n+Protect @@historyview with Modify portal content permission. Fixes https://github.com/plone/Products.CMFPlone/issues/3297\n+[pbauer]\n\\ No newline at end of file\ndiff --git a/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml b/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml\nnew file mode 100644\nindex 00000000..55e5faf8\n--- /dev/null\n+++ b/plone/app/upgrade/v60/profiles/to_alpha1/actions.xml\n@@ -0,0 +1,11 @@\n+<?xml version="1.0"?>\n+<object name="portal_actions" meta_type="Plone Actions Tool"\n+   xmlns:i18n="http://xml.zope.org/namespaces/i18n">\n+ <object name="object" meta_type="CMF Action Category">\n+  <object name="history" meta_type="CMF Action" i18n:domain="plone">\n+   <property name="permissions">\n+    <element value="Modify portal content"/>\n+   </property>\n+  </object>\n+ </object>\n+</object>\n'

