Repository: plone.base


Branch: refs/heads/main
Date: 2024-03-26T11:41:28Z
Author: Jean-Paul Ladage (jladage) <j.ladage@zestsoftware.nl>
Commit: https://github.com/plone/plone.base/commit/febc7beb78eb5ff87859430decaae539a69ef3d8

Allow including js in head section

Files changed:
M src/plone/base/interfaces/controlpanel.py

b'diff --git a/src/plone/base/interfaces/controlpanel.py b/src/plone/base/interfaces/controlpanel.py\nindex 6163126..91165c9 100644\n--- a/src/plone/base/interfaces/controlpanel.py\n+++ b/src/plone/base/interfaces/controlpanel.py\n@@ -1195,10 +1195,23 @@ class ISiteSchema(Interface):\n         required=False,\n     )\n \n+    webstats_head_js = schema.SourceText(\n+        title=_("JavaScript integrations included in head section"),\n+        description=_(\n+            "For enabling thrid party javascript integrations "\n+            "from external providers (e.g. Google "\n+            "Analytics). Paste the provided code snippet here. "\n+            "It will be rendered as "\n+            "entered at the end of the head section of the page."\n+        ),\n+        default="",\n+        required=False,\n+    )\n+\n     webstats_js = schema.SourceText(\n-        title=_("JavaScript for web statistics support"),\n+        title=_("JavaScript integrations included after the footer"),\n         description=_(\n-            "For enabling web statistics support "\n+            "For enabling third-party javascript integrations "\n             "from external providers (e.g. Google "\n             "Analytics). Paste the provided code snippet here. "\n             "It will be rendered as "\n'

Repository: plone.base


Branch: refs/heads/main
Date: 2024-03-28T13:05:59Z
Author: Jean-Paul Ladage (jladage) <j.ladage@zestsoftware.nl>
Commit: https://github.com/plone/plone.base/commit/317376ea0f7f3d604f6f657f2bb28e626bdd10f3

Update src/plone/base/interfaces/controlpanel.py

spelling and grammar fixes

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M src/plone/base/interfaces/controlpanel.py

b'diff --git a/src/plone/base/interfaces/controlpanel.py b/src/plone/base/interfaces/controlpanel.py\nindex 91165c9..4192949 100644\n--- a/src/plone/base/interfaces/controlpanel.py\n+++ b/src/plone/base/interfaces/controlpanel.py\n@@ -1198,7 +1198,7 @@ class ISiteSchema(Interface):\n     webstats_head_js = schema.SourceText(\n         title=_("JavaScript integrations included in head section"),\n         description=_(\n-            "For enabling thrid party javascript integrations "\n+            "For enabling third-party JavaScript integrations "\n             "from external providers (e.g. Google "\n             "Analytics). Paste the provided code snippet here. "\n             "It will be rendered as "\n'

Repository: plone.base


Branch: refs/heads/main
Date: 2024-03-28T13:06:08Z
Author: Jean-Paul Ladage (jladage) <j.ladage@zestsoftware.nl>
Commit: https://github.com/plone/plone.base/commit/8ebeb3f7b7fa0a7f2b28b5f19ce5c8d00dc7bcf3

Update src/plone/base/interfaces/controlpanel.py

spelling and grammar fixes

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M src/plone/base/interfaces/controlpanel.py

b'diff --git a/src/plone/base/interfaces/controlpanel.py b/src/plone/base/interfaces/controlpanel.py\nindex 4192949..685ca63 100644\n--- a/src/plone/base/interfaces/controlpanel.py\n+++ b/src/plone/base/interfaces/controlpanel.py\n@@ -1200,7 +1200,7 @@ class ISiteSchema(Interface):\n         description=_(\n             "For enabling third-party JavaScript integrations "\n             "from external providers (e.g. Google "\n-            "Analytics). Paste the provided code snippet here. "\n+            "Analytics), paste the provided code snippet here. "\n             "It will be rendered as "\n             "entered at the end of the head section of the page."\n         ),\n'

Repository: plone.base


Branch: refs/heads/main
Date: 2024-03-28T13:06:15Z
Author: Jean-Paul Ladage (jladage) <j.ladage@zestsoftware.nl>
Commit: https://github.com/plone/plone.base/commit/5f660ace77b1330fd242ad236eceddf7a6208337

Update src/plone/base/interfaces/controlpanel.py

spelling and grammar fixes

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M src/plone/base/interfaces/controlpanel.py

b'diff --git a/src/plone/base/interfaces/controlpanel.py b/src/plone/base/interfaces/controlpanel.py\nindex 685ca63..6b5b8aa 100644\n--- a/src/plone/base/interfaces/controlpanel.py\n+++ b/src/plone/base/interfaces/controlpanel.py\n@@ -1211,7 +1211,7 @@ class ISiteSchema(Interface):\n     webstats_js = schema.SourceText(\n         title=_("JavaScript integrations included after the footer"),\n         description=_(\n-            "For enabling third-party javascript integrations "\n+            "For enabling third-party JavaScript integrations "\n             "from external providers (e.g. Google "\n             "Analytics). Paste the provided code snippet here. "\n             "It will be rendered as "\n'

Repository: plone.base


Branch: refs/heads/main
Date: 2024-03-28T13:06:34Z
Author: Jean-Paul Ladage (jladage) <j.ladage@zestsoftware.nl>
Commit: https://github.com/plone/plone.base/commit/340e4f62104306065360cc779deca44f76bbbb8a

Update src/plone/base/interfaces/controlpanel.py

spelling and grammar fixes

Co-authored-by: Steve Piercy &lt;web@stevepiercy.com&gt;

Files changed:
M src/plone/base/interfaces/controlpanel.py

b'diff --git a/src/plone/base/interfaces/controlpanel.py b/src/plone/base/interfaces/controlpanel.py\nindex 6b5b8aa..75fac7d 100644\n--- a/src/plone/base/interfaces/controlpanel.py\n+++ b/src/plone/base/interfaces/controlpanel.py\n@@ -1199,7 +1199,7 @@ class ISiteSchema(Interface):\n         title=_("JavaScript integrations included in head section"),\n         description=_(\n             "For enabling third-party JavaScript integrations "\n-            "from external providers (e.g. Google "\n+            "from external providers (e.g., Google "\n             "Analytics), paste the provided code snippet here. "\n             "It will be rendered as "\n             "entered at the end of the head section of the page."\n'

Repository: plone.base


Branch: refs/heads/main
Date: 2024-03-28T13:09:31Z
Author: Jean-Paul Ladage (jladage) <j.ladage@zestsoftware.nl>
Commit: https://github.com/plone/plone.base/commit/6466ef655307b6709163398941055f198e960e29

Add changelog entry.

Files changed:
A news/3931.feature

b'diff --git a/news/3931.feature b/news/3931.feature\nnew file mode 100644\nindex 0000000..709da78\n--- /dev/null\n+++ b/news/3931.feature\n@@ -0,0 +1,6 @@\n+Add a field ``webstats_head_js`` to the Site controlpanel and render its\n+contents in the head section using ``IScripts`` viewlet manager.\n+See `issue 3931 <https://github.com/plone/Products.CMFPlone/issues/3931>`_:\n+some javascript needs to be loaded at the bottom of the page, and some in the head section.\n+[jladage]\n+\n'

Repository: plone.base


Branch: refs/heads/main
Date: 2024-03-28T13:15:29Z
Author: Jean-Paul Ladage (jladage) <j.ladage@zestsoftware.nl>
Commit: https://github.com/plone/plone.base/commit/ad6e778051bf7275c4b13e613a0908974dca30a6

Update changelog entry to refer to correct viewlet manager.

Files changed:
M news/3931.feature

b'diff --git a/news/3931.feature b/news/3931.feature\nindex 709da78..d0d8beb 100644\n--- a/news/3931.feature\n+++ b/news/3931.feature\n@@ -1,5 +1,5 @@\n Add a field ``webstats_head_js`` to the Site controlpanel and render its\n-contents in the head section using ``IScripts`` viewlet manager.\n+contents in the head section using ``IHtmlHeadLinks`` viewlet manager.\n See `issue 3931 <https://github.com/plone/Products.CMFPlone/issues/3931>`_:\n some javascript needs to be loaded at the bottom of the page, and some in the head section.\n [jladage]\n'

Repository: plone.base


Branch: refs/heads/main
Date: 2024-04-23T09:53:17+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.base/commit/a618799cbfc5d45269eb7c80b12b89be7fbf0559

Merge pull request #60 from plone/3931.feature

Allow including js in head section

Files changed:
A news/3931.feature
M src/plone/base/interfaces/controlpanel.py

b'diff --git a/news/3931.feature b/news/3931.feature\nnew file mode 100644\nindex 0000000..d0d8beb\n--- /dev/null\n+++ b/news/3931.feature\n@@ -0,0 +1,6 @@\n+Add a field ``webstats_head_js`` to the Site controlpanel and render its\n+contents in the head section using ``IHtmlHeadLinks`` viewlet manager.\n+See `issue 3931 <https://github.com/plone/Products.CMFPlone/issues/3931>`_:\n+some javascript needs to be loaded at the bottom of the page, and some in the head section.\n+[jladage]\n+\ndiff --git a/src/plone/base/interfaces/controlpanel.py b/src/plone/base/interfaces/controlpanel.py\nindex e885166..73941ce 100644\n--- a/src/plone/base/interfaces/controlpanel.py\n+++ b/src/plone/base/interfaces/controlpanel.py\n@@ -1198,10 +1198,23 @@ class ISiteSchema(Interface):\n         required=False,\n     )\n \n+    webstats_head_js = schema.SourceText(\n+        title=_("JavaScript integrations included in head section"),\n+        description=_(\n+            "For enabling third-party JavaScript integrations "\n+            "from external providers (e.g., Google "\n+            "Analytics), paste the provided code snippet here. "\n+            "It will be rendered as "\n+            "entered at the end of the head section of the page."\n+        ),\n+        default="",\n+        required=False,\n+    )\n+\n     webstats_js = schema.SourceText(\n-        title=_("JavaScript for web statistics support"),\n+        title=_("JavaScript integrations included after the footer"),\n         description=_(\n-            "For enabling web statistics support "\n+            "For enabling third-party JavaScript integrations "\n             "from external providers (e.g. Google "\n             "Analytics). Paste the provided code snippet here. "\n             "It will be rendered as "\n'

