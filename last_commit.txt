Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2024-03-07T17:54:35-03:00
Author: wesleybl (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/plone.app.discussion/commit/3320e6f7d7781508fae7697be98bce1191f691d5

Fix test "Add a Comment to a Document and bulk delete it"

Fix test robot. Wait for the option is enable before
select it.

Files changed:
A news/227.internal
M plone/app/discussion/tests/robot/test_moderation.robot

b'diff --git a/news/227.internal b/news/227.internal\nnew file mode 100644\nindex 00000000..78102699\n--- /dev/null\n+++ b/news/227.internal\n@@ -0,0 +1 @@\n+Fix test "Add a Comment to a Document and bulk delete it" 2. @wesleybl\ndiff --git a/plone/app/discussion/tests/robot/test_moderation.robot b/plone/app/discussion/tests/robot/test_moderation.robot\nindex 38d7366f..be4f9c54 100644\n--- a/plone/app/discussion/tests/robot/test_moderation.robot\n+++ b/plone/app/discussion/tests/robot/test_moderation.robot\n@@ -61,7 +61,7 @@ I add a comment and delete it\n   Input Text  id=form-widgets-comment-text  This is a comment\n   Click Button  Comment\n   Go To  ${PLONE_URL}/@@moderate-comments?review_state=all\n-  Wait until page contains element  name=form.select.BulkAction\n+  Wait Until Element Is Enabled  css=option[value=delete]\n   Select from list by value   xpath://select[@name=\'form.select.BulkAction\']  delete\n   Select Checkbox  name=check_all\n   Wait For Then Click Element  css=button[name="form.button.BulkAction"]\n'

Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2024-03-08T00:16:25-03:00
Author: wesleybl (wesleybl) <wesleybl@gmail.com>
Commit: https://github.com/plone/plone.app.discussion/commit/73d47c5c8dca4fb79025fc8f8a27a92589e36ffa

Wait for all checkboxes to be selected

Files changed:
M plone/app/discussion/tests/robot/test_moderation.robot

b'diff --git a/plone/app/discussion/tests/robot/test_moderation.robot b/plone/app/discussion/tests/robot/test_moderation.robot\nindex be4f9c54..81018d72 100644\n--- a/plone/app/discussion/tests/robot/test_moderation.robot\n+++ b/plone/app/discussion/tests/robot/test_moderation.robot\n@@ -64,6 +64,7 @@ I add a comment and delete it\n   Wait Until Element Is Enabled  css=option[value=delete]\n   Select from list by value   xpath://select[@name=\'form.select.BulkAction\']  delete\n   Select Checkbox  name=check_all\n+  Sleep  1s\n   Wait For Then Click Element  css=button[name="form.button.BulkAction"]\n   Wait Until Page Does Not Contain  This is a comment\n \n'

Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2024-03-07T23:18:21-08:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/plone.app.discussion/commit/ea4858c0ac4669c62e70045ff2b4cf69f09c8683

Merge pull request #227 from plone/fix_robot

Fix test "Add a Comment to a Document and bulk delete it"

Files changed:
A news/227.internal
M plone/app/discussion/tests/robot/test_moderation.robot

b'diff --git a/news/227.internal b/news/227.internal\nnew file mode 100644\nindex 00000000..78102699\n--- /dev/null\n+++ b/news/227.internal\n@@ -0,0 +1 @@\n+Fix test "Add a Comment to a Document and bulk delete it" 2. @wesleybl\ndiff --git a/plone/app/discussion/tests/robot/test_moderation.robot b/plone/app/discussion/tests/robot/test_moderation.robot\nindex 38d7366f..81018d72 100644\n--- a/plone/app/discussion/tests/robot/test_moderation.robot\n+++ b/plone/app/discussion/tests/robot/test_moderation.robot\n@@ -61,9 +61,10 @@ I add a comment and delete it\n   Input Text  id=form-widgets-comment-text  This is a comment\n   Click Button  Comment\n   Go To  ${PLONE_URL}/@@moderate-comments?review_state=all\n-  Wait until page contains element  name=form.select.BulkAction\n+  Wait Until Element Is Enabled  css=option[value=delete]\n   Select from list by value   xpath://select[@name=\'form.select.BulkAction\']  delete\n   Select Checkbox  name=check_all\n+  Sleep  1s\n   Wait For Then Click Element  css=button[name="form.button.BulkAction"]\n   Wait Until Page Does Not Contain  This is a comment\n \n'

