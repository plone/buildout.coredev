diff -u --exclude-from=/home/xen/.exclude /home/xen/src/plone-coredev/plips/plipbase-review-rossp-tests.txt /home/xen/src/plone-coredev/plips/plip9330-review-rossp-tests.log
--- /home/xen/src/plone-coredev/plips/plipbase-review-rossp-tests.txt	2009-09-09 15:27:28.000000000 -0700
+++ /home/xen/src/plone-coredev/plips/plip9330-review-rossp-tests.log	2009-09-09 10:36:18.000000000 -0700
@@ -1,8 +1,16 @@
-$ bin/alltests 
+$ bin/alltests
 #### Running tests for group ATCT ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Products.CMFTestCase.layer.CMFSite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
-  Set up Products.CMFTestCase.layer.ZCML in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
+  Set up Products.CMFTestCase.layer.ZCML in # minutes # seconds.
   Set up Products.CMFTestCase.layer.CMFSite in # seconds.
   Running:
                   
@@ -11,42 +19,38 @@
   Tear down Products.CMFTestCase.layer.CMFSite in # seconds.
   Tear down Products.CMFTestCase.layer.ZCML in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
-    675/701 (96.3%)
-
-Error in test testUpgradeATCTTool (Products.ATContentTypes.tests.test_migrations.TestMigrations_v1_2)
-Traceback (most recent call last):
-  File "/usr/lib/python2.6/unittest.py", line 279, in run
-    testMethod()
-  File "/.../plone-coredev/src/Products.ATContentTypes/Products/ATContentTypes/tests/test_migrations.py", line 18, in testUpgradeATCTTool
-    upgradeATCTTool(self.portal, [])
-TypeError: upgradeATCTTool() takes exactly 1 argument (2 given)
-
-    676/701 (96.4%)
-
-Error in test testUpgradeATCTToolTwice (Products.ATContentTypes.tests.test_migrations.TestMigrations_v1_2)
-Traceback (most recent call last):
-  File "/usr/lib/python2.6/unittest.py", line 279, in run
-    testMethod()
-  File "/.../plone-coredev/src/Products.ATContentTypes/Products/ATContentTypes/tests/test_migrations.py", line 25, in testUpgradeATCTToolTwice
-    upgradeATCTTool(self.portal, [])
-TypeError: upgradeATCTTool() takes exactly 1 argument (2 given)
-
+    574/701 (81.9%)/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:101: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  for a in self.listActions():
                     
-  Ran 701 tests with 0 failures and 2 errors in # minutes # seconds.
+  Ran 701 tests with 0 failures and 0 errors in # minutes # seconds.
 Tearing down left over layers:
   Tear down Products.PloneTestCase.layer.PloneSite in # seconds.
   Tear down Products.PloneTestCase.layer.ZCML in # seconds.
   Tear down Testing.ZopeTestCase.layer.ZopeLite in # seconds.
-Total: 732 tests, 0 failures, 2 errors in # minutes # seconds.
+Total: 732 tests, 0 failures, 0 errors in # minutes # seconds.
 #### Finished tests for group ATCT ####
 
 #### Running tests for group Archetypes ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Failed to import ZPsycopgDA
 Failed to import ZMySQLDA
 Running Testing.ZopeTestCase.layer.ZopeLite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Running:
                   
   Ran 36 tests with 0 failures and 0 errors in # seconds.
@@ -59,11 +63,11 @@
 Running Products.Archetypes.tests.layer.ArchetypesSite tests:
   Set up Products.Archetypes.tests.layer.ArchetypesSite in # seconds.
   Running:
-    1/511 (0.2%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_classgen.Dummy.manage_afterAdd is discouraged. You should use event subscribers instead.
+    1/511 (0.2%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_classgen.Dummy.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    6/511 (1.2%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_annotation.AnnDummy.manage_afterAdd is discouraged. You should use event subscribers instead.
+    6/511 (1.2%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_annotation.AnnDummy.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    122/511 (23.9%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_event.Dummy.manage_afterAdd is discouraged. You should use event subscribers instead.
+    122/511 (23.9%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_event.Dummy.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
     436/511 (85.3%)
 
@@ -160,7 +164,13 @@
 Running Products.PloneTestCase.layer.PloneSite tests:
   Tear down Products.CMFTestCase.layer.ZCML in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
     12/22 (54.5%)
 
@@ -178,7 +188,7 @@
                       component_name='atxml')
 Exception raised:
     Traceback (most recent call last):
-      File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
         compileflags, 1) in test.globs
       File "<doctest README.txt[line 41, example 5]>", line 5, in <module>
         component_name='atxml')
@@ -199,7 +209,7 @@
     p.edit(element_ns=AT_NS, element_name='metadata', value=None)
 Exception raised:
     Traceback (most recent call last):
-      File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
         compileflags, 1) in test.globs
       File "<doctest README.txt[line 50, example 6]>", line 1, in <module>
         p.edit(element_ns=AT_NS, element_name='metadata', value=None)
@@ -224,7 +234,7 @@
     article.CreationDate()
 Differences (ndiff with -expected +actual):
     - '2004-01-01 00:02:04'
-    + '2009-09-09 12:47:56'
+    + '2009-09-09 09:45:35'
 ----------------------------------------------------------------------
 File "/.../plone-coredev/src/Products.Marshall/Products/Marshall/doc/README.txt", line 143, in README.txt
 Failed example:
@@ -378,9 +388,9 @@
   Tear down Testing.ZopeTestCase.layer.ZopeLite in # seconds.
   Set up zope.testing.testrunner.layer.UnitTests in # seconds.
   Running:
-    22/28 (78.6%)/usr/local/lib/python/site-packages/docutils-0.5-py2.6.egg/docutils/parsers/rst/__init__.py:178: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6
+    22/28 (78.6%)/.../plone-coredev/eggs/docutils-0.5-py2.6.egg/docutils/parsers/rst/__init__.py:178: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6
   self.message = message
-/usr/local/lib/python/site-packages/docutils-0.5-py2.6.egg/docutils/parsers/rst/states.py:2046: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6
+/.../plone-coredev/eggs/docutils-0.5-py2.6.egg/docutils/parsers/rst/states.py:2046: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6
   directive_error.message)
                   
   Ran 28 tests with 0 failures and 0 errors in # seconds.
@@ -475,20 +485,32 @@
 #### Finished tests for group CMF ####
 
 #### Running tests for group CMFEditions ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Testing.ZopeTestCase.layer.ZopeLite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Running:
                   
   Ran 27 tests with 0 failures and 0 errors in # seconds.
 Running Products.PloneTestCase.layer.PloneSite tests:
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.Archetypes/Products/Archetypes/ArchetypeTool.py:70: DeprecationWarning: package_home is deprecated. import from App.Common instead
-  from Globals import package_home
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
  in # seconds.
   Running:
-    72/143 (50.3%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.FAQ.FAQ.FAQ.manage_afterAdd is discouraged. You should use event subscribers instead.
+    72/143 (50.3%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.FAQ.FAQ.FAQ.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    74/143 (51.7%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.FAQ.FAQQuestion.FAQQuestion.manage_afterAdd is discouraged. You should use event subscribers instead.
+    74/143 (51.7%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.FAQ.FAQQuestion.FAQQuestion.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
                     
   Ran 143 tests with 0 failures and 0 errors in # minutes # seconds.
@@ -520,6 +542,14 @@
 #### Finished tests for group CMFEditions ####
 
 #### Running tests for group Plone ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:1: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import DTMLFile
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:2: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
 Running Testing.ZopeTestCase.layer.ZopeLite tests:
   Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
   Running:
@@ -539,9 +569,95 @@
                   
   Ran 12 tests with 0 failures and 0 errors in # seconds.
 Running Products.PloneTestCase.layer.PloneSite tests:
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+ in # seconds.
   Running:
-    416/1777 (23.4%)
+    53/1870 (2.8%)
+
+Failure in test test_MembershipTool_deleteMembers (Products.CMFPlone.tests.testCSRFProtection.AuthenticatorTestCase)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testCSRFProtection.py", line 101, in test_MembershipTool_deleteMembers
+    'member_ids:list=%s' % ptc.default_user)
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testCSRFProtection.py", line 33, in checkAuthenticator
+    self.assertEqual(response.getStatus(), status)
+  File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
+    (msg or '%r != %r' % (first, second))
+AssertionError: 500 != 200
+
+    55/1870 (2.9%)
+
+Failure in test test_PloneTool_acquireLocalRoles (Products.CMFPlone.tests.testCSRFProtection.AuthenticatorTestCase)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testCSRFProtection.py", line 51, in test_PloneTool_acquireLocalRoles
+    'use_acquisition:int=1', status=302)
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testCSRFProtection.py", line 33, in checkAuthenticator
+    self.assertEqual(response.getStatus(), status)
+  File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
+    (msg or '%r != %r' % (first, second))
+AssertionError: 500 != 302
+
+    291/1870 (15.6%)
+
+Error in test test_bug4333_delete_user_remove_memberdata (Products.CMFPlone.tests.testControlPanelScripts.TestPrefsUserManage)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testControlPanelScripts.py", line 140, in test_bug4333_delete_user_remove_memberdata
+    self.portal.prefs_user_manage(delete=['barney'])
+  File "/.../plone-coredev/src/Products.CMFFormController/Products/CMFFormController/FSControllerPythonScript.py", line 105, in __call__
+    result = FSControllerPythonScript.inheritedAttribute('__call__')(self, *args, **kwargs)
+  File "/.../plone-coredev/src/Products.CMFFormController/Products/CMFFormController/Script.py", line 145, in __call__
+    return BaseFSPythonScript.__call__(self, *args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/FSPythonScript.py", line 130, in __call__
+    return Script.__call__(self, *args, **kw)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Shared/DC/Scripts/Bindings.py", line 324, in __call__
+    return self._bindAndExec(args, kw, None)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Shared/DC/Scripts/Bindings.py", line 361, in _bindAndExec
+    return self._exec(bound_data, args, kw)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/PythonScripts/PythonScript.py", line 344, in _exec
+    result = f(*args, **kw)
+  File "Script (Python)", line 37, in prefs_user_manage
+   - Line 37
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 526, in deleteMembers
+    reindex=1, recursive=1 )
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 472, in deleteLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
+    300/1870 (16.0%)
+
+Failure in test test_prefsUserManager (Products.CMFPlone.tests.testControlPanelScripts.TestNoGETControlPanel)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testControlPanelScripts.py", line 80, in test_prefsUserManager
+    self._onlyPOST(path, qstring,success=302)
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testControlPanelScripts.py", line 38, in _onlyPOST
+    self.assertEqual(response.getStatus(), success)
+  File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
+    (msg or '%r != %r' % (first, second))
+AssertionError: 500 != 302
+
+    416/1870 (22.2%)
 
 Error in test testDoUpgrades (Products.CMFPlone.tests.testMigrationTool.TestMigrationTool)
 Traceback (most recent call last):
@@ -553,11 +669,42 @@
     step.doStep(self)
   File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/upgrade.py", line 141, in doStep
     self.handler(tool)
-  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v30/alphas.py", line 93, in three0_alpha1
-    upgradeATCTTool(portal, [])
-TypeError: upgradeATCTTool() takes exactly 1 argument (2 given)
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v25/__init__.py", line 11, in final_two51
+    loadMigrationProfile(context, 'profile-plone.app.upgrade.v25:2.5final-2.5.1')
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/utils.py", line 104, in loadMigrationProfile
+    context.runAllImportStepsFromProfile(profile, purge_old=False)
+  File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/tool.py", line 337, in runAllImportStepsFromProfile
+    self._createReport(name, result['steps'], result['messages'])
+   - __traceback_info__: profile-plone.app.upgrade.v25:2.5final-2.5.1
+  File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/tool.py", line 1153, in _createReport
+    self._setObject(name, file)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/ObjectManager.py", line 332, in _setObject
+    v = self._checkId(id)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/ObjectManager.py", line 116, in checkValidId
+    'The id "%s" is invalid - it is already in use.' % id)
+BadRequest: The id "import-all-profile-plone.app.upgrade.v25_2.5final-2.5.1-20090909165738.log" is invalid - it is already in use.
+
+    474/1870 (25.3%)
+
+Error in test testAddRAMCache (Products.CMFPlone.tests.testMigrations.TestMigrations_v3_0)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testMigrations.py", line 2266, in testAddRAMCache
+    self.failUnless(util.maxAge == 86400)
+AttributeError: 'NoneType' object has no attribute 'maxAge'
+
+    510/1870 (27.3%)
+
+Error in test test_bug9141 (Products.CMFPlone.tests.testMigrations.TestMigrations_v3_3)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testMigrations.py", line 2510, in test_bug9141
+    self.migration._upgrade('3.3rc3')
+AttributeError: _upgrade
 
-    878/1777 (49.4%)
+    970/1870 (51.9%)
 
 Failure in test testProcessLatin1 (Products.CMFPlone.tests.testUnicodeSplitter.TestSplitter)
 Traceback (most recent call last):
@@ -569,7 +716,7 @@
     (msg or '%r != %r' % (first, second))
 AssertionError: ['ffin', 'foo'] != ['\xc4ffin', 'foo']
 
-    881/1777 (49.6%)
+    973/1870 (52.0%)
 
 Failure in test testNormalizeLatin1 (Products.CMFPlone.tests.testUnicodeSplitter.TestCaseNormalizer)
 Traceback (most recent call last):
@@ -581,7 +728,239 @@
     (msg or '%r != %r' % (first, second))
 AssertionError: ['\xc4ffin'] != ['\xe4ffin']
 
-    1524/1777 (85.8%)
+    1484/1870 (79.4%)
+
+Failure in test /.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt
+Failed doctest test for usergroups.txt
+  File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 0
+
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 11, in usergroups.txt
+Failed example:
+    '@@usergroup-userprefs' in self.browser.url
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 29, in usergroups.txt
+Failed example:
+    'Autumn Brooks' in self.browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 35, in usergroups.txt
+Failed example:
+    'Gracie Adams' in self.browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 39, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 39, example 16]>", line 1, in <module>
+        self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.roles:list:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 41, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected = True
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 41, example 17]>", line 1, in <module>
+        self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected = True
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.roles:list:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 42, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.email:records').value
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 42, example 18]>", line 1, in <module>
+        self.browser.getControl(name='users.email:records').value
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.email:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 44, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.email:records').value = 'gracie@bar.com'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 44, example 19]>", line 1, in <module>
+        self.browser.getControl(name='users.email:records').value = 'gracie@bar.com'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.email:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 45, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='form.button.Modify').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 45, example 20]>", line 1, in <module>
+        self.browser.getControl(name='form.button.Modify').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'form.button.Modify'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 52, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 52, example 22]>", line 1, in <module>
+        self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.roles:list:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 54, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.email:records').value
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 54, example 23]>", line 1, in <module>
+        self.browser.getControl(name='users.email:records').value
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.email:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 58, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.resetpassword:records').value = True
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 58, example 24]>", line 1, in <module>
+        self.browser.getControl(name='users.resetpassword:records').value = True
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.resetpassword:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 59, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='form.button.Modify').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 59, example 25]>", line 1, in <module>
+        self.browser.getControl(name='form.button.Modify').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'form.button.Modify'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 62, in usergroups.txt
+Failed example:
+    'No mailhost defined. Unable to reset passwords.' in self.browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 84, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='delete:list').getControl(value='RwAO2YPa').selected = True
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 84, example 29]>", line 1, in <module>
+        self.browser.getControl(name='delete:list').getControl(value='RwAO2YPa').selected = True
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'delete:list'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 85, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='form.button.Modify').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 85, example 30]>", line 1, in <module>
+        self.browser.getControl(name='form.button.Modify').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'form.button.Modify'
+
+    1586/1870 (84.8%)
+
+Error in test test_transitionHistory (plone.app.layout.viewlets.tests.test_history.TestWorkflowHistoryViewlet)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/plone.app.layout/plone/app/layout/viewlets/tests/test_history.py", line 52, in test_transitionHistory
+    self.delMember('tempuser')
+  File "/.../plone-coredev/src/plone.app.layout/plone/app/layout/viewlets/tests/test_history.py", line 20, in delMember
+    self.portal.portal_membership.deleteMembers([username])
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 526, in deleteMembers
+    reindex=1, recursive=1 )
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 472, in deleteLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
+    1617/1870 (86.5%)
 
 Error in test testDoUpgrades (plone.app.upgrade.tests.test_upgrade.TestUpgrade)
 Traceback (most recent call last):
@@ -593,12 +972,57 @@
     step.doStep(self)
   File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/upgrade.py", line 141, in doStep
     self.handler(tool)
-  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v30/alphas.py", line 93, in three0_alpha1
-    upgradeATCTTool(portal, [])
-TypeError: upgradeATCTTool() takes exactly 1 argument (2 given)
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v30/alphas.py", line 102, in alpha1_alpha2
+    loadMigrationProfile(context, 'profile-plone.app.upgrade.v30:3.0a1-3.0a2')
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/utils.py", line 104, in loadMigrationProfile
+    context.runAllImportStepsFromProfile(profile, purge_old=False)
+  File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/tool.py", line 337, in runAllImportStepsFromProfile
+    self._createReport(name, result['steps'], result['messages'])
+   - __traceback_info__: profile-plone.app.upgrade.v30:3.0a1-3.0a2
+  File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/tool.py", line 1153, in _createReport
+    self._setObject(name, file)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/ObjectManager.py", line 332, in _setObject
+    v = self._checkId(id)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/ObjectManager.py", line 116, in checkValidId
+    'The id "%s" is invalid - it is already in use.' % id)
+BadRequest: The id "import-all-profile-plone.app.upgrade.v30_3.0a1-3.0a2-20090909170701.log" is invalid - it is already in use.
+
+    1635/1870 (87.4%)
+
+Failure in test testRegisterToolsAsUtilities (plone.app.upgrade.v30.tests.TestMigrations_v2_5_x)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v30/tests.py", line 480, in testRegisterToolsAsUtilities
+    self.failIf(sm.queryUtility(i) is None)
+  File "/usr/lib/python2.6/unittest.py", line 321, in failIf
+    if expr: raise self.failureException, msg
+AssertionError
+
+    1648/1870 (88.1%)
+
+Error in test testInstallKss (plone.app.upgrade.v30.tests.TestMigrations_v3_0_alpha1)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v30/tests.py", line 626, in testInstallKss
+    mt.manage_delObjects((mtid, ))
+  File "/.../plone-coredev/src/Products.MimetypesRegistry/Products/MimetypesRegistry/MimeTypesRegistry.py", line 421, in manage_delObjects
+    self.unregister(self.lookup(id)[0])
+IndexError: tuple index out of range
+
+    1705/1870 (91.2%)
+
+Error in test testMigrateControlPanelActionIcons (plone.app.upgrade.v40.tests.TestMigrations_v4_0alpha1)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v40/tests.py", line 97, in testMigrateControlPanelActionIcons
+    icon_expr=''
+TypeError: addAction() got an unexpected keyword argument 'icon_expr'
 
                       
-  Ran 1777 tests with 2 failures and 2 errors in # minutes # seconds.
+  Ran 1870 tests with 7 failures and 8 errors in # minutes # seconds.
 Running plone.app.contentrules.tests.test_configuration.TestContentrulesGSLayer tests:
   Set up plone.app.contentrules.tests.test_configuration.TestContentrulesGSLayer in # seconds.
   Running:
@@ -639,12 +1063,20 @@
   Ran 133 tests with 0 failures and 0 errors in # seconds.
 Tearing down left over layers:
   Tear down zope.testing.testrunner.layer.UnitTests in # seconds.
-Total: 2278 tests, 2 failures, 2 errors in # minutes # seconds.
+Total: 2371 tests, 7 failures, 8 errors in # minutes # seconds.
 #### Finished tests for group Plone ####
 
 #### Running tests for group PlonePAS ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Testing.ZopeTestCase.layer.ZopeLite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Running:
                     
   Ran 165 tests with 0 failures and 0 errors in # seconds.
@@ -654,11 +1086,43 @@
                   
   Ran 38 tests with 0 failures and 0 errors in # seconds.
 Running Products.PlonePAS.tests.layer.PlonePASLayer tests:
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Set up Products.PlonePAS.tests.layer.PlonePASLayer in # seconds.
   Running:
+    114/148 (77.0%)
+
+Error in test test_bug4333_delete_user_remove_memberdata (Products.PlonePAS.tests.test_membershiptool.TestMembershipTool)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Products.PlonePAS/Products/PlonePAS/tests/test_membershiptool.py", line 442, in test_bug4333_delete_user_remove_memberdata
+    self.membership.deleteMembers(['barney'])
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 526, in deleteMembers
+    reindex=1, recursive=1 )
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 472, in deleteLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
                     
-  Ran 148 tests with 0 failures and 0 errors in # seconds.
+  Ran 148 tests with 0 failures and 1 errors in # seconds.
 Running zope.testing.testrunner.layer.UnitTests tests:
   Tear down Products.PlonePAS.tests.layer.PlonePASLayer in # seconds.
   Tear down Products.PloneTestCase.layer.PloneSite in # seconds.
@@ -670,14 +1134,28 @@
   Ran 371 tests with 0 failures and 0 errors in # seconds.
 Tearing down left over layers:
   Tear down zope.testing.testrunner.layer.UnitTests in # seconds.
-Total: 722 tests, 0 failures, 0 errors in # minutes # seconds.
+Total: 722 tests, 0 failures, 1 errors in # minutes # seconds.
 #### Finished tests for group PlonePAS ####
 
 #### Running tests for group plone ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Products.PloneTestCase.layer.PloneSite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
     13/36 (36.1%)/.../plone-coredev/src/borg.localrole/borg/localrole/bbb/bbb.txt:1: DeprecationWarning: IWorkspace is deprecated. Please use borg.localrole.interfaces.ILocalRoleProvider instead
   =========
@@ -707,19 +1185,19 @@
   import multifile
 
 
-Error in test /usr/local/lib/python/site-packages/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/README.txt
+Error in test /.../plone-coredev/eggs/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/README.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/tests.py", line 24, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/tests.py", line 24, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -729,15 +1207,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -747,21 +1225,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -771,25 +1249,25 @@
     from xml.xpath import Util, Conversions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/Conversions.py", line 22, in <module>
     from xml.utils import boolean
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name boolean
 
     78/260 (30.0%)
 
-Error in test /usr/local/lib/python/site-packages/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/zcml.txt
+Error in test /.../plone-coredev/eggs/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/zcml.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/tests.py", line 24, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/tests.py", line 24, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -799,15 +1277,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -817,21 +1295,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -839,8 +1317,8 @@
     import CoreFunctions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/CoreFunctions.py", line 17, in <module>
     from xml.xpath import ExpandedNameWrapper
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name ExpandedNameWrapper
 
     259/260 (99.6%)Usage: A simple tool for basic configuration of Speech Dispatcher
@@ -869,17 +1347,17 @@
 test: error: no such option: --exit-with-status
 
 
-Failure in test /usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt
+Failure in test /.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
   File "/usr/lib/python2.6/doctest.py", line 2145, in runTest
     raise self.failureException(self.format_failure(new.getvalue()))
 AssertionError: Failed doctest test for dependency.txt
-  File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 0
+  File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 0
 
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 108, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 108, in dependency.txt
 Failed example:
     pprint(b_include_finder.includableInfo(['configure.zcml',
                                             'meta.zcml']))
@@ -889,9 +1367,9 @@
         compileflags, 1) in test.globs
       File "<doctest dependency.txt[25]>", line 2, in <module>
         'meta.zcml']))
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
         module = resolve(dotted_name)
-      File "/usr/local/lib/python/site-packages/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
+      File "/.../plone-coredev/eggs/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
         found = __import__(used)
       File "/usr/lib/python2.5/site-packages/speechd_config/__init__.py", line 17, in <module>
         from config import *
@@ -907,7 +1385,7 @@
         sys.exit(status)
     SystemExit: 2
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 126, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 126, in dependency.txt
 Failed example:
     dummy = xmlconfig.file(resource_filename('a', 'configure.zcml'),
                            package=a)
@@ -917,11 +1395,11 @@
         compileflags, 1) in test.globs
       File "<doctest dependency.txt[29]>", line 2, in <module>
         package=a)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 647, in file
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 647, in file
         include(context, name, package)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
         processxmlfile(f, context)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
         parser.parse(src)
       File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
         xmlreader.IncrementalParser.parse(self, source)
@@ -931,19 +1409,19 @@
         self._parser.Parse(data, isFinal)
       File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
         self._cont_handler.endElementNS(pair, None)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
         self.context.end()
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
         self.stack.pop().finish()
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
         actions = self.handler(context, **args)
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 54, in includeDependenciesDirective
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 54, in includeDependenciesDirective
         includeZCMLGroup(_context, info, 'configure.zcml')
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 30, in includeZCMLGroup
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 30, in includeZCMLGroup
         include(_context, filename, includable_package)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
         processxmlfile(f, context)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
         parser.parse(src)
       File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
         xmlreader.IncrementalParser.parse(self, source)
@@ -953,17 +1431,17 @@
         self._parser.Parse(data, isFinal)
       File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
         self._cont_handler.endElementNS(pair, None)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
         self.context.end()
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
         self.stack.pop().finish()
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
         actions = self.handler(context, **args)
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 51, in includeDependenciesDirective
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 51, in includeDependenciesDirective
         info = DependencyFinder(dist).includableInfo(['configure.zcml', 'meta.zcml'])
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
         module = resolve(dotted_name)
-      File "/usr/local/lib/python/site-packages/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
+      File "/.../plone-coredev/eggs/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
         found = __import__(used)
       File "/usr/lib/python2.5/site-packages/speechd_config/__init__.py", line 17, in <module>
         from config import *
@@ -979,7 +1457,7 @@
         sys.exit(status)
     SystemExit: 2
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 129, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 129, in dependency.txt
 Failed example:
     pprint(test_log)
 Expected:
@@ -989,7 +1467,7 @@
 Got:
     []
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 142, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 142, in dependency.txt
 Failed example:
     pprint(package_includes('BCPackage'))
 Exception raised:
@@ -998,11 +1476,11 @@
         compileflags, 1) in test.globs
       File "<doctest dependency.txt[33]>", line 1, in <module>
         pprint(package_includes('BCPackage'))
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 42, in package_includes
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 42, in package_includes
         return include_finder.includableInfo(zcml_filenames)
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
         module = resolve(dotted_name)
-      File "/usr/local/lib/python/site-packages/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
+      File "/.../plone-coredev/eggs/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
         found = __import__(used)
       File "/usr/lib/python2.5/site-packages/speechd_config/__init__.py", line 17, in <module>
         from config import *
@@ -1018,7 +1496,7 @@
         sys.exit(status)
     SystemExit: 2
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 149, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 149, in dependency.txt
 Failed example:
     pprint(package_includes('BCPackage', ['configure.zcml', 'silly.zcml']))
 Exception raised:
@@ -1027,11 +1505,11 @@
         compileflags, 1) in test.globs
       File "<doctest dependency.txt[34]>", line 1, in <module>
         pprint(package_includes('BCPackage', ['configure.zcml', 'silly.zcml']))
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 42, in package_includes
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 42, in package_includes
         return include_finder.includableInfo(zcml_filenames)
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
         module = resolve(dotted_name)
-      File "/usr/local/lib/python/site-packages/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
+      File "/.../plone-coredev/eggs/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
         found = __import__(used)
       File "/usr/lib/python2.5/site-packages/speechd_config/__init__.py", line 17, in <module>
         from config import *
@@ -1056,13 +1534,27 @@
 #### Finished tests for group plone ####
 
 #### Running tests for group portlets ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Products.PloneTestCase.layer.PloneSite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
                     
-  Ran 166 tests with 0 failures and 0 errors in # seconds.
+  Ran 166 tests with 0 failures and 0 errors in # minutes # seconds.
 Running plone.app.portlets.tests.test_configuration.TestPortletZCMLLayer tests:
   Set up plone.app.portlets.tests.test_configuration.TestPortletZCMLLayer in # seconds.
   Running:
@@ -1085,19 +1577,19 @@
   import multifile
 
 
-Error in test /usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/README.txt
+Error in test /.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/README.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1107,15 +1599,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1125,21 +1617,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -1149,25 +1641,25 @@
     from xml.xpath import Util, Conversions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/Conversions.py", line 22, in <module>
     from xml.utils import boolean
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name boolean
 
     45/54 (83.3%)
 
-Error in test /usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/uisupport.txt
+Error in test /.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/uisupport.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1177,15 +1669,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1195,21 +1687,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -1217,25 +1709,25 @@
     import CoreFunctions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/CoreFunctions.py", line 17, in <module>
     from xml.xpath import ExpandedNameWrapper
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name ExpandedNameWrapper
 
     51/54 (94.4%)
 
-Error in test /usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/utils.txt
+Error in test /.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/utils.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1245,15 +1737,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1263,21 +1755,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -1285,8 +1777,8 @@
     import CoreFunctions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/CoreFunctions.py", line 17, in <module>
     from xml.xpath import ExpandedNameWrapper
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name ExpandedNameWrapper
 
                   
@@ -1296,12 +1788,54 @@
 Total: 236 tests, 0 failures, 3 errors in # minutes # seconds.
 #### Finished tests for group portlets ####
 
+#### Running tests for PIL ####
+Total: 0 tests, 0 failures, 0 errors in # seconds.
+#### Finished tests for PIL ####
+
+#### Running tests for Products.AdvancedQuery ####
+/.../plone-coredev/eggs/Products.AdvancedQuery-3.0-py2.6.egg/Products/AdvancedQuery/__init__.py:10: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+Unable to locate Testing package. You might need to set SOFTWARE_HOME.
+Test-module import failures:
+
+Module: Products.AdvancedQuery.tests.testAdvancedQuery
+
+Traceback (most recent call last):
+  File "/.../plone-coredev/eggs/Products.AdvancedQuery-3.0-py2.6.egg/Products/AdvancedQuery/tests/testAdvancedQuery.py", line 9, in <module>
+    else: import framework
+  File "/.../plone-coredev/eggs/Products.AdvancedQuery-3.0-py2.6.egg/Products/AdvancedQuery/tests/framework.py", line 74, in <module>
+    sys.exit(1)
+SystemExit: 1
+
+
+
+Test-modules with import problems:
+  Products.AdvancedQuery.tests.testAdvancedQuery
+Total: 0 tests, 0 failures, 0 errors in # seconds.
+#### Finished tests for Products.AdvancedQuery ####
+
 #### Running tests for Products.CMFPlacefulWorkflow ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
+/.../plone-coredev/eggs/Products.AdvancedQuery-3.0-py2.6.egg/Products/AdvancedQuery/__init__.py:10: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
 Running Products.PloneTestCase.layer.PloneSite tests:
   Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
+    23/23 (100.0%)/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:101: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  for a in self.listActions():
                   
   Ran 23 tests with 0 failures and 0 errors in # seconds.
 Running Products.CMFPlacefulWorkflow.tests.test_exportimport.ExportImportLayer tests:
@@ -1323,8 +1857,38 @@
   Set up Products.CMFTestCase.layer.ZCML in # seconds.
   Set up Products.CMFTestCase.layer.CMFSite in # seconds.
   Running:
+    5/58 (8.6%)
+
+Error in test testDeleteLocalRoles (Products.CMFTestCase.testMembershipTool.TestMembershipTool)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Products.CMFTestCase/Products/CMFTestCase/testMembershipTool.py", line 220, in testDeleteLocalRoles
+    self.membership.setLocalRoles(self.folder, ['user2'], 'Reviewer')
+  File "<string>", line 4, in setLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 452, in setLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
+    18/58 (31.0%)
+
+Error in test testSetLocalRoles (Products.CMFTestCase.testMembershipTool.TestMembershipTool)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Products.CMFTestCase/Products/CMFTestCase/testMembershipTool.py", line 214, in testSetLocalRoles
+    self.membership.setLocalRoles(self.folder, [default_user, 'user2'], 'Reviewer')
+  File "<string>", line 4, in setLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 452, in setLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
                   
-  Ran 58 tests with 0 failures and 0 errors in # seconds.
+  Ran 58 tests with 0 failures and 2 errors in # seconds.
 Tearing down left over layers:
   Tear down Products.CMFTestCase.layer.CMFSite in # seconds.
   Tear down Products.CMFTestCase.layer.ZCML in # seconds.
@@ -1365,7 +1929,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 17:23:59 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1393,7 +1957,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 17:23:59 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1403,7 +1967,7 @@
     + auth:Basic dGVzdF91c2VyXzFfOnNlY3JldA==
       cookie:
     - lock-token:...
-    + lock-token:0.529687803814-0.294267478982-00105A989226:1252527852.912
+    + lock-token:0.238013946255-0.788082033333-00105A989226:1252517039.735
       <BLANKLINE>
       some content
 ----------------------------------------------------------------------
@@ -1423,7 +1987,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 17:23:59 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1433,7 +1997,7 @@
     + auth:Basic dGVzdF91c2VyXzFfOnNlY3JldA==
       cookie:
     - lock-token:...
-    + lock-token:0.529687803814-0.294267478982-00105A989226:1252527852.912
+    + lock-token:0.238013946255-0.788082033333-00105A989226:1252517039.735
       borrow_lock:1
       <BLANKLINE>
       some content
@@ -1451,7 +2015,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 17:23:59 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1476,7 +2040,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 17:23:59 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/another-file
       meta_type:Side Effects
@@ -1500,7 +2064,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 17:23:59 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1527,7 +2091,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 17:23:59 GMT
     + <BLANKLINE>
     +      -
     + 0=OPtnE[
@@ -1541,14 +2105,608 @@
   Tear down Testing.ZopeTestCase.layer.ZopeLite in # seconds.
 #### Finished tests for Products.ExternalEditor ####
 
+#### Running tests for Products.PDBDebugMode ####
+Total: 0 tests, 0 failures, 0 errors in # seconds.
+#### Finished tests for Products.PDBDebugMode ####
+
 #### Running tests for Products.PasswordResetTool ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Products.PloneTestCase.layer.PloneSite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
-                  
-  Ran 36 tests with 0 failures and 0 errors in # seconds.
+    36/36 (100.0%)/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:101: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  for a in self.listActions():
+
+
+Failure in test /.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt
+Failed doctest test for browser.txt
+  File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 0
+
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 110, in browser.txt
+Failed example:
+    browser.url
+Expected:
+    'http://nohost/plone/join_form'
+Got:
+    'http://nohost/plone/acl_users/credentials_cookie_auth/require_login?came_from=http%3A//nohost/plone/join_form'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 113, in browser.txt
+Failed example:
+    browser.getControl(name='username').value = 'jsmith'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 113, example 20]>", line 1, in <module>
+        browser.getControl(name='username').value = 'jsmith'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'username'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 114, in browser.txt
+Failed example:
+    browser.getControl(name='email').value = 'jsmith@example.com'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 114, example 21]>", line 1, in <module>
+        browser.getControl(name='email').value = 'jsmith@example.com'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'email'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 115, in browser.txt
+Failed example:
+    browser.getControl(name='password').value = 'secret'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 115, example 22]>", line 1, in <module>
+        browser.getControl(name='password').value = 'secret'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'password'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 116, in browser.txt
+Failed example:
+    browser.getControl(name='password_confirm').value = 'secret'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 116, example 23]>", line 1, in <module>
+        browser.getControl(name='password_confirm').value = 'secret'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'password_confirm'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 117, in browser.txt
+Failed example:
+    browser.getControl(name='form.button.Register').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 117, example 24]>", line 1, in <module>
+        browser.getControl(name='form.button.Register').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'form.button.Register'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 122, in browser.txt
+Failed example:
+    "You have been registered" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 133, in browser.txt
+Failed example:
+    "You are now logged in" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 138, in browser.txt
+Failed example:
+    browser.getLink('Log out').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 138, example 32]>", line 1, in <module>
+        browser.getLink('Log out').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 327, in getLink
+        return Link(self.mech_browser.find_link(**args), self)
+      File "/.../plone-coredev/eggs/mechanize-0.1.11-py2.6.egg/mechanize/_mechanize.py", line 626, in find_link
+        raise LinkNotFoundError()
+    LinkNotFoundError
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 139, in browser.txt
+Failed example:
+    "You are now logged out" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 158, in browser.txt
+Failed example:
+    len(mailhost.messages)
+Expected:
+    1
+Got:
+    0
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 160, in browser.txt
+Failed example:
+    msg = mailhost.messages[0]
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 160, example 42]>", line 1, in <module>
+        msg = mailhost.messages[0]
+    IndexError: list index out of range
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 165, in browser.txt
+Failed example:
+    "To: jsmith@example.com" in msg
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 165, example 43]>", line 1, in <module>
+        "To: jsmith@example.com" in msg
+    NameError: name 'msg' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 168, in browser.txt
+Failed example:
+    please_visit_text in msg
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 168, example 45]>", line 1, in <module>
+        please_visit_text in msg
+    NameError: name 'msg' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 170, in browser.txt
+Failed example:
+    url_index = msg.index(please_visit_text) + len(please_visit_text)
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 170, example 46]>", line 1, in <module>
+        url_index = msg.index(please_visit_text) + len(please_visit_text)
+    NameError: name 'msg' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 171, in browser.txt
+Failed example:
+    address = msg[url_index:].split()[0]
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 171, example 47]>", line 1, in <module>
+        address = msg[url_index:].split()[0]
+    NameError: name 'msg' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 172, in browser.txt
+Failed example:
+    address # doctest: +ELLIPSIS
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 172, example 48]>", line 1, in <module>
+        address # doctest: +ELLIPSIS
+    NameError: name 'address' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 177, in browser.txt
+Failed example:
+    browser.open(address)
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 177, example 49]>", line 1, in <module>
+        browser.open(address)
+    NameError: name 'address' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 178, in browser.txt
+Failed example:
+    "Set your password" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 181, in browser.txt
+Failed example:
+    form = browser.getForm(name='pwreset_action')
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 181, example 51]>", line 1, in <module>
+        form = browser.getForm(name='pwreset_action')
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 398, in getForm
+        form = disambiguate(matching_forms, '', index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 182, in browser.txt
+Failed example:
+    form.getControl(name='userid').value = 'jsmith'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 182, example 52]>", line 1, in <module>
+        form.getControl(name='userid').value = 'jsmith'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 752, in getControl
+        raise zope.testbrowser.interfaces.ExpiredError
+    ExpiredError
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 183, in browser.txt
+Failed example:
+    form.getControl(name='password').value = 'secretion'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 183, example 53]>", line 1, in <module>
+        form.getControl(name='password').value = 'secretion'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 752, in getControl
+        raise zope.testbrowser.interfaces.ExpiredError
+    ExpiredError
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 184, in browser.txt
+Failed example:
+    form.getControl(name='password2').value = 'secretion'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 184, example 54]>", line 1, in <module>
+        form.getControl(name='password2').value = 'secretion'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 752, in getControl
+        raise zope.testbrowser.interfaces.ExpiredError
+    ExpiredError
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 185, in browser.txt
+Failed example:
+    form.submit()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 185, example 55]>", line 1, in <module>
+        form.submit()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 729, in submit
+        raise zope.testbrowser.interfaces.ExpiredError
+    ExpiredError
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 189, in browser.txt
+Failed example:
+    "Your password has been set successfully." in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 191, in browser.txt
+Failed example:
+    browser.url
+Expected:
+    'http://nohost/plone/pwreset_finish'
+Got:
+    'http://nohost/plone/mail_password'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 200, in browser.txt
+Failed example:
+    "You are now logged in" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 205, in browser.txt
+Failed example:
+    browser.getLink('Log out').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 205, example 63]>", line 1, in <module>
+        browser.getLink('Log out').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 327, in getLink
+        return Link(self.mech_browser.find_link(**args), self)
+      File "/.../plone-coredev/eggs/mechanize-0.1.11-py2.6.egg/mechanize/_mechanize.py", line 626, in find_link
+        raise LinkNotFoundError()
+    LinkNotFoundError
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 206, in browser.txt
+Failed example:
+    "You are now logged out" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 289, in browser.txt
+Failed example:
+    browser.getControl(name='username').value = 'bsmith'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 289, example 99]>", line 1, in <module>
+        browser.getControl(name='username').value = 'bsmith'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'username'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 290, in browser.txt
+Failed example:
+    browser.getControl(name='email').value = 'bsmith@example.com'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 290, example 100]>", line 1, in <module>
+        browser.getControl(name='email').value = 'bsmith@example.com'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'email'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 301, in browser.txt
+Failed example:
+    browser.getControl(name='form.button.Register').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 301, example 102]>", line 1, in <module>
+        browser.getControl(name='form.button.Register').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'form.button.Register'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 302, in browser.txt
+Failed example:
+    "You have been registered" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 308, in browser.txt
+Failed example:
+    len(mailhost.messages)
+Expected:
+    2
+Got:
+    0
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 310, in browser.txt
+Failed example:
+    msg = str(mailhost.messages[-1])
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 310, example 106]>", line 1, in <module>
+        msg = str(mailhost.messages[-1])
+    IndexError: list index out of range
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 315, in browser.txt
+Failed example:
+    "To: bsmith@example.com" in msg
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 315, example 107]>", line 1, in <module>
+        "To: bsmith@example.com" in msg
+    NameError: name 'msg' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 318, in browser.txt
+Failed example:
+    please_visit_text in msg
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 318, example 109]>", line 1, in <module>
+        please_visit_text in msg
+    NameError: name 'msg' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 320, in browser.txt
+Failed example:
+    url_index = msg.index(please_visit_text) + len(please_visit_text)
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 320, example 110]>", line 1, in <module>
+        url_index = msg.index(please_visit_text) + len(please_visit_text)
+    NameError: name 'msg' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 321, in browser.txt
+Failed example:
+    address = msg[url_index:].split()[0]
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 321, example 111]>", line 1, in <module>
+        address = msg[url_index:].split()[0]
+    NameError: name 'msg' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 322, in browser.txt
+Failed example:
+    address # doctest: +ELLIPSIS
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 322, example 112]>", line 1, in <module>
+        address # doctest: +ELLIPSIS
+    NameError: name 'address' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 327, in browser.txt
+Failed example:
+    browser.open(address)
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 327, example 113]>", line 1, in <module>
+        browser.open(address)
+    NameError: name 'address' is not defined
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 328, in browser.txt
+Failed example:
+    "Please fill out the form below to set your password" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 330, in browser.txt
+Failed example:
+    browser.getControl(name='password').value = 'secret'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 330, example 115]>", line 1, in <module>
+        browser.getControl(name='password').value = 'secret'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'password'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 331, in browser.txt
+Failed example:
+    browser.getControl(name='password2').value = 'secret'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 331, example 116]>", line 1, in <module>
+        browser.getControl(name='password2').value = 'secret'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'password2'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 332, in browser.txt
+Failed example:
+    browser.getControl("Set my password").click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 332, example 117]>", line 1, in <module>
+        browser.getControl("Set my password").click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: label 'Set my password'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 333, in browser.txt
+Failed example:
+    "Your password has been set successfully." in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 342, in browser.txt
+Failed example:
+    "You are now logged in" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 347, in browser.txt
+Failed example:
+    browser.getLink('Log out').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest browser.txt[line 347, example 124]>", line 1, in <module>
+        browser.getLink('Log out').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 327, in getLink
+        return Link(self.mech_browser.find_link(**args), self)
+      File "/.../plone-coredev/eggs/mechanize-0.1.11-py2.6.egg/mechanize/_mechanize.py", line 626, in find_link
+        raise LinkNotFoundError()
+    LinkNotFoundError
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 348, in browser.txt
+Failed example:
+    "You are now logged out" in browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/Products.PasswordResetTool/Products/PasswordResetTool/tests/browser.txt", line 396, in browser.txt
+Failed example:
+    len(mailhost.messages)
+Expected:
+    3
+Got:
+    1
+
+
+  Ran 36 tests with 1 failures and 0 errors in # seconds.
 Tearing down left over layers:
   Tear down Products.PloneTestCase.layer.PloneSite in # seconds.
   Tear down Products.PloneTestCase.layer.ZCML in # seconds.
@@ -1556,10 +2714,24 @@
 #### Finished tests for Products.PasswordResetTool ####
 
 #### Running tests for Products.PloneTestCase ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Products.PloneTestCase.layer.PloneSite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
     19/59 (32.2%)/.../plone-coredev/src/Products.PlonePAS/Products/PlonePAS/tools/membership.py:553: DeprecationWarning: credentialsChanged should be called with 'REQUEST' as second argument. The BBB code will be removed in CMF 2.3.
   self.credentialsChanged(password, REQUEST=REQUEST)
@@ -1572,11 +2744,27 @@
 #### Finished tests for Products.PloneTestCase ####
 
 #### Running tests for Products.ResourceRegistries ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Products.PloneTestCase.layer.PloneSite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
+    90/239 (37.7%)/.../plone-coredev/src/Plone/Products/CMFPlone/exportimport/controlpanel.py:71: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actions = provider.listActions()
                     
   Ran 239 tests with 0 failures and 0 errors in # seconds.
 Running zope.testing.testrunner.layer.UnitTests tests:
@@ -1602,7 +2790,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1614,7 +2802,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1626,7 +2814,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1638,7 +2826,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1650,7 +2838,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1677,16 +2865,30 @@
 #### Finished tests for Products.i18ntestcase ####
 
 #### Running tests for Products.kupu ####
-/usr/local/lib/python/site-packages/Products.i18ntestcase-1.2-py2.6.egg/Products/i18ntestcase/PotTestCase.py:13: DeprecationWarning: The popen2 module is deprecated.  Use the subprocess module.
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
+/.../plone-coredev/eggs/Products.i18ntestcase-1.2-py2.6.egg/Products/i18ntestcase/PotTestCase.py:13: DeprecationWarning: The popen2 module is deprecated.  Use the subprocess module.
   from popen2 import popen4
 Running Testing.ZopeTestCase.layer.ZopeLite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Running:
                 
   Ran 3 tests with 0 failures and 0 errors in # seconds.
 Running Products.PloneTestCase.layer.PloneSite tests:
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
     336/371 (90.6%)
 
@@ -1791,6 +2993,16 @@
 Total: 382 tests, 4 failures, 0 errors in # minutes # seconds.
 #### Finished tests for Products.kupu ####
 
+#### Running tests for collective.monkeypatcher ####
+Running zope.testing.testrunner.layer.UnitTests tests:
+  Set up zope.testing.testrunner.layer.UnitTests in # seconds.
+  Running:
+                
+  Ran 4 tests with 0 failures and 0 errors in # seconds.
+Tearing down left over layers:
+  Tear down zope.testing.testrunner.layer.UnitTests in # seconds.
+#### Finished tests for collective.monkeypatcher ####
+
 #### Running tests for five.customerize ####
 Running Testing.ZopeTestCase.layer.ZopeLite tests:
   Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
@@ -1841,10 +3053,24 @@
 #### Finished tests for plone.app.locales ####
 
 #### Running tests for plone.app.openid ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Products.PloneTestCase.layer.PloneSite tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
-  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
+ in # seconds.
   Running:
                 
   Ran 3 tests with 0 failures and 0 errors in # seconds.
@@ -1855,8 +3081,16 @@
 #### Finished tests for plone.app.openid ####
 
 #### Running tests for wicked ####
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:10: DeprecationWarning: ISite is deprecated. Moved to zope.location.interfaces. Importing from here will stop working in Zope 3.6
+  from zope.app.component.interfaces import ISite
+/.../plone-coredev/src/Plone/Products/CMFPlone/migrations/v3_0/alphas.py:16: DeprecationWarning: package_home is deprecated. import from App.Common instead
+  from Globals import package_home
 Running Products.PloneTestCase.layer.ZCML tests:
-  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Testing.ZopeTestCase.layer.ZopeLite/.../plone-coredev/src/Plone/Products/CMFPlone/LargePloneFolder.py:3: DeprecationWarning: InitializeClass is deprecated. import from App.class_init instead
+  from Globals import InitializeClass
+/.../plone-coredev/src/Plone/Products/CMFPlone/MigrationTool.py:9: DeprecationWarning: DTMLFile is deprecated. import from App.special_dtml instead
+  from Globals import InitializeClass, DTMLFile, DevelopmentMode
+ in # seconds.
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
   Running:
     12/16 (75.0%)/.../plone-coredev/src/wicked/wicked/cache.py:34: DeprecationWarning: object.__init__() takes no parameters
@@ -1864,16 +3098,20 @@
                   
   Ran 16 tests with 0 failures and 0 errors in # seconds.
 Running wicked.at.tests.wickedtestcase.WickedSite tests:
-  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.Archetypes/Products/Archetypes/ArchetypeTool.py:70: DeprecationWarning: package_home is deprecated. import from App.Common instead
-  from Globals import package_home
+  Set up Products.PloneTestCase.layer.PloneSite/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf refers to a non-existing path 'Products.GroupUserFolder:skins/gruf'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/DirectoryView.py:491: UserWarning: DirectoryView gruf_plone_2_0 refers to a non-existing path 'Products.GroupUserFolder:skins/gruf_plone_2_0'
+  (self.id, reg_key), UserWarning)
+/.../plone-coredev/src/Plone/Products/CMFPlone/PloneControlPanel.py:121: DeprecationWarning: Old-style actions are deprecated and will be removed in CMF 2.4. Use Action and Action Category objects instead.
+  actids= [o.id for o in self.listActions()]
  in # seconds.
   Set up wicked.at.tests.wickedtestcase.WickedSite in # seconds.
   Running:
-    1/23 (4.3%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_afterAdd is discouraged. You should use event subscribers instead.
+    1/23 (4.3%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    5/23 (21.7%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_beforeDelete is discouraged. You should use event subscribers instead.
+    5/23 (21.7%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_beforeDelete is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    13/23 (56.5%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_afterClone is discouraged. You should use event subscribers instead.
+    13/23 (56.5%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_afterClone is discouraged. You should use event subscribers instead.
   DeprecationWarning)
                   
   Ran 23 tests with 0 failures and 0 errors in # seconds.
@@ -1914,29 +3152,34 @@
 
 Total time elapsed: # seconds
 
-Failing tests in group ATCT
 Failing tests in group Archetypes
 Failing tests in group Plone
+Failing tests in group PlonePAS
 Failing tests in group plone
 Failing tests in group portlets
+Failing tests in Products.AdvancedQuery
+Failing tests in Products.CMFTestCase
 Failing tests in Products.ExternalEditor
+Failing tests in Products.PasswordResetTool
 Failing tests in Products.SecureMailHost
 Failing tests in Products.kupu
 #### End test results ####
 
-$ grep ' [1-9][0-9]* \(failures\|errors\)' plips/plipbase-review-rossp-tests.txt
-  Ran 701 tests with 0 failures and 2 errors in # minutes # seconds.
-Total: 732 tests, 0 failures, 2 errors in # minutes # seconds.
+$ grep ' [1-9][0-9]* \(failures\|errors\)' plips/plip9330-review-rossp-tests.log
   Ran 511 tests with 4 failures and 0 errors in # minutes # seconds.
   Ran 22 tests with 3 failures and 0 errors in # seconds.
 Total: 675 tests, 7 failures, 0 errors in # minutes # seconds.
-  Ran 1777 tests with 2 failures and 2 errors in # minutes # seconds.
-Total: 2278 tests, 2 failures, 2 errors in # minutes # seconds.
+  Ran 1870 tests with 7 failures and 8 errors in # minutes # seconds.
+Total: 2371 tests, 7 failures, 8 errors in # minutes # seconds.
+  Ran 148 tests with 0 failures and 1 errors in # seconds.
+Total: 722 tests, 0 failures, 1 errors in # minutes # seconds.
   Ran 260 tests with 1 failures and 2 errors in # minutes # seconds.
 Total: 310 tests, 1 failures, 2 errors in # minutes # seconds.
   Ran 54 tests with 0 failures and 3 errors in # seconds.
 Total: 236 tests, 0 failures, 3 errors in # minutes # seconds.
+  Ran 58 tests with 0 failures and 2 errors in # seconds.
   Ran 16 tests with 1 failures and 0 errors in # seconds.
+  Ran 36 tests with 1 failures and 0 errors in # seconds.
   Ran 8 tests with 5 failures and 0 errors in # seconds.
   Ran 371 tests with 4 failures and 0 errors in # minutes # seconds.
-Total: 382 tests, 4 failures, 0 errors in # minutes # seconds.
+Total: 382 tests, 4 failures, 0 errors in # minutes # seconds.
\ No newline at end of file

Diff finished.  Wed Sep  9 15:30:10 2009
