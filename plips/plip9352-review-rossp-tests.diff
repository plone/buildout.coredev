diff -u --exclude-from=/home/xen/.exclude /home/xen/src/plone-coredev/plips/plipbase-review-rossp-tests.txt /home/xen/src/plone-coredev/plips/plip9352-review-rossp-tests.log
--- /home/xen/src/plone-coredev/plips/plipbase-review-rossp-tests.txt	2009-09-09 15:27:28.000000000 -0700
+++ /home/xen/src/plone-coredev/plips/plip9352-review-rossp-tests.log	2009-09-09 11:53:54.000000000 -0700
@@ -13,33 +13,13 @@
   Set up Products.PloneTestCase.layer.ZCML in # seconds.
   Set up Products.PloneTestCase.layer.PloneSite in # seconds.
   Running:
-    675/701 (96.3%)
-
-Error in test testUpgradeATCTTool (Products.ATContentTypes.tests.test_migrations.TestMigrations_v1_2)
-Traceback (most recent call last):
-  File "/usr/lib/python2.6/unittest.py", line 279, in run
-    testMethod()
-  File "/.../plone-coredev/src/Products.ATContentTypes/Products/ATContentTypes/tests/test_migrations.py", line 18, in testUpgradeATCTTool
-    upgradeATCTTool(self.portal, [])
-TypeError: upgradeATCTTool() takes exactly 1 argument (2 given)
-
-    676/701 (96.4%)
-
-Error in test testUpgradeATCTToolTwice (Products.ATContentTypes.tests.test_migrations.TestMigrations_v1_2)
-Traceback (most recent call last):
-  File "/usr/lib/python2.6/unittest.py", line 279, in run
-    testMethod()
-  File "/.../plone-coredev/src/Products.ATContentTypes/Products/ATContentTypes/tests/test_migrations.py", line 25, in testUpgradeATCTToolTwice
-    upgradeATCTTool(self.portal, [])
-TypeError: upgradeATCTTool() takes exactly 1 argument (2 given)
-
                     
-  Ran 701 tests with 0 failures and 2 errors in # minutes # seconds.
+  Ran 701 tests with 0 failures and 0 errors in # minutes # seconds.
 Tearing down left over layers:
   Tear down Products.PloneTestCase.layer.PloneSite in # seconds.
   Tear down Products.PloneTestCase.layer.ZCML in # seconds.
   Tear down Testing.ZopeTestCase.layer.ZopeLite in # seconds.
-Total: 732 tests, 0 failures, 2 errors in # minutes # seconds.
+Total: 732 tests, 0 failures, 0 errors in # minutes # seconds.
 #### Finished tests for group ATCT ####
 
 #### Running tests for group Archetypes ####
@@ -59,11 +39,11 @@
 Running Products.Archetypes.tests.layer.ArchetypesSite tests:
   Set up Products.Archetypes.tests.layer.ArchetypesSite in # seconds.
   Running:
-    1/511 (0.2%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_classgen.Dummy.manage_afterAdd is discouraged. You should use event subscribers instead.
+    1/511 (0.2%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_classgen.Dummy.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    6/511 (1.2%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_annotation.AnnDummy.manage_afterAdd is discouraged. You should use event subscribers instead.
+    6/511 (1.2%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_annotation.AnnDummy.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    122/511 (23.9%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_event.Dummy.manage_afterAdd is discouraged. You should use event subscribers instead.
+    122/511 (23.9%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.Archetypes.tests.test_event.Dummy.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
     436/511 (85.3%)
 
@@ -178,7 +158,7 @@
                       component_name='atxml')
 Exception raised:
     Traceback (most recent call last):
-      File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
         compileflags, 1) in test.globs
       File "<doctest README.txt[line 41, example 5]>", line 5, in <module>
         component_name='atxml')
@@ -199,7 +179,7 @@
     p.edit(element_ns=AT_NS, element_name='metadata', value=None)
 Exception raised:
     Traceback (most recent call last):
-      File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
         compileflags, 1) in test.globs
       File "<doctest README.txt[line 50, example 6]>", line 1, in <module>
         p.edit(element_ns=AT_NS, element_name='metadata', value=None)
@@ -224,7 +204,7 @@
     article.CreationDate()
 Differences (ndiff with -expected +actual):
     - '2004-01-01 00:02:04'
-    + '2009-09-09 12:47:56'
+    + '2009-09-09 10:59:28'
 ----------------------------------------------------------------------
 File "/.../plone-coredev/src/Products.Marshall/Products/Marshall/doc/README.txt", line 143, in README.txt
 Failed example:
@@ -378,9 +358,9 @@
   Tear down Testing.ZopeTestCase.layer.ZopeLite in # seconds.
   Set up zope.testing.testrunner.layer.UnitTests in # seconds.
   Running:
-    22/28 (78.6%)/usr/local/lib/python/site-packages/docutils-0.5-py2.6.egg/docutils/parsers/rst/__init__.py:178: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6
+    22/28 (78.6%)/.../plone-coredev/eggs/docutils-0.5-py2.6.egg/docutils/parsers/rst/__init__.py:178: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6
   self.message = message
-/usr/local/lib/python/site-packages/docutils-0.5-py2.6.egg/docutils/parsers/rst/states.py:2046: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6
+/.../plone-coredev/eggs/docutils-0.5-py2.6.egg/docutils/parsers/rst/states.py:2046: DeprecationWarning: BaseException.message has been deprecated as of Python 2.6
   directive_error.message)
                   
   Ran 28 tests with 0 failures and 0 errors in # seconds.
@@ -486,9 +466,9 @@
   from Globals import package_home
  in # seconds.
   Running:
-    72/143 (50.3%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.FAQ.FAQ.FAQ.manage_afterAdd is discouraged. You should use event subscribers instead.
+    72/143 (50.3%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.FAQ.FAQ.FAQ.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    74/143 (51.7%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: Products.FAQ.FAQQuestion.FAQQuestion.manage_afterAdd is discouraged. You should use event subscribers instead.
+    74/143 (51.7%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: Products.FAQ.FAQQuestion.FAQQuestion.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
                     
   Ran 143 tests with 0 failures and 0 errors in # minutes # seconds.
@@ -541,23 +521,89 @@
 Running Products.PloneTestCase.layer.PloneSite tests:
   Set up Products.PloneTestCase.layer.PloneSite in # seconds.
   Running:
-    416/1777 (23.4%)
+    53/1776 (3.0%)
+
+Failure in test test_MembershipTool_deleteMembers (Products.CMFPlone.tests.testCSRFProtection.AuthenticatorTestCase)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testCSRFProtection.py", line 101, in test_MembershipTool_deleteMembers
+    'member_ids:list=%s' % ptc.default_user)
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testCSRFProtection.py", line 33, in checkAuthenticator
+    self.assertEqual(response.getStatus(), status)
+  File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
+    (msg or '%r != %r' % (first, second))
+AssertionError: 500 != 200
+
+    55/1776 (3.1%)
+
+Failure in test test_PloneTool_acquireLocalRoles (Products.CMFPlone.tests.testCSRFProtection.AuthenticatorTestCase)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testCSRFProtection.py", line 51, in test_PloneTool_acquireLocalRoles
+    'use_acquisition:int=1', status=302)
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testCSRFProtection.py", line 33, in checkAuthenticator
+    self.assertEqual(response.getStatus(), status)
+  File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
+    (msg or '%r != %r' % (first, second))
+AssertionError: 500 != 302
+
+    291/1776 (16.4%)
 
-Error in test testDoUpgrades (Products.CMFPlone.tests.testMigrationTool.TestMigrationTool)
+Error in test test_bug4333_delete_user_remove_memberdata (Products.CMFPlone.tests.testControlPanelScripts.TestPrefsUserManage)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testControlPanelScripts.py", line 140, in test_bug4333_delete_user_remove_memberdata
+    self.portal.prefs_user_manage(delete=['barney'])
+  File "/.../plone-coredev/src/Products.CMFFormController/Products/CMFFormController/FSControllerPythonScript.py", line 105, in __call__
+    result = FSControllerPythonScript.inheritedAttribute('__call__')(self, *args, **kwargs)
+  File "/.../plone-coredev/src/Products.CMFFormController/Products/CMFFormController/Script.py", line 145, in __call__
+    return BaseFSPythonScript.__call__(self, *args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/FSPythonScript.py", line 130, in __call__
+    return Script.__call__(self, *args, **kw)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Shared/DC/Scripts/Bindings.py", line 324, in __call__
+    return self._bindAndExec(args, kw, None)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Shared/DC/Scripts/Bindings.py", line 361, in _bindAndExec
+    return self._exec(bound_data, args, kw)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/PythonScripts/PythonScript.py", line 344, in _exec
+    result = f(*args, **kw)
+  File "Script (Python)", line 37, in prefs_user_manage
+   - Line 37
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 526, in deleteMembers
+    reindex=1, recursive=1 )
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 472, in deleteLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
+    300/1776 (16.9%)
+
+Failure in test test_prefsUserManager (Products.CMFPlone.tests.testControlPanelScripts.TestNoGETControlPanel)
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testMigrationTool.py", line 57, in testDoUpgrades
-    self.setup.manage_doUpgrades(request=request)
-  File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/tool.py", line 880, in manage_doUpgrades
-    step.doStep(self)
-  File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/upgrade.py", line 141, in doStep
-    self.handler(tool)
-  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v30/alphas.py", line 93, in three0_alpha1
-    upgradeATCTTool(portal, [])
-TypeError: upgradeATCTTool() takes exactly 1 argument (2 given)
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testControlPanelScripts.py", line 80, in test_prefsUserManager
+    self._onlyPOST(path, qstring,success=302)
+  File "/.../plone-coredev/src/Plone/Products/CMFPlone/tests/testControlPanelScripts.py", line 38, in _onlyPOST
+    self.assertEqual(response.getStatus(), success)
+  File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
+    (msg or '%r != %r' % (first, second))
+AssertionError: 500 != 302
 
-    878/1777 (49.4%)
+    879/1776 (49.5%)
 
 Failure in test testProcessLatin1 (Products.CMFPlone.tests.testUnicodeSplitter.TestSplitter)
 Traceback (most recent call last):
@@ -569,7 +615,7 @@
     (msg or '%r != %r' % (first, second))
 AssertionError: ['ffin', 'foo'] != ['\xc4ffin', 'foo']
 
-    881/1777 (49.6%)
+    882/1776 (49.7%)
 
 Failure in test testNormalizeLatin1 (Products.CMFPlone.tests.testUnicodeSplitter.TestCaseNormalizer)
 Traceback (most recent call last):
@@ -581,24 +627,274 @@
     (msg or '%r != %r' % (first, second))
 AssertionError: ['\xc4ffin'] != ['\xe4ffin']
 
-    1524/1777 (85.8%)
+    1392/1776 (78.4%)
+
+Failure in test /.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt
+Failed doctest test for usergroups.txt
+  File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 0
+
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 11, in usergroups.txt
+Failed example:
+    '@@usergroup-userprefs' in self.browser.url
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 29, in usergroups.txt
+Failed example:
+    'Autumn Brooks' in self.browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 35, in usergroups.txt
+Failed example:
+    'Gracie Adams' in self.browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 39, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 39, example 16]>", line 1, in <module>
+        self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.roles:list:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 41, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected = True
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 41, example 17]>", line 1, in <module>
+        self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected = True
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.roles:list:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 42, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.email:records').value
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 42, example 18]>", line 1, in <module>
+        self.browser.getControl(name='users.email:records').value
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.email:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 44, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.email:records').value = 'gracie@bar.com'
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 44, example 19]>", line 1, in <module>
+        self.browser.getControl(name='users.email:records').value = 'gracie@bar.com'
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.email:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 45, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='form.button.Modify').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 45, example 20]>", line 1, in <module>
+        self.browser.getControl(name='form.button.Modify').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'form.button.Modify'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 52, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 52, example 22]>", line 1, in <module>
+        self.browser.getControl(name='users.roles:list:records').getControl(value='Contributor').selected
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.roles:list:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 54, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.email:records').value
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 54, example 23]>", line 1, in <module>
+        self.browser.getControl(name='users.email:records').value
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.email:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 58, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='users.resetpassword:records').value = True
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 58, example 24]>", line 1, in <module>
+        self.browser.getControl(name='users.resetpassword:records').value = True
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'users.resetpassword:records'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 59, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='form.button.Modify').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 59, example 25]>", line 1, in <module>
+        self.browser.getControl(name='form.button.Modify').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'form.button.Modify'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 62, in usergroups.txt
+Failed example:
+    'No mailhost defined. Unable to reset passwords.' in self.browser.contents
+Expected:
+    True
+Got:
+    False
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 84, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='delete:list').getControl(value='RwAO2YPa').selected = True
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 84, example 29]>", line 1, in <module>
+        self.browser.getControl(name='delete:list').getControl(value='RwAO2YPa').selected = True
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'delete:list'
+----------------------------------------------------------------------
+File "/.../plone-coredev/src/plone.app.controlpanel/plone/app/controlpanel/tests/usergroups.txt", line 85, in usergroups.txt
+Failed example:
+    self.browser.getControl(name='form.button.Modify').click()
+Exception raised:
+    Traceback (most recent call last):
+      File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 1361, in __run
+        compileflags, 1) in test.globs
+      File "<doctest usergroups.txt[line 85, example 30]>", line 1, in <module>
+        self.browser.getControl(name='form.button.Modify').click()
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 366, in getControl
+        control, form = disambiguate(intermediate, msg, index)
+      File "/.../plone-coredev/eggs/zope.testbrowser-3.6.0a2-py2.6.egg/zope/testbrowser/browser.py", line 54, in disambiguate
+        raise LookupError(msg)
+    LookupError: name 'form.button.Modify'
+
+    1492/1776 (84.0%)
+
+Error in test test_transitionHistory (plone.app.layout.viewlets.tests.test_history.TestWorkflowHistoryViewlet)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/plone.app.layout/plone/app/layout/viewlets/tests/test_history.py", line 52, in test_transitionHistory
+    self.delMember('tempuser')
+  File "/.../plone-coredev/src/plone.app.layout/plone/app/layout/viewlets/tests/test_history.py", line 20, in delMember
+    self.portal.portal_membership.deleteMembers([username])
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 526, in deleteMembers
+    reindex=1, recursive=1 )
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 472, in deleteLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
+    1541/1776 (86.8%)
 
-Error in test testDoUpgrades (plone.app.upgrade.tests.test_upgrade.TestUpgrade)
+Failure in test testRegisterToolsAsUtilities (plone.app.upgrade.v30.tests.TestMigrations_v2_5_x)
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/tests/test_upgrade.py", line 45, in testDoUpgrades
-    self.setup.manage_doUpgrades(request=request)
-  File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/tool.py", line 880, in manage_doUpgrades
-    step.doStep(self)
-  File "/.../plone-coredev/src/Products.GenericSetup/Products/GenericSetup/upgrade.py", line 141, in doStep
-    self.handler(tool)
-  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v30/alphas.py", line 93, in three0_alpha1
-    upgradeATCTTool(portal, [])
-TypeError: upgradeATCTTool() takes exactly 1 argument (2 given)
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v30/tests.py", line 480, in testRegisterToolsAsUtilities
+    self.failIf(sm.queryUtility(i) is None)
+  File "/usr/lib/python2.6/unittest.py", line 321, in failIf
+    if expr: raise self.failureException, msg
+AssertionError
+
+    1554/1776 (87.5%)
+
+Error in test testInstallKss (plone.app.upgrade.v30.tests.TestMigrations_v3_0_alpha1)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v30/tests.py", line 626, in testInstallKss
+    mt.manage_delObjects((mtid, ))
+  File "/.../plone-coredev/src/Products.MimetypesRegistry/Products/MimetypesRegistry/MimeTypesRegistry.py", line 421, in manage_delObjects
+    self.unregister(self.lookup(id)[0])
+IndexError: tuple index out of range
+
+    1611/1776 (90.7%)
+
+Error in test testMigrateControlPanelActionIcons (plone.app.upgrade.v40.tests.TestMigrations_v4_0alpha1)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/plone.app.upgrade/plone/app/upgrade/v40/tests.py", line 97, in testMigrateControlPanelActionIcons
+    icon_expr=''
+TypeError: addAction() got an unexpected keyword argument 'icon_expr'
 
                       
-  Ran 1777 tests with 2 failures and 2 errors in # minutes # seconds.
+  Ran 1776 tests with 7 failures and 4 errors in # minutes # seconds.
 Running plone.app.contentrules.tests.test_configuration.TestContentrulesGSLayer tests:
   Set up plone.app.contentrules.tests.test_configuration.TestContentrulesGSLayer in # seconds.
   Running:
@@ -614,8 +910,272 @@
   Tear down plone.app.customerize.tests.layer.PloneCustomerize in # seconds.
   Set up plone.app.kss.tests.kss_and_plone_layer.KSSAndPloneLayer in # seconds.
   Running:
+    12/13 (92.3%)
+
+Error in test test_update_of_nav_portlet (plone.app.kss.tests.test_part_reloading.TestPortletReloading)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/plone.app.kss/plone/app/kss/tests/test_part_reloading.py", line 62, in test_update_of_nav_portlet
+    attributesTriggerNavigationPortletReload(folder, self.view, modified_event)
+  File "/.../plone-coredev/src/plone.app.kss/plone/app/kss/portlets.py", line 20, in attributesTriggerNavigationPortletReload
+    portletReloader.reloadPortletsByInterface(INavigationPortlet)
+  File "/.../plone-coredev/src/plone.app.kss/plone/app/kss/portlets.py", line 58, in reloadPortletsByInterface
+    self.reloadPortletByInfo(info)
+  File "/.../plone-coredev/src/plone.app.kss/plone/app/kss/portlets.py", line 70, in reloadPortletByInfo
+    result = renderer.render()
+  File "/.../plone-coredev/src/plone.app.portlets/plone/app/portlets/portlets/navigation.py", line 211, in render
+    return self._template()
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/Five/browser/pagetemplatefile.py", line 126, in __call__
+    return self.im_func(im_self, *args, **kw)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/Five/browser/pagetemplatefile.py", line 60, in __call__
+    sourceAnnotations=getattr(debug_flags, 'sourceAnnotations', 0),
+  File "/.../plone-coredev/eggs/zope.pagetemplate-3.5.0-py2.6.egg/zope/pagetemplate/pagetemplate.py", line 115, in pt_render
+    strictinsert=0, sourceAnnotations=sourceAnnotations)()
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 271, in __call__
+    self.interpret(self.program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 533, in do_optTag_tal
+    self.do_optTag(stuff)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 518, in do_optTag
+    return self.no_tag(start, program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 513, in no_tag
+    self.interpret(program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 531, in do_optTag_tal
+    self.no_tag(stuff[-2], stuff[-1])
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 513, in no_tag
+    self.interpret(program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 742, in do_insertStructure_tal
+    structure = self.engine.evaluateStructure(expr)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/PageTemplates/Expressions.py", line 195, in evaluateStructure
+    text = super(ZopeContext, self).evaluateStructure(expr)
+  File "/.../plone-coredev/eggs/zope.tales-3.4.0-py2.6.egg/zope/tales/tales.py", line 696, in evaluate
+    return expression(self)
+   - /.../plone-coredev/src/plone.app.portlets/plone/app/portlets/portlets/navigation.pt
+   - Line 40, Column 12
+   - Expression: <PathExpr standard:u'view/createNavTree'>
+   - Names:
+      {'args': (),
+       'container': <ATFolder at /plone/testfolder>,
+       'context': <ATFolder at /plone/testfolder>,
+       'default': <object object at 0xb8087590>,
+       'here': <ATFolder at /plone/testfolder>,
+       'loop': {},
+       'nothing': None,
+       'options': {},
+       'repeat': <Products.PageTemplates.Expressions.SafeMapping object at 0x12ed692c>,
+       'request': <HTTPRequest, URL=http://nohost>,
+       'root': <Application at >,
+       'template': <Products.Five.browser.pagetemplatefile.ViewPageTemplateFile object at 0xb53a56c>,
+       'traverse_subpath': [],
+       'user': <PropertiedUser 'portal_owner'>,
+       'view': <plone.app.portlets.portlets.navigation.Renderer object at 0x1239946c>,
+       'views': <Products.Five.browser.pagetemplatefile.ViewMapper object at 0x1239964c>}
+  File "/.../plone-coredev/eggs/zope.tales-3.4.0-py2.6.egg/zope/tales/expressions.py", line 217, in __call__
+    return self._eval(econtext)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/PageTemplates/Expressions.py", line 135, in _eval
+    return render(ob, econtext.vars)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/PageTemplates/Expressions.py", line 99, in render
+    ob = ob()
+  File "/.../plone-coredev/src/plone.app.portlets/plone/app/portlets/portlets/navigation.py", line 171, in createNavTree
+    return self.recurse(children=data.get('children', []), level=1, bottomLevel=bottomLevel)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/Five/browser/pagetemplatefile.py", line 126, in __call__
+    return self.im_func(im_self, *args, **kw)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/Five/browser/pagetemplatefile.py", line 60, in __call__
+    sourceAnnotations=getattr(debug_flags, 'sourceAnnotations', 0),
+  File "/.../plone-coredev/eggs/zope.pagetemplate-3.5.0-py2.6.egg/zope/pagetemplate/pagetemplate.py", line 115, in pt_render
+    strictinsert=0, sourceAnnotations=sourceAnnotations)()
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 271, in __call__
+    self.interpret(self.program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 533, in do_optTag_tal
+    self.do_optTag(stuff)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 518, in do_optTag
+    return self.no_tag(start, program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 513, in no_tag
+    self.interpret(program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 858, in do_defineMacro
+    self.interpret(macro)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 533, in do_optTag_tal
+    self.do_optTag(stuff)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 518, in do_optTag
+    return self.no_tag(start, program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 513, in no_tag
+    self.interpret(program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 821, in do_loop_tal
+    self.interpret(block)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 533, in do_optTag_tal
+    self.do_optTag(stuff)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 518, in do_optTag
+    return self.no_tag(start, program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 513, in no_tag
+    self.interpret(program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 852, in do_condition
+    self.interpret(block)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 533, in do_optTag_tal
+    self.do_optTag(stuff)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 518, in do_optTag
+    return self.no_tag(start, program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 513, in no_tag
+    self.interpret(program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 531, in do_optTag_tal
+    self.no_tag(stuff[-2], stuff[-1])
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 513, in no_tag
+    self.interpret(program)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 343, in interpret
+    handlers[opcode](self, args)
+  File "/.../plone-coredev/eggs/zope.tal-3.5.1-py2.6.egg/zope/tal/talinterpreter.py", line 742, in do_insertStructure_tal
+    structure = self.engine.evaluateStructure(expr)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/PageTemplates/Expressions.py", line 195, in evaluateStructure
+    text = super(ZopeContext, self).evaluateStructure(expr)
+  File "/.../plone-coredev/eggs/zope.tales-3.4.0-py2.6.egg/zope/tales/tales.py", line 696, in evaluate
+    return expression(self)
+   - /.../plone-coredev/src/plone.app.portlets/plone/app/portlets/portlets/navigation_recurse.pt
+   - Line 27, Column 12
+   - Expression: <PathExpr standard:u'item_icon/html_tag'>
+   - Names:
+      {'args': (),
+       'container': <ATFolder at /plone/testfolder>,
+       'context': <ATFolder at /plone/testfolder>,
+       'default': <object object at 0xb8087590>,
+       'here': <ATFolder at /plone/testfolder>,
+       'loop': {},
+       'nothing': None,
+       'options': {'bottomLevel': 0,
+                   'children': [{'Creator': 'portal_owner',
+                                 'Description': "Container for users' home directories",
+                                 'Title': 'Users',
+                                 '_pruneSubtree': True,
+                                 'absolute_url': 'http://nohost/plone/Members',
+                                 'children': [],
+                                 'creation_date': '2009-09-09 11:06:51',
+                                 'currentItem': False,
+                                 'currentParent': False,
+                                 'depth': 1,
+                                 'getRemoteUrl': Missing.Value,
+                                 'getURL': 'http://nohost/plone/Members',
+                                 'item': <Products.ZCatalog.Catalog.mybrains object at 0x1229b2ac>,
+                                 'item_icon': <plone.app.layout.icons.icons.CatalogBrainContentIcon object at 0x12aef0ec>,
+                                 'link_remote': Missing.Value,
+                                 'no_display': False,
+                                 'normalized_portal_type': 'large-plone-folder',
+                                 'normalized_review_state': 'visible',
+                                 'path': '/plone/Members',
+                                 'portal_type': 'Large Plone Folder',
+                                 'review_state': 'visible',
+                                 'show_children': False},
+                                {'Creator': 'portal_owner',
+                                 'Description': 'Site News',
+                                 'Title': 'News',
+                                 '_pruneSubtree': True,
+                                 'absolute_url': 'http://nohost/plone/news',
+                                 'children': [],
+                                 'creation_date': '2009-09-09 11:06:53',
+                                 'currentItem': False,
+                                 'currentParent': False,
+                                 'depth': 1,
+                                 'getRemoteUrl': Missing.Value,
+                                 'getURL': 'http://nohost/plone/news',
+                                 'item': <Products.ZCatalog.Catalog.mybrains object at 0x129e6504>,
+                                 'item_icon': <plone.app.layout.icons.icons.CatalogBrainContentIcon object at 0x12aef42c>,
+                                 'link_remote': Missing.Value,
+                                 'no_display': False,
+                                 'normalized_portal_type': 'large-plone-folder',
+                                 'normalized_review_state': 'visible',
+                                 'path': '/plone/news',
+                                 'portal_type': 'Large Plone Folder',
+                                 'review_state': 'visible',
+                                 'show_children': False},
+                                {'Creator': 'portal_owner',
+                                 'Description': 'Site Events',
+                                 'Title': 'Events',
+                                 '_pruneSubtree': True,
+                                 'absolute_url': 'http://nohost/plone/events',
+                                 'children': [],
+                                 'creation_date': '2009-09-09 11:06:53',
+                                 'currentItem': False,
+                                 'currentParent': False,
+                                 'depth': 1,
+                                 'getRemoteUrl': Missing.Value,
+                                 'getURL': 'http://nohost/plone/events',
+                                 'item': <Products.ZCatalog.Catalog.mybrains object at 0x129e6694>,
+                                 'item_icon': <plone.app.layout.icons.icons.CatalogBrainContentIcon object at 0x12aef54c>,
+                                 'link_remote': Missing.Value,
+                                 'no_display': False,
+                                 'normalized_portal_type': 'large-plone-folder',
+                                 'normalized_review_state': 'visible',
+                                 'path': '/plone/events',
+                                 'portal_type': 'Large Plone Folder',
+                                 'review_state': 'visible',
+                                 'show_children': False},
+                                {'Creator': 'portal_owner',
+                                 'Description': '',
+                                 'Title': 'testfolder',
+                                 'absolute_url': 'http://nohost/plone/testfolder',
+                                 'children': [],
+                                 'creation_date': '2009-09-09 11:22:45',
+                                 'currentItem': True,
+                                 'currentParent': False,
+                                 'depth': 1,
+                                 'getRemoteUrl': Missing.Value,
+                                 'getURL': 'http://nohost/plone/testfolder',
+                                 'item': <Products.ZCatalog.Catalog.mybrains object at 0x129e6a2c>,
+                                 'item_icon': <plone.app.layout.icons.icons.CatalogBrainContentIcon object at 0x12aef48c>,
+                                 'link_remote': Missing.Value,
+                                 'no_display': False,
+                                 'normalized_portal_type': 'folder',
+                                 'normalized_review_state': 'visible',
+                                 'path': '/plone/testfolder',
+                                 'portal_type': 'Folder',
+                                 'review_state': 'visible',
+                                 'show_children': True}],
+                   'level': 1},
+       'repeat': <Products.PageTemplates.Expressions.SafeMapping object at 0x12ed6e8c>,
+       'request': <HTTPRequest, URL=http://nohost>,
+       'root': <Application at >,
+       'template': <Products.Five.browser.pagetemplatefile.ViewPageTemplateFile object at 0xb53a42c>,
+       'traverse_subpath': [],
+       'user': <PropertiedUser 'portal_owner'>,
+       'view': <plone.app.portlets.portlets.navigation.Renderer object at 0x1239946c>,
+       'views': <Products.Five.browser.pagetemplatefile.ViewMapper object at 0x12b3866c>}
+  File "/.../plone-coredev/eggs/zope.tales-3.4.0-py2.6.egg/zope/tales/expressions.py", line 217, in __call__
+    return self._eval(econtext)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/PageTemplates/Expressions.py", line 127, in _eval
+    ob = self._subexprs[-1](econtext)
+  File "/.../plone-coredev/eggs/zope.tales-3.4.0-py2.6.egg/zope/tales/expressions.py", line 124, in _eval
+    ob = self._traverser(ob, element, econtext)
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/Products/PageTemplates/Expressions.py", line 79, in boboAwareZopeTraverse
+    request=request)
+  File "/.../plone-coredev/eggs/zope.traversing-3.7.1-py2.6.egg/zope/traversing/adapters.py", line 139, in traversePathElement
+    return traversable.traverse(nm, further_path)
+   - __traceback_info__: (u'<img width="16" height="16" src="http://nohost/plone/folder_icon.png" alt="Large Folder" />', 'html_tag')
+  File "/.../plone-coredev/eggs/zope.traversing-3.7.1-py2.6.egg/zope/traversing/adapters.py", line 53, in traverse
+    raise LocationError(subject, name)
+   - __traceback_info__: (u'<img width="16" height="16" src="http://nohost/plone/folder_icon.png" alt="Large Folder" />', 'html_tag', [])
+LocationError: (u'<img width="16" height="16" src="http://nohost/plone/folder_icon.png" alt="Large Folder" />', 'html_tag')
+
                   
-  Ran 13 tests with 0 failures and 0 errors in # seconds.
+  Ran 13 tests with 0 failures and 1 errors in # seconds.
 Running plone.app.linkintegrity.tests.layer.PloneLinkintegrity tests:
   Tear down plone.app.kss.tests.kss_and_plone_layer.KSSAndPloneLayer in # seconds.
   Set up plone.app.linkintegrity.tests.layer.PloneLinkintegrity in # seconds.
@@ -639,7 +1199,7 @@
   Ran 133 tests with 0 failures and 0 errors in # seconds.
 Tearing down left over layers:
   Tear down zope.testing.testrunner.layer.UnitTests in # seconds.
-Total: 2278 tests, 2 failures, 2 errors in # minutes # seconds.
+Total: 2277 tests, 7 failures, 5 errors in # minutes # seconds.
 #### Finished tests for group Plone ####
 
 #### Running tests for group PlonePAS ####
@@ -657,8 +1217,34 @@
   Set up Products.PloneTestCase.layer.PloneSite in # seconds.
   Set up Products.PlonePAS.tests.layer.PlonePASLayer in # seconds.
   Running:
+    114/148 (77.0%)
+
+Error in test test_bug4333_delete_user_remove_memberdata (Products.PlonePAS.tests.test_membershiptool.TestMembershipTool)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Products.PlonePAS/Products/PlonePAS/tests/test_membershiptool.py", line 442, in test_bug4333_delete_user_remove_memberdata
+    self.membership.deleteMembers(['barney'])
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteMembers
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 526, in deleteMembers
+    reindex=1, recursive=1 )
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/src/plone.protect/plone/protect/utils.py", line 43, in _curried
+    return callable(*args, **kw)
+  File "<string>", line 4, in deleteLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 472, in deleteLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
                     
-  Ran 148 tests with 0 failures and 0 errors in # seconds.
+  Ran 148 tests with 0 failures and 1 errors in # seconds.
 Running zope.testing.testrunner.layer.UnitTests tests:
   Tear down Products.PlonePAS.tests.layer.PlonePASLayer in # seconds.
   Tear down Products.PloneTestCase.layer.PloneSite in # seconds.
@@ -670,7 +1256,7 @@
   Ran 371 tests with 0 failures and 0 errors in # seconds.
 Tearing down left over layers:
   Tear down zope.testing.testrunner.layer.UnitTests in # seconds.
-Total: 722 tests, 0 failures, 0 errors in # minutes # seconds.
+Total: 722 tests, 0 failures, 1 errors in # minutes # seconds.
 #### Finished tests for group PlonePAS ####
 
 #### Running tests for group plone ####
@@ -707,19 +1293,19 @@
   import multifile
 
 
-Error in test /usr/local/lib/python/site-packages/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/README.txt
+Error in test /.../plone-coredev/eggs/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/README.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/tests.py", line 24, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/tests.py", line 24, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -729,15 +1315,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -747,21 +1333,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -771,25 +1357,25 @@
     from xml.xpath import Util, Conversions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/Conversions.py", line 22, in <module>
     from xml.utils import boolean
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name boolean
 
     78/260 (30.0%)
 
-Error in test /usr/local/lib/python/site-packages/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/zcml.txt
+Error in test /.../plone-coredev/eggs/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/zcml.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/tests.py", line 24, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.contentrules-1.1.0-py2.6.egg/plone/contentrules/tests.py", line 24, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -799,15 +1385,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -817,21 +1403,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -839,8 +1425,8 @@
     import CoreFunctions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/CoreFunctions.py", line 17, in <module>
     from xml.xpath import ExpandedNameWrapper
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name ExpandedNameWrapper
 
     259/260 (99.6%)Usage: A simple tool for basic configuration of Speech Dispatcher
@@ -869,17 +1455,17 @@
 test: error: no such option: --exit-with-status
 
 
-Failure in test /usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt
+Failure in test /.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
   File "/usr/lib/python2.6/doctest.py", line 2145, in runTest
     raise self.failureException(self.format_failure(new.getvalue()))
 AssertionError: Failed doctest test for dependency.txt
-  File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 0
+  File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 0
 
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 108, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 108, in dependency.txt
 Failed example:
     pprint(b_include_finder.includableInfo(['configure.zcml',
                                             'meta.zcml']))
@@ -889,9 +1475,9 @@
         compileflags, 1) in test.globs
       File "<doctest dependency.txt[25]>", line 2, in <module>
         'meta.zcml']))
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
         module = resolve(dotted_name)
-      File "/usr/local/lib/python/site-packages/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
+      File "/.../plone-coredev/eggs/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
         found = __import__(used)
       File "/usr/lib/python2.5/site-packages/speechd_config/__init__.py", line 17, in <module>
         from config import *
@@ -907,7 +1493,7 @@
         sys.exit(status)
     SystemExit: 2
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 126, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 126, in dependency.txt
 Failed example:
     dummy = xmlconfig.file(resource_filename('a', 'configure.zcml'),
                            package=a)
@@ -917,11 +1503,11 @@
         compileflags, 1) in test.globs
       File "<doctest dependency.txt[29]>", line 2, in <module>
         package=a)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 647, in file
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 647, in file
         include(context, name, package)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
         processxmlfile(f, context)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
         parser.parse(src)
       File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
         xmlreader.IncrementalParser.parse(self, source)
@@ -931,19 +1517,19 @@
         self._parser.Parse(data, isFinal)
       File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
         self._cont_handler.endElementNS(pair, None)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
         self.context.end()
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
         self.stack.pop().finish()
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
         actions = self.handler(context, **args)
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 54, in includeDependenciesDirective
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 54, in includeDependenciesDirective
         includeZCMLGroup(_context, info, 'configure.zcml')
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 30, in includeZCMLGroup
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 30, in includeZCMLGroup
         include(_context, filename, includable_package)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
         processxmlfile(f, context)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
         parser.parse(src)
       File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
         xmlreader.IncrementalParser.parse(self, source)
@@ -953,17 +1539,17 @@
         self._parser.Parse(data, isFinal)
       File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
         self._cont_handler.endElementNS(pair, None)
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
         self.context.end()
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
         self.stack.pop().finish()
-      File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+      File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
         actions = self.handler(context, **args)
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 51, in includeDependenciesDirective
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/zcml.py", line 51, in includeDependenciesDirective
         info = DependencyFinder(dist).includableInfo(['configure.zcml', 'meta.zcml'])
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
         module = resolve(dotted_name)
-      File "/usr/local/lib/python/site-packages/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
+      File "/.../plone-coredev/eggs/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
         found = __import__(used)
       File "/usr/lib/python2.5/site-packages/speechd_config/__init__.py", line 17, in <module>
         from config import *
@@ -979,7 +1565,7 @@
         sys.exit(status)
     SystemExit: 2
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 129, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 129, in dependency.txt
 Failed example:
     pprint(test_log)
 Expected:
@@ -989,7 +1575,7 @@
 Got:
     []
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 142, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 142, in dependency.txt
 Failed example:
     pprint(package_includes('BCPackage'))
 Exception raised:
@@ -998,11 +1584,11 @@
         compileflags, 1) in test.globs
       File "<doctest dependency.txt[33]>", line 1, in <module>
         pprint(package_includes('BCPackage'))
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 42, in package_includes
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 42, in package_includes
         return include_finder.includableInfo(zcml_filenames)
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
         module = resolve(dotted_name)
-      File "/usr/local/lib/python/site-packages/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
+      File "/.../plone-coredev/eggs/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
         found = __import__(used)
       File "/usr/lib/python2.5/site-packages/speechd_config/__init__.py", line 17, in <module>
         from config import *
@@ -1018,7 +1604,7 @@
         sys.exit(status)
     SystemExit: 2
 ----------------------------------------------------------------------
-File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 149, in dependency.txt
+File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/tests/../dependency.txt", line 149, in dependency.txt
 Failed example:
     pprint(package_includes('BCPackage', ['configure.zcml', 'silly.zcml']))
 Exception raised:
@@ -1027,11 +1613,11 @@
         compileflags, 1) in test.globs
       File "<doctest dependency.txt[34]>", line 1, in <module>
         pprint(package_includes('BCPackage', ['configure.zcml', 'silly.zcml']))
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 42, in package_includes
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 42, in package_includes
         return include_finder.includableInfo(zcml_filenames)
-      File "/usr/local/lib/python/site-packages/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
+      File "/.../plone-coredev/eggs/z3c.autoinclude-0.3.1-py2.6.egg/z3c/autoinclude/dependency.py", line 24, in includableInfo
         module = resolve(dotted_name)
-      File "/usr/local/lib/python/site-packages/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
+      File "/.../plone-coredev/eggs/zope.dottedname-3.4.5-py2.6.egg/zope/dottedname/resolve.py", line 32, in resolve
         found = __import__(used)
       File "/usr/lib/python2.5/site-packages/speechd_config/__init__.py", line 17, in <module>
         from config import *
@@ -1085,19 +1671,19 @@
   import multifile
 
 
-Error in test /usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/README.txt
+Error in test /.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/README.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1107,15 +1693,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1125,21 +1711,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -1149,25 +1735,25 @@
     from xml.xpath import Util, Conversions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/Conversions.py", line 22, in <module>
     from xml.utils import boolean
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name boolean
 
     45/54 (83.3%)
 
-Error in test /usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/uisupport.txt
+Error in test /.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/uisupport.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1177,15 +1763,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1195,21 +1781,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -1217,25 +1803,25 @@
     import CoreFunctions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/CoreFunctions.py", line 17, in <module>
     from xml.xpath import ExpandedNameWrapper
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name ExpandedNameWrapper
 
     51/54 (94.4%)
 
-Error in test /usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/utils.txt
+Error in test /.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/utils.txt
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 270, in run
     self.setUp()
-  File "/usr/local/lib/python/site-packages/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
+  File "/.../plone-coredev/eggs/zope.testing-3.7.7-py2.6.egg/zope/testing/doctest.py", line 2289, in setUp
     self._dt_setUp(test)
-  File "/usr/local/lib/python/site-packages/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
+  File "/.../plone-coredev/eggs/plone.portlets-1.2-py2.6.egg/plone/portlets/tests.py", line 40, in configurationSetUp
     XMLConfig('configure.zcml', zope.app.security)()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 703, in __init__
     include(context, file_name, module)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1245,15 +1831,15 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 364, in end_element_ns
     self._cont_handler.endElementNS(pair, None)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 357, in endElementNS
     self.context.end()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 537, in end
     self.stack.pop().finish()
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 685, in finish
     actions = self.handler(context, **args)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 546, in include
     processxmlfile(f, context)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 378, in processxmlfile
     parser.parse(src)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 109, in parse
     xmlreader.IncrementalParser.parse(self, source)
@@ -1263,21 +1849,21 @@
     self._parser.Parse(data, isFinal)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/sax/expatreader.py", line 353, in start_element_ns
     AttributesNSImpl(newattrs, qnames))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/xmlconfig.py", line 230, in startElementNS
     self.context.begin(name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 534, in begin
     self.stack.append(self.stack[-1].contained(__name, __data, __info))
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 835, in contained
     return RootStackItem.contained(self, name, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 706, in contained
     adapter = factory(self.context, data, info)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1179, in factory
     args = toargs(context, schema, data)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 1376, in toargs
     args[str(name)] = field.fromUnicode(s)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/fields.py", line 139, in fromUnicode
     value = self.context.resolve(name)
-  File "/usr/local/lib/python/site-packages/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
+  File "/.../plone-coredev/eggs/zope.configuration-3.6.0-py2.6.egg/zope/configuration/config.py", line 180, in resolve
     mod = __import__(mname, *_import_chickens)
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/__init__.py", line 105, in <module>
     import Context
@@ -1285,8 +1871,8 @@
     import CoreFunctions
   File "/usr/lib/python2.6/dist-packages/_xmlplus/xpath/CoreFunctions.py", line 17, in <module>
     from xml.xpath import ExpandedNameWrapper
-ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
-    ZopeXMLConfigurationError: File "/usr/local/lib/python/site-packages/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
+ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/configure.zcml", line 11.2-11.39
+    ZopeXMLConfigurationError: File "/.../plone-coredev/eggs/zope.app.security-3.7.0-py2.6.egg/zope/app/security/globalmodules.zcml", line 375.2
     ImportError: cannot import name ExpandedNameWrapper
 
                   
@@ -1323,8 +1909,38 @@
   Set up Products.CMFTestCase.layer.ZCML in # seconds.
   Set up Products.CMFTestCase.layer.CMFSite in # seconds.
   Running:
+    5/58 (8.6%)
+
+Error in test testDeleteLocalRoles (Products.CMFTestCase.testMembershipTool.TestMembershipTool)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Products.CMFTestCase/Products/CMFTestCase/testMembershipTool.py", line 220, in testDeleteLocalRoles
+    self.membership.setLocalRoles(self.folder, ['user2'], 'Reviewer')
+  File "<string>", line 4, in setLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 452, in setLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
+    18/58 (31.0%)
+
+Error in test testSetLocalRoles (Products.CMFTestCase.testMembershipTool.TestMembershipTool)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/Products.CMFTestCase/Products/CMFTestCase/testMembershipTool.py", line 214, in testSetLocalRoles
+    self.membership.setLocalRoles(self.folder, [default_user, 'user2'], 'Reviewer')
+  File "<string>", line 4, in setLocalRoles
+  File "/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/AccessControl/requestmethod.py", line 70, in _curried
+    return callable(*args, **kw)
+  File "/.../plone-coredev/src/Products.CMFCore/Products/CMFCore/MembershipTool.py", line 452, in setLocalRoles
+    obj.reindexObjectSecurity()
+AttributeError: reindexObjectSecurity
+
                   
-  Ran 58 tests with 0 failures and 0 errors in # seconds.
+  Ran 58 tests with 0 failures and 2 errors in # seconds.
 Tearing down left over layers:
   Tear down Products.CMFTestCase.layer.CMFSite in # seconds.
   Tear down Products.CMFTestCase.layer.ZCML in # seconds.
@@ -1365,7 +1981,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 18:36:01 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1393,7 +2009,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 18:36:01 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1403,7 +2019,7 @@
     + auth:Basic dGVzdF91c2VyXzFfOnNlY3JldA==
       cookie:
     - lock-token:...
-    + lock-token:0.529687803814-0.294267478982-00105A989226:1252527852.912
+    + lock-token:0.365642258174-0.287074370048-00105A989226:1252521361.462
       <BLANKLINE>
       some content
 ----------------------------------------------------------------------
@@ -1423,7 +2039,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 18:36:01 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1433,7 +2049,7 @@
     + auth:Basic dGVzdF91c2VyXzFfOnNlY3JldA==
       cookie:
     - lock-token:...
-    + lock-token:0.529687803814-0.294267478982-00105A989226:1252527852.912
+    + lock-token:0.365642258174-0.287074370048-00105A989226:1252521361.462
       borrow_lock:1
       <BLANKLINE>
       some content
@@ -1451,7 +2067,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 18:36:01 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1476,7 +2092,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 18:36:01 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/another-file
       meta_type:Side Effects
@@ -1500,7 +2116,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 18:36:01 GMT
       <BLANKLINE>
       url:http://localhost/test_folder_1_/some-file
       meta_type:File
@@ -1527,7 +2143,7 @@
     ?                                      ---------------------
     + Content-Type: application/x-zope-edit
     - Last-Modified:...
-    + Last-Modified: Wed, 09 Sep 2009 20:24:12 GMT
+    + Last-Modified: Wed, 09 Sep 2009 18:36:01 GMT
     + <BLANKLINE>
     +      -
     + 0=OPtnE[
@@ -1602,7 +2218,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1614,7 +2230,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1626,7 +2242,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1638,7 +2254,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1650,7 +2266,7 @@
 Traceback (most recent call last):
   File "/usr/lib/python2.6/unittest.py", line 279, in run
     testMethod()
-  File "/usr/local/lib/python/site-packages/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
+  File "/.../plone-coredev/eggs/Products.SecureMailHost-1.1.2-py2.6.egg/Products/SecureMailHost/tests/test_messages.py", line 77, in testMessage
     self.failUnlessEqual(m, o)
   File "/usr/lib/python2.6/unittest.py", line 350, in failUnlessEqual
     (msg or '%r != %r' % (first, second))
@@ -1677,7 +2293,7 @@
 #### Finished tests for Products.i18ntestcase ####
 
 #### Running tests for Products.kupu ####
-/usr/local/lib/python/site-packages/Products.i18ntestcase-1.2-py2.6.egg/Products/i18ntestcase/PotTestCase.py:13: DeprecationWarning: The popen2 module is deprecated.  Use the subprocess module.
+/.../plone-coredev/eggs/Products.i18ntestcase-1.2-py2.6.egg/Products/i18ntestcase/PotTestCase.py:13: DeprecationWarning: The popen2 module is deprecated.  Use the subprocess module.
   from popen2 import popen4
 Running Testing.ZopeTestCase.layer.ZopeLite tests:
   Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
@@ -1836,6 +2452,20 @@
 Total: 47 tests, 0 failures, 0 errors in # seconds.
 #### Finished tests for kss.core ####
 
+#### Running tests for plone.app.contentlisting ####
+Running Products.PloneTestCase.layer.PloneSite tests:
+  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Products.PloneTestCase.layer.ZCML in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Running:
+                  
+  Ran 25 tests with 0 failures and 0 errors in # seconds.
+Tearing down left over layers:
+  Tear down Products.PloneTestCase.layer.PloneSite in # seconds.
+  Tear down Products.PloneTestCase.layer.ZCML in # seconds.
+  Tear down Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+#### Finished tests for plone.app.contentlisting ####
+
 #### Running tests for plone.app.locales ####
 Total: 0 tests, 0 failures, 0 errors in # seconds.
 #### Finished tests for plone.app.locales ####
@@ -1854,6 +2484,44 @@
   Tear down Testing.ZopeTestCase.layer.ZopeLite in # seconds.
 #### Finished tests for plone.app.openid ####
 
+#### Running tests for plone.app.search ####
+Running Products.PloneTestCase.layer.PloneSite tests:
+  Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+  Set up Products.PloneTestCase.layer.ZCML in # seconds.
+  Set up Products.PloneTestCase.layer.PloneSite in # seconds.
+  Running:
+    2/4 (50.0%)testing performance with 1000 pages
+********************
+old search page vs new search page
+0.264065980911 vs 0.566802978516
+********************
+214.64445233% time usage
+
+
+Failure in test test_performance_for_1000_items (plone.app.search.tests.test_search_performance.TestSetup)
+Traceback (most recent call last):
+  File "/usr/lib/python2.6/unittest.py", line 279, in run
+    testMethod()
+  File "/.../plone-coredev/src/plone.app.search/plone/app/search/tests/test_search_performance.py", line 162, in test_performance_for_1000_items
+    self.failUnless((old_time*1.1) > new_time, "the new search results page is slower than the old search results page")
+  File "/usr/lib/python2.6/unittest.py", line 325, in failUnless
+    if not expr: raise self.failureException, msg
+AssertionError: the new search results page is slower than the old search results page
+
+    3/4 (75.0%)testing performance with 100 pages
+********************
+old search page vs new search page
+0.223999977112 vs 0.238936185837
+********************
+106.667951005% time usage
+                
+  Ran 4 tests with 1 failures and 0 errors in # minutes # seconds.
+Tearing down left over layers:
+  Tear down Products.PloneTestCase.layer.PloneSite in # seconds.
+  Tear down Products.PloneTestCase.layer.ZCML in # seconds.
+  Tear down Testing.ZopeTestCase.layer.ZopeLite in # seconds.
+#### Finished tests for plone.app.search ####
+
 #### Running tests for wicked ####
 Running Products.PloneTestCase.layer.ZCML tests:
   Set up Testing.ZopeTestCase.layer.ZopeLite in # seconds.
@@ -1869,11 +2537,11 @@
  in # seconds.
   Set up wicked.at.tests.wickedtestcase.WickedSite in # seconds.
   Running:
-    1/23 (4.3%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_afterAdd is discouraged. You should use event subscribers instead.
+    1/23 (4.3%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_afterAdd is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    5/23 (21.7%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_beforeDelete is discouraged. You should use event subscribers instead.
+    5/23 (21.7%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_beforeDelete is discouraged. You should use event subscribers instead.
   DeprecationWarning)
-    13/23 (56.5%)/.../plone-coredev/src/Zope2/src/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_afterClone is discouraged. You should use event subscribers instead.
+    13/23 (56.5%)/.../plone-coredev/eggs/Zope2-2.12.0c1-py2.6-linux-i686.egg/OFS/subscribers.py:73: DeprecationWarning: wicked.atcontent.ironicwiki.IronicWiki.manage_afterClone is discouraged. You should use event subscribers instead.
   DeprecationWarning)
                   
   Ran 23 tests with 0 failures and 0 errors in # seconds.
@@ -1914,29 +2582,34 @@
 
 Total time elapsed: # seconds
 
-Failing tests in group ATCT
 Failing tests in group Archetypes
 Failing tests in group Plone
+Failing tests in group PlonePAS
 Failing tests in group plone
 Failing tests in group portlets
+Failing tests in Products.CMFTestCase
 Failing tests in Products.ExternalEditor
 Failing tests in Products.SecureMailHost
 Failing tests in Products.kupu
+Failing tests in plone.app.search
 #### End test results ####
 
-$ grep ' [1-9][0-9]* \(failures\|errors\)' plips/plipbase-review-rossp-tests.txt
-  Ran 701 tests with 0 failures and 2 errors in # minutes # seconds.
-Total: 732 tests, 0 failures, 2 errors in # minutes # seconds.
+$ grep ' [1-9][0-9]* \(failures\|errors\)' plips/plip9352-review-rossp-tests.log
   Ran 511 tests with 4 failures and 0 errors in # minutes # seconds.
   Ran 22 tests with 3 failures and 0 errors in # seconds.
 Total: 675 tests, 7 failures, 0 errors in # minutes # seconds.
-  Ran 1777 tests with 2 failures and 2 errors in # minutes # seconds.
-Total: 2278 tests, 2 failures, 2 errors in # minutes # seconds.
+  Ran 1776 tests with 7 failures and 4 errors in # minutes # seconds.
+  Ran 13 tests with 0 failures and 1 errors in # seconds.
+Total: 2277 tests, 7 failures, 5 errors in # minutes # seconds.
+  Ran 148 tests with 0 failures and 1 errors in # seconds.
+Total: 722 tests, 0 failures, 1 errors in # minutes # seconds.
   Ran 260 tests with 1 failures and 2 errors in # minutes # seconds.
 Total: 310 tests, 1 failures, 2 errors in # minutes # seconds.
   Ran 54 tests with 0 failures and 3 errors in # seconds.
 Total: 236 tests, 0 failures, 3 errors in # minutes # seconds.
+  Ran 58 tests with 0 failures and 2 errors in # seconds.
   Ran 16 tests with 1 failures and 0 errors in # seconds.
   Ran 8 tests with 5 failures and 0 errors in # seconds.
   Ran 371 tests with 4 failures and 0 errors in # minutes # seconds.
 Total: 382 tests, 4 failures, 0 errors in # minutes # seconds.
+  Ran 4 tests with 1 failures and 0 errors in # minutes # seconds.

Diff finished.  Wed Sep  9 15:29:05 2009
