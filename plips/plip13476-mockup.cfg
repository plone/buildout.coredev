[buildout]
extends =
    plipbase.cfg
    https://raw.github.com/plone/buildout.jenkins/master/jenkins.cfg
    https://raw.github.com/plone/plone.app.widgets/master/versions.cfg
auto-checkout +=
    Products.ATContentTypes
    Products.CMFPlone
    plone.app.collection
    plone.app.contenttypes
    plone.app.dexterity
    plone.app.event
    plone.app.relationfield
    plone.app.widgets
    plone.app.z3cform
    plone.app.testing
auto-checkout -=
    archetypes.querywidget
    archetypes.referencebrowserwidget
    plone.formwidget.datetime

test-eggs +=
    z3c.relationfield [test]
    plone.app.widgets [test]
test-eggs -=
    archetypes.querywidget
    archetypes.referencebrowserwidget
    plone.formwidget.datetime [archetypes,z3cform,test]

jenkins-test-eggs = ${buildout:test-eggs}

parts +=
    jenkins-alltests

[instance]
eggs +=
    Pillow
    Plone
    plone.app.widgets[archetypes,dexterity]

[test]
eggs +=
    plone.app.widgets[test]

[test-groups]
Plone +=
    plone.app.widgets
PloneTestCase -=
    archetypes.referencebrowserwidget
plone_app_testing -=
    archetypes.querywidget

[jenkins-alltests]
recipe = plone.recipe.alltests
package-map = ${alltests:package-map}
groups = ${alltests:groups}
exclude = ${alltests:exclude}
test-script = ${buildout:bin-directory}/jenkins-test

[sources]
plone.app.z3cform = git ${remotes:plone}/plone.app.z3cform.git pushurl=${remotes:plone_push}/plone.app.z3cform.git branch=barceloneta
Products.CMFPlone = git ${remotes:plone}/Products.CMFPlone.git pushurl=${remotes:plone_push}/Products.CMFPlone.git branch=main_template-remove

plone.app.event = git ${remotes:plone}/plone.app.event.git pushurl=${remotes:plone_push}/plone.app.event.git branch=plip13476-mockup
plone.app.dexterity = git ${remotes:plone}/plone.app.dexterity.git pushurl=${remotes:plone_push}/plone.app.dexterity.git branch=plip13476-mockup
Products.ATContentTypes = git ${remotes:plone}/Products.ATContentTypes.git pushurl=${remotes:plone_push}/Products.ATContentTypes.git branch=mockup-issue-220
plone.app.collection = git ${remotes:plone}/plone.app.collection.git pushurl=${remotes:plone_push}/plone.app.collection.git branch=mockup-issue-220
plone.app.contenttypes = git ${remotes:plone}/plone.app.contenttypes.git pushurl=${remotes:plone_push}/plone.app.contenttypes.git branch=mockup-issue-220
plone.app.dexterity = git ${remotes:plone}/plone.app.dexterity.git pushurl=${remotes:plone_push}/plone.app.dexterity.git branch=plip13476-mockup
plone.app.relationfield = git ${remotes:plone}/plone.app.relationfield.git pushurl=${remotes:plone_push}/plone.app.relationfield.git branch=mockup-issue-220
plone.formwidget.recurrence = git ${remotes:plone}/plone.formwidget.recurrence.git pushurl=${remotes:plone_push}/plone.formwidget.recurrence.git branch=mockup-issue-220
plone.app.upgrade = git ${remotes:plone}/plone.app.upgrade.git pushurl=${remotes:plone_push}/plone.app.upgrade.git branch=mockup-issue-221
plone.app.testing = git ${remotes:plone}/plone.app.testing.git pushurl=${remotes:plone_push}/plone.app.testing.git branch=barceloneta

[versions]
